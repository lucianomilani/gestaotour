var LI=Object.defineProperty;var $I=(e,t,r)=>t in e?LI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tg=(e,t,r)=>$I(e,typeof t!="symbol"?t+"":t,r);function RA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Tn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zI(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Pg={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function BI(){if(vS)return Jl;vS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:n,key:l,ref:i!==void 0?i:null,props:s}}return Jl.Fragment=t,Jl.jsx=r,Jl.jsxs=r,Jl}var yS;function UI(){return yS||(yS=1,Pg.exports=BI()),Pg.exports}var d=UI(),Dg={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function qI(){if(bS)return Ae;bS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function E(R,G,H){this.props=R,this.context=G,this.refs=_,this.updater=H||j}E.prototype.isReactComponent={},E.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function N(){}N.prototype=E.prototype;function k(R,G,H){this.props=R,this.context=G,this.refs=_,this.updater=H||j}var T=k.prototype=new N;T.constructor=k,S(T,E.prototype),T.isPureReactComponent=!0;var A=Array.isArray;function D(){}var I={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function Y(R,G,H){var se=H.ref;return{$$typeof:e,type:R,key:G,ref:se!==void 0?se:null,props:H}}function re(R,G){return Y(R.type,G,R.props)}function U(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function P(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(H){return G[H]})}var B=/\/+/g;function K(R,G){return typeof R=="object"&&R!==null&&R.key!=null?P(""+R.key):G.toString(36)}function q(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(D,D):(R.status="pending",R.then(function(G){R.status==="pending"&&(R.status="fulfilled",R.value=G)},function(G){R.status==="pending"&&(R.status="rejected",R.reason=G)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function M(R,G,H,se,he){var le=typeof R;(le==="undefined"||le==="boolean")&&(R=null);var ne=!1;if(R===null)ne=!0;else switch(le){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(R.$$typeof){case e:case t:ne=!0;break;case p:return ne=R._init,M(ne(R._payload),G,H,se,he)}}if(ne)return he=he(R),ne=se===""?"."+K(R,0):se,A(he)?(H="",ne!=null&&(H=ne.replace(B,"$&/")+"/"),M(he,G,H,"",function(ge){return ge})):he!=null&&(U(he)&&(he=re(he,H+(he.key==null||R&&R.key===he.key?"":(""+he.key).replace(B,"$&/")+"/")+ne)),G.push(he)),1;ne=0;var me=se===""?".":se+":";if(A(R))for(var ee=0;ee<R.length;ee++)se=R[ee],le=me+K(se,ee),ne+=M(se,G,H,le,he);else if(ee=b(R),typeof ee=="function")for(R=ee.call(R),ee=0;!(se=R.next()).done;)se=se.value,le=me+K(se,ee++),ne+=M(se,G,H,le,he);else if(le==="object"){if(typeof R.then=="function")return M(q(R),G,H,se,he);throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ne}function L(R,G,H){if(R==null)return R;var se=[],he=0;return M(R,se,"","",function(le){return G.call(H,le,he++)}),se}function V(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(H){(R._status===0||R._status===-1)&&(R._status=1,R._result=H)},function(H){(R._status===0||R._status===-1)&&(R._status=2,R._result=H)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var X=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ce={map:L,forEach:function(R,G,H){L(R,function(){G.apply(this,arguments)},H)},count:function(R){var G=0;return L(R,function(){G++}),G},toArray:function(R){return L(R,function(G){return G})||[]},only:function(R){if(!U(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ae.Activity=g,Ae.Children=ce,Ae.Component=E,Ae.Fragment=r,Ae.Profiler=i,Ae.PureComponent=k,Ae.StrictMode=n,Ae.Suspense=f,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(R){return I.H.useMemoCache(R)}},Ae.cache=function(R){return function(){return R.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(R,G,H){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var se=S({},R.props),he=R.key;if(G!=null)for(le in G.key!==void 0&&(he=""+G.key),G)!W.call(G,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&G.ref===void 0||(se[le]=G[le]);var le=arguments.length-2;if(le===1)se.children=H;else if(1<le){for(var ne=Array(le),me=0;me<le;me++)ne[me]=arguments[me+2];se.children=ne}return Y(R.type,he,se)},Ae.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},Ae.createElement=function(R,G,H){var se,he={},le=null;if(G!=null)for(se in G.key!==void 0&&(le=""+G.key),G)W.call(G,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(he[se]=G[se]);var ne=arguments.length-2;if(ne===1)he.children=H;else if(1<ne){for(var me=Array(ne),ee=0;ee<ne;ee++)me[ee]=arguments[ee+2];he.children=me}if(R&&R.defaultProps)for(se in ne=R.defaultProps,ne)he[se]===void 0&&(he[se]=ne[se]);return Y(R,le,he)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(R){return{$$typeof:u,render:R}},Ae.isValidElement=U,Ae.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:V}},Ae.memo=function(R,G){return{$$typeof:m,type:R,compare:G===void 0?null:G}},Ae.startTransition=function(R){var G=I.T,H={};I.T=H;try{var se=R(),he=I.S;he!==null&&he(H,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(D,X)}catch(le){X(le)}finally{G!==null&&H.types!==null&&(G.types=H.types),I.T=G}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(R){return I.H.use(R)},Ae.useActionState=function(R,G,H){return I.H.useActionState(R,G,H)},Ae.useCallback=function(R,G){return I.H.useCallback(R,G)},Ae.useContext=function(R){return I.H.useContext(R)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(R,G){return I.H.useDeferredValue(R,G)},Ae.useEffect=function(R,G){return I.H.useEffect(R,G)},Ae.useEffectEvent=function(R){return I.H.useEffectEvent(R)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(R,G,H){return I.H.useImperativeHandle(R,G,H)},Ae.useInsertionEffect=function(R,G){return I.H.useInsertionEffect(R,G)},Ae.useLayoutEffect=function(R,G){return I.H.useLayoutEffect(R,G)},Ae.useMemo=function(R,G){return I.H.useMemo(R,G)},Ae.useOptimistic=function(R,G){return I.H.useOptimistic(R,G)},Ae.useReducer=function(R,G,H){return I.H.useReducer(R,G,H)},Ae.useRef=function(R){return I.H.useRef(R)},Ae.useState=function(R){return I.H.useState(R)},Ae.useSyncExternalStore=function(R,G,H){return I.H.useSyncExternalStore(R,G,H)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var xS;function Uo(){return xS||(xS=1,Dg.exports=qI()),Dg.exports}var w=Uo();const vf=Tn(w),HI=RA({__proto__:null,default:vf},[w]);var Mg={exports:{}},Zl={},Rg={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function KI(){return wS||(wS=1,(function(e){function t(M,L){var V=M.length;M.push(L);e:for(;0<V;){var X=V-1>>>1,ce=M[X];if(0<i(ce,L))M[X]=L,M[V]=ce,V=X;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var L=M[0],V=M.pop();if(V!==L){M[0]=V;e:for(var X=0,ce=M.length,R=ce>>>1;X<R;){var G=2*(X+1)-1,H=M[G],se=G+1,he=M[se];if(0>i(H,V))se<ce&&0>i(he,H)?(M[X]=he,M[se]=V,X=se):(M[X]=H,M[G]=V,X=G);else if(se<ce&&0>i(he,V))M[X]=he,M[se]=V,X=se;else break e}}return L}function i(M,L){var V=M.sortIndex-L.sortIndex;return V!==0?V:M.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],m=[],p=1,g=null,y=3,b=!1,j=!1,S=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function T(M){for(var L=r(m);L!==null;){if(L.callback===null)n(m);else if(L.startTime<=M)n(m),L.sortIndex=L.expirationTime,t(f,L);else break;L=r(m)}}function A(M){if(S=!1,T(M),!j)if(r(f)!==null)j=!0,D||(D=!0,P());else{var L=r(m);L!==null&&q(A,L.startTime-M)}}var D=!1,I=-1,W=5,Y=-1;function re(){return _?!0:!(e.unstable_now()-Y<W)}function U(){if(_=!1,D){var M=e.unstable_now();Y=M;var L=!0;try{e:{j=!1,S&&(S=!1,N(I),I=-1),b=!0;var V=y;try{t:{for(T(M),g=r(f);g!==null&&!(g.expirationTime>M&&re());){var X=g.callback;if(typeof X=="function"){g.callback=null,y=g.priorityLevel;var ce=X(g.expirationTime<=M);if(M=e.unstable_now(),typeof ce=="function"){g.callback=ce,T(M),L=!0;break t}g===r(f)&&n(f),T(M)}else n(f);g=r(f)}if(g!==null)L=!0;else{var R=r(m);R!==null&&q(A,R.startTime-M),L=!1}}break e}finally{g=null,y=V,b=!1}L=void 0}}finally{L?P():D=!1}}}var P;if(typeof k=="function")P=function(){k(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=U,P=function(){K.postMessage(null)}}else P=function(){E(U,0)};function q(M,L){I=E(function(){M(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(M){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var V=y;y=L;try{return M()}finally{y=V}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=y;y=M;try{return L()}finally{y=V}},e.unstable_scheduleCallback=function(M,L,V){var X=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?X+V:X):V=X,M){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=V+ce,M={id:p++,callback:L,priorityLevel:M,startTime:V,expirationTime:ce,sortIndex:-1},V>X?(M.sortIndex=V,t(m,M),r(f)===null&&M===r(m)&&(S?(N(I),I=-1):S=!0,q(A,V-X))):(M.sortIndex=ce,t(f,M),j||b||(j=!0,D||(D=!0,P()))),M},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(M){var L=y;return function(){var V=y;y=L;try{return M.apply(this,arguments)}finally{y=V}}}})(Ig)),Ig}var _S;function GI(){return _S||(_S=1,Rg.exports=KI()),Rg.exports}var Lg={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS;function FI(){if(jS)return sr;jS=1;var e=Uo();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:m,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,sr.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return s(f,m,null,p)},sr.flushSync=function(f){var m=l.T,p=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=m,n.p=p,n.d.f()}},sr.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},sr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},sr.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&n.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sr.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},sr.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin);n.d.L(f,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sr.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=u(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},sr.requestFormReset=function(f){n.d.r(f)},sr.unstable_batchedUpdates=function(f,m){return f(m)},sr.useFormState=function(f,m,p){return l.H.useFormState(f,m,p)},sr.useFormStatus=function(){return l.H.useHostTransitionStatus()},sr.version="19.2.0",sr}var SS;function IA(){if(SS)return Lg.exports;SS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lg.exports=FI(),Lg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS;function YI(){if(kS)return Zl;kS=1;var e=GI(),t=Uo(),r=IA();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(n(188))}function m(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var c=a,h=o;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return f(v),a;if(x===h)return f(v),o;x=x.sibling}throw Error(n(188))}if(c.return!==h.return)c=v,h=x;else{for(var O=!1,C=v.child;C;){if(C===c){O=!0,c=v,h=x;break}if(C===h){O=!0,h=v,c=x;break}C=C.sibling}if(!O){for(C=x.child;C;){if(C===c){O=!0,c=x,h=v;break}if(C===h){O=!0,h=x,c=v;break}C=C.sibling}if(!O)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function K(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList";case Y:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case j:return"Portal";case k:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case T:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return o=a.displayName||null,o!==null?o:K(a.type)||"Memo";case W:o=a._payload,a=a._init;try{return K(a(o))}catch{}}return null}var q=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},X=[],ce=-1;function R(a){return{current:a}}function G(a){0>ce||(a.current=X[ce],X[ce]=null,ce--)}function H(a,o){ce++,X[ce]=a.current,a.current=o}var se=R(null),he=R(null),le=R(null),ne=R(null);function me(a,o){switch(H(le,o),H(he,a),H(se,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?B1(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=B1(o),a=U1(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}G(se),H(se,a)}function ee(){G(se),G(he),G(le)}function ge(a){a.memoizedState!==null&&H(ne,a);var o=se.current,c=U1(o,a.type);o!==c&&(H(he,a),H(se,c))}function Oe(a){he.current===a&&(G(se),G(he)),ne.current===a&&(G(ne),Vl._currentValue=V)}var de,vt;function Pe(a){if(de===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);de=o&&o[1]||"",vt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+a+vt}var wt=!1;function _t(a,o){if(!a||wt)return"";wt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var te=ae}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(ae){te=ae}a.call(ue.prototype)}}else{try{throw Error()}catch(ae){te=ae}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),O=x[0],C=x[1];if(O&&C){var $=O.split(`
`),J=C.split(`
`);for(v=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(h===$.length||v===J.length)for(h=$.length-1,v=J.length-1;1<=h&&0<=v&&$[h]!==J[v];)v--;for(;1<=h&&0<=v;h--,v--)if($[h]!==J[v]){if(h!==1||v!==1)do if(h--,v--,0>v||$[h]!==J[v]){var ie=`
`+$[h].replace(" at new "," at ");return a.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",a.displayName)),ie}while(1<=h&&0<=v);break}}}finally{wt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Pe(c):""}function vn(a,o){switch(a.tag){case 26:case 27:case 5:return Pe(a.type);case 16:return Pe("Lazy");case 13:return a.child!==o&&o!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return _t(a.type,!1);case 11:return _t(a.type.render,!1);case 1:return _t(a.type,!0);case 31:return Pe("Activity");default:return""}}function Oi(a){try{var o="",c=null;do o+=vn(a,c),c=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var rl=Object.prototype.hasOwnProperty,nl=e.unstable_scheduleCallback,al=e.unstable_cancelCallback,fu=e.unstable_shouldYield,hu=e.unstable_requestPaint,fr=e.unstable_now,mu=e.unstable_getCurrentPriorityLevel,il=e.unstable_ImmediatePriority,fe=e.unstable_UserBlockingPriority,pe=e.unstable_NormalPriority,Je=e.unstable_LowPriority,hr=e.unstable_IdlePriority,ym=e.log,sl=e.unstable_setDisableYieldValue,Xr=null,Dr=null;function $a(a){if(typeof ym=="function"&&sl(a),Dr&&typeof Dr.setStrictMode=="function")try{Dr.setStrictMode(Xr,a)}catch{}}var Mr=Math.clz32?Math.clz32:jR,wR=Math.log,_R=Math.LN2;function jR(a){return a>>>=0,a===0?32:31-(wR(a)/_R|0)|0}var pu=256,gu=262144,vu=4194304;function Ai(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function yu(a,o,c){var h=a.pendingLanes;if(h===0)return 0;var v=0,x=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var C=h&134217727;return C!==0?(h=C&~x,h!==0?v=Ai(h):(O&=C,O!==0?v=Ai(O):c||(c=C&~a,c!==0&&(v=Ai(c))))):(C=h&~x,C!==0?v=Ai(C):O!==0?v=Ai(O):c||(c=h&~a,c!==0&&(v=Ai(c)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:v}function ol(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function SR(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ww(){var a=vu;return vu<<=1,(vu&62914560)===0&&(vu=4194304),a}function bm(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function ll(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function kR(a,o,c,h,v,x){var O=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var C=a.entanglements,$=a.expirationTimes,J=a.hiddenUpdates;for(c=O&~c;0<c;){var ie=31-Mr(c),ue=1<<ie;C[ie]=0,$[ie]=-1;var te=J[ie];if(te!==null)for(J[ie]=null,ie=0;ie<te.length;ie++){var ae=te[ie];ae!==null&&(ae.lane&=-536870913)}c&=~ue}h!==0&&_w(a,h,0),x!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=x&~(O&~o))}function _w(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-Mr(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function jw(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var h=31-Mr(c),v=1<<h;v&o|a[h]&o&&(a[h]|=o),c&=~v}}function Sw(a,o){var c=o&-o;return c=(c&42)!==0?1:xm(c),(c&(a.suspendedLanes|o))!==0?0:c}function xm(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function kw(){var a=L.p;return a!==0?a:(a=window.event,a===void 0?32:uS(a.type))}function Ew(a,o){var c=L.p;try{return L.p=a,o()}finally{L.p=c}}var za=Math.random().toString(36).slice(2),Zt="__reactFiber$"+za,br="__reactProps$"+za,js="__reactContainer$"+za,_m="__reactEvents$"+za,ER="__reactListeners$"+za,NR="__reactHandles$"+za,Nw="__reactResources$"+za,cl="__reactMarker$"+za;function jm(a){delete a[Zt],delete a[br],delete a[_m],delete a[ER],delete a[NR]}function Ss(a){var o=a[Zt];if(o)return o;for(var c=a.parentNode;c;){if(o=c[js]||c[Zt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=V1(a);a!==null;){if(c=a[Zt])return c;a=V1(a)}return o}a=c,c=a.parentNode}return null}function ks(a){if(a=a[Zt]||a[js]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ul(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function Es(a){var o=a[Nw];return o||(o=a[Nw]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Gt(a){a[cl]=!0}var Ow=new Set,Aw={};function Ci(a,o){Ns(a,o),Ns(a+"Capture",o)}function Ns(a,o){for(Aw[a]=o,a=0;a<o.length;a++)Ow.add(o[a])}var OR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cw={},Tw={};function AR(a){return rl.call(Tw,a)?!0:rl.call(Cw,a)?!1:OR.test(a)?Tw[a]=!0:(Cw[a]=!0,!1)}function bu(a,o,c){if(AR(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function xu(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function Xn(a,o,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+h)}}function Qr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Pw(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function CR(a,o,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,x=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(O){c=""+O,x.call(this,O)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Sm(a){if(!a._valueTracker){var o=Pw(a)?"checked":"value";a._valueTracker=CR(a,o,""+a[o])}}function Dw(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return a&&(h=Pw(a)?a.checked?"true":"false":a.value),a=h,a!==c?(o.setValue(a),!0):!1}function wu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var TR=/[\n"\\]/g;function Jr(a){return a.replace(TR,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function km(a,o,c,h,v,x,O,C){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),o!=null?O==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Qr(o)):a.value!==""+Qr(o)&&(a.value=""+Qr(o)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),o!=null?Em(a,O,Qr(o)):c!=null?Em(a,O,Qr(c)):h!=null&&a.removeAttribute("value"),v==null&&x!=null&&(a.defaultChecked=!!x),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.name=""+Qr(C):a.removeAttribute("name")}function Mw(a,o,c,h,v,x,O,C){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){Sm(a);return}c=c!=null?""+Qr(c):"",o=o!=null?""+Qr(o):c,C||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=C?a.checked:!!h,a.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),Sm(a)}function Em(a,o,c){o==="number"&&wu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Os(a,o,c,h){if(a=a.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=o.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&h&&(a[c].defaultSelected=!0)}else{for(c=""+Qr(c),o=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function Rw(a,o,c){if(o!=null&&(o=""+Qr(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Qr(c):""}function Iw(a,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(n(92));if(q(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Qr(o),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),Sm(a)}function As(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var PR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lw(a,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,c):typeof c!="number"||c===0||PR.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function $w(a,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&c[v]!==h&&Lw(a,v,h)}else for(var x in o)o.hasOwnProperty(x)&&Lw(a,x,o[x])}function Nm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _u(a){return MR.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Qn(){}var Om=null;function Am(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Cs=null,Ts=null;function zw(a){var o=ks(a);if(o&&(a=o.stateNode)){var c=a[br]||null;e:switch(a=o.stateNode,o.type){case"input":if(km(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Jr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==a&&h.form===a.form){var v=h[br]||null;if(!v)throw Error(n(90));km(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===a.form&&Dw(h)}break e;case"textarea":Rw(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Os(a,!!c.multiple,o,!1)}}}var Cm=!1;function Bw(a,o,c){if(Cm)return a(o,c);Cm=!0;try{var h=a(o);return h}finally{if(Cm=!1,(Cs!==null||Ts!==null)&&(cd(),Cs&&(o=Cs,a=Ts,Ts=Cs=null,zw(o),a)))for(o=0;o<a.length;o++)zw(a[o])}}function dl(a,o){var c=a.stateNode;if(c===null)return null;var h=c[br]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=!1;if(Jn)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){Tm=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Tm=!1}var Ba=null,Pm=null,ju=null;function Uw(){if(ju)return ju;var a,o=Pm,c=o.length,h,v="value"in Ba?Ba.value:Ba.textContent,x=v.length;for(a=0;a<c&&o[a]===v[a];a++);var O=c-a;for(h=1;h<=O&&o[c-h]===v[x-h];h++);return ju=v.slice(a,1<h?1-h:void 0)}function Su(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ku(){return!0}function qw(){return!1}function xr(a){function o(c,h,v,x,O){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var C in a)a.hasOwnProperty(C)&&(c=a[C],this[C]=c?c(x):x[C]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ku:qw,this.isPropagationStopped=qw,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ku)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ku)},persist:function(){},isPersistent:ku}),o}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eu=xr(Ti),hl=g({},Ti,{view:0,detail:0}),RR=xr(hl),Dm,Mm,ml,Nu=g({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Im,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ml&&(ml&&a.type==="mousemove"?(Dm=a.screenX-ml.screenX,Mm=a.screenY-ml.screenY):Mm=Dm=0,ml=a),Dm)},movementY:function(a){return"movementY"in a?a.movementY:Mm}}),Hw=xr(Nu),IR=g({},Nu,{dataTransfer:0}),LR=xr(IR),$R=g({},hl,{relatedTarget:0}),Rm=xr($R),zR=g({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),BR=xr(zR),UR=g({},Ti,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),qR=xr(UR),HR=g({},Ti,{data:0}),Kw=xr(HR),KR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YR(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=FR[a])?!!o[a]:!1}function Im(){return YR}var VR=g({},hl,{key:function(a){if(a.key){var o=KR[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Su(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?GR[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Im,charCode:function(a){return a.type==="keypress"?Su(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Su(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),WR=xr(VR),XR=g({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gw=xr(XR),QR=g({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Im}),JR=xr(QR),ZR=g({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),e3=xr(ZR),t3=g({},Nu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),r3=xr(t3),n3=g({},Ti,{newState:0,oldState:0}),a3=xr(n3),i3=[9,13,27,32],Lm=Jn&&"CompositionEvent"in window,pl=null;Jn&&"documentMode"in document&&(pl=document.documentMode);var s3=Jn&&"TextEvent"in window&&!pl,Fw=Jn&&(!Lm||pl&&8<pl&&11>=pl),Yw=" ",Vw=!1;function Ww(a,o){switch(a){case"keyup":return i3.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ps=!1;function o3(a,o){switch(a){case"compositionend":return Xw(o);case"keypress":return o.which!==32?null:(Vw=!0,Yw);case"textInput":return a=o.data,a===Yw&&Vw?null:a;default:return null}}function l3(a,o){if(Ps)return a==="compositionend"||!Lm&&Ww(a,o)?(a=Uw(),ju=Pm=Ba=null,Ps=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Fw&&o.locale!=="ko"?null:o.data;default:return null}}var c3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qw(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!c3[a.type]:o==="textarea"}function Jw(a,o,c,h){Cs?Ts?Ts.push(h):Ts=[h]:Cs=h,o=gd(o,"onChange"),0<o.length&&(c=new Eu("onChange","change",null,c,h),a.push({event:c,listeners:o}))}var gl=null,vl=null;function u3(a){M1(a,0)}function Ou(a){var o=ul(a);if(Dw(o))return a}function Zw(a,o){if(a==="change")return o}var e_=!1;if(Jn){var $m;if(Jn){var zm="oninput"in document;if(!zm){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),zm=typeof t_.oninput=="function"}$m=zm}else $m=!1;e_=$m&&(!document.documentMode||9<document.documentMode)}function r_(){gl&&(gl.detachEvent("onpropertychange",n_),vl=gl=null)}function n_(a){if(a.propertyName==="value"&&Ou(vl)){var o=[];Jw(o,vl,a,Am(a)),Bw(u3,o)}}function d3(a,o,c){a==="focusin"?(r_(),gl=o,vl=c,gl.attachEvent("onpropertychange",n_)):a==="focusout"&&r_()}function f3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ou(vl)}function h3(a,o){if(a==="click")return Ou(o)}function m3(a,o){if(a==="input"||a==="change")return Ou(o)}function p3(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Rr=typeof Object.is=="function"?Object.is:p3;function yl(a,o){if(Rr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!rl.call(o,v)||!Rr(a[v],o[v]))return!1}return!0}function a_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function i_(a,o){var c=a_(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=o&&h>=o)return{node:c,offset:o-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=a_(c)}}function s_(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?s_(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function o_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=wu(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=wu(a.document)}return o}function Bm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var g3=Jn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Um=null,bl=null,qm=!1;function l_(a,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qm||Ds==null||Ds!==wu(h)||(h=Ds,"selectionStart"in h&&Bm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),bl&&yl(bl,h)||(bl=h,h=gd(Um,"onSelect"),0<h.length&&(o=new Eu("onSelect","select",null,o,c),a.push({event:o,listeners:h}),o.target=Ds)))}function Pi(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Ms={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Hm={},c_={};Jn&&(c_=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Di(a){if(Hm[a])return Hm[a];if(!Ms[a])return a;var o=Ms[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in c_)return Hm[a]=o[c];return a}var u_=Di("animationend"),d_=Di("animationiteration"),f_=Di("animationstart"),v3=Di("transitionrun"),y3=Di("transitionstart"),b3=Di("transitioncancel"),h_=Di("transitionend"),m_=new Map,Km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Km.push("scrollEnd");function yn(a,o){m_.set(a,o),Ci(o,[a])}var Au=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Zr=[],Rs=0,Gm=0;function Cu(){for(var a=Rs,o=Gm=Rs=0;o<a;){var c=Zr[o];Zr[o++]=null;var h=Zr[o];Zr[o++]=null;var v=Zr[o];Zr[o++]=null;var x=Zr[o];if(Zr[o++]=null,h!==null&&v!==null){var O=h.pending;O===null?v.next=v:(v.next=O.next,O.next=v),h.pending=v}x!==0&&p_(c,v,x)}}function Tu(a,o,c,h){Zr[Rs++]=a,Zr[Rs++]=o,Zr[Rs++]=c,Zr[Rs++]=h,Gm|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Fm(a,o,c,h){return Tu(a,o,c,h),Pu(a)}function Mi(a,o){return Tu(a,null,null,o),Pu(a)}function p_(a,o,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var v=!1,x=a.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(v=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,v&&o!==null&&(v=31-Mr(c),a=x.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=c|536870912),x):null}function Pu(a){if(50<Ul)throw Ul=0,tg=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Is={};function x3(a,o,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(a,o,c,h){return new x3(a,o,c,h)}function Ym(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Zn(a,o){var c=a.alternate;return c===null?(c=Ir(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function g_(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Du(a,o,c,h,v,x){var O=0;if(h=a,typeof a=="function")Ym(a)&&(O=1);else if(typeof a=="string")O=kI(a,c,se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Y:return a=Ir(31,c,o,v),a.elementType=Y,a.lanes=x,a;case S:return Ri(c.children,v,x,o);case _:O=8,v|=24;break;case E:return a=Ir(12,c,o,v|2),a.elementType=E,a.lanes=x,a;case A:return a=Ir(13,c,o,v),a.elementType=A,a.lanes=x,a;case D:return a=Ir(19,c,o,v),a.elementType=D,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:O=10;break e;case N:O=9;break e;case T:O=11;break e;case I:O=14;break e;case W:O=16,h=null;break e}O=29,c=Error(n(130,a===null?"null":typeof a,"")),h=null}return o=Ir(O,c,o,v),o.elementType=a,o.type=h,o.lanes=x,o}function Ri(a,o,c,h){return a=Ir(7,a,h,o),a.lanes=c,a}function Vm(a,o,c){return a=Ir(6,a,null,o),a.lanes=c,a}function v_(a){var o=Ir(18,null,null,0);return o.stateNode=a,o}function Wm(a,o,c){return o=Ir(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var y_=new WeakMap;function en(a,o){if(typeof a=="object"&&a!==null){var c=y_.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Oi(o)},y_.set(a,o),o)}return{value:a,source:o,stack:Oi(o)}}var Ls=[],$s=0,Mu=null,xl=0,tn=[],rn=0,Ua=null,In=1,Ln="";function ea(a,o){Ls[$s++]=xl,Ls[$s++]=Mu,Mu=a,xl=o}function b_(a,o,c){tn[rn++]=In,tn[rn++]=Ln,tn[rn++]=Ua,Ua=a;var h=In;a=Ln;var v=32-Mr(h)-1;h&=~(1<<v),c+=1;var x=32-Mr(o)+v;if(30<x){var O=v-v%5;x=(h&(1<<O)-1).toString(32),h>>=O,v-=O,In=1<<32-Mr(o)+v|c<<v|h,Ln=x+a}else In=1<<x|c<<v|h,Ln=a}function Xm(a){a.return!==null&&(ea(a,1),b_(a,1,0))}function Qm(a){for(;a===Mu;)Mu=Ls[--$s],Ls[$s]=null,xl=Ls[--$s],Ls[$s]=null;for(;a===Ua;)Ua=tn[--rn],tn[rn]=null,Ln=tn[--rn],tn[rn]=null,In=tn[--rn],tn[rn]=null}function x_(a,o){tn[rn++]=In,tn[rn++]=Ln,tn[rn++]=Ua,In=o.id,Ln=o.overflow,Ua=a}var er=null,it=null,Le=!1,qa=null,nn=!1,Jm=Error(n(519));function Ha(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(en(o,a)),Jm}function w_(a){var o=a.stateNode,c=a.type,h=a.memoizedProps;switch(o[Zt]=a,o[br]=h,c){case"dialog":Me("cancel",o),Me("close",o);break;case"iframe":case"object":case"embed":Me("load",o);break;case"video":case"audio":for(c=0;c<Hl.length;c++)Me(Hl[c],o);break;case"source":Me("error",o);break;case"img":case"image":case"link":Me("error",o),Me("load",o);break;case"details":Me("toggle",o);break;case"input":Me("invalid",o),Mw(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Me("invalid",o);break;case"textarea":Me("invalid",o),Iw(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||$1(o.textContent,c)?(h.popover!=null&&(Me("beforetoggle",o),Me("toggle",o)),h.onScroll!=null&&Me("scroll",o),h.onScrollEnd!=null&&Me("scrollend",o),h.onClick!=null&&(o.onclick=Qn),o=!0):o=!1,o||Ha(a,!0)}function __(a){for(er=a.return;er;)switch(er.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:er=er.return}}function zs(a){if(a!==er)return!1;if(!Le)return __(a),Le=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||gg(a.type,a.memoizedProps)),c=!c),c&&it&&Ha(a),__(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));it=Y1(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));it=Y1(a)}else o===27?(o=it,ni(a.type)?(a=wg,wg=null,it=a):it=o):it=er?sn(a.stateNode.nextSibling):null;return!0}function Ii(){it=er=null,Le=!1}function Zm(){var a=qa;return a!==null&&(Sr===null?Sr=a:Sr.push.apply(Sr,a),qa=null),a}function wl(a){qa===null?qa=[a]:qa.push(a)}var ep=R(null),Li=null,ta=null;function Ka(a,o,c){H(ep,o._currentValue),o._currentValue=c}function ra(a){a._currentValue=ep.current,G(ep)}function tp(a,o,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===c)break;a=a.return}}function rp(a,o,c,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var x=v.dependencies;if(x!==null){var O=v.child;x=x.firstContext;e:for(;x!==null;){var C=x;x=v;for(var $=0;$<o.length;$++)if(C.context===o[$]){x.lanes|=c,C=x.alternate,C!==null&&(C.lanes|=c),tp(x.return,c,a),h||(O=null);break e}x=C.next}}else if(v.tag===18){if(O=v.return,O===null)throw Error(n(341));O.lanes|=c,x=O.alternate,x!==null&&(x.lanes|=c),tp(O,c,a),O=null}else O=v.child;if(O!==null)O.return=v;else for(O=v;O!==null;){if(O===a){O=null;break}if(v=O.sibling,v!==null){v.return=O.return,O=v;break}O=O.return}v=O}}function Bs(a,o,c,h){a=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var O=v.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var C=v.type;Rr(v.pendingProps.value,O.value)||(a!==null?a.push(C):a=[C])}}else if(v===ne.current){if(O=v.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Vl):a=[Vl])}v=v.return}a!==null&&rp(o,a,c,h),o.flags|=262144}function Ru(a){for(a=a.firstContext;a!==null;){if(!Rr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function $i(a){Li=a,ta=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function tr(a){return j_(Li,a)}function Iu(a,o){return Li===null&&$i(a),j_(a,o)}function j_(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ta===null){if(a===null)throw Error(n(308));ta=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ta=ta.next=o;return c}var w3=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},_3=e.unstable_scheduleCallback,j3=e.unstable_NormalPriority,Nt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function np(){return{controller:new w3,data:new Map,refCount:0}}function _l(a){a.refCount--,a.refCount===0&&_3(j3,function(){a.controller.abort()})}var jl=null,ap=0,Us=0,qs=null;function S3(a,o){if(jl===null){var c=jl=[];ap=0,Us=og(),qs={status:"pending",value:void 0,then:function(h){c.push(h)}}}return ap++,o.then(S_,S_),o}function S_(){if(--ap===0&&jl!==null){qs!==null&&(qs.status="fulfilled");var a=jl;jl=null,Us=0,qs=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function k3(a,o){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var k_=M.S;M.S=function(a,o){l1=fr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&S3(a,o),k_!==null&&k_(a,o)};var zi=R(null);function ip(){var a=zi.current;return a!==null?a:Ze.pooledCache}function Lu(a,o){o===null?H(zi,zi.current):H(zi,o.pool)}function E_(){var a=ip();return a===null?null:{parent:Nt._currentValue,pool:a}}var Hs=Error(n(460)),sp=Error(n(474)),$u=Error(n(542)),zu={then:function(){}};function N_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function O_(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Qn,Qn),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,C_(a),a;default:if(typeof o.status=="string")o.then(Qn,Qn);else{if(a=Ze,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,C_(a),a}throw Ui=o,Hs}}function Bi(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ui=c,Hs):c}}var Ui=null;function A_(){if(Ui===null)throw Error(n(459));var a=Ui;return Ui=null,a}function C_(a){if(a===Hs||a===$u)throw Error(n(483))}var Ks=null,Sl=0;function Bu(a){var o=Sl;return Sl+=1,Ks===null&&(Ks=[]),O_(Ks,a,o)}function kl(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Uu(a,o){throw o.$$typeof===y?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function T_(a){function o(F,z){if(a){var Q=F.deletions;Q===null?(F.deletions=[z],F.flags|=16):Q.push(z)}}function c(F,z){if(!a)return null;for(;z!==null;)o(F,z),z=z.sibling;return null}function h(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function v(F,z){return F=Zn(F,z),F.index=0,F.sibling=null,F}function x(F,z,Q){return F.index=Q,a?(Q=F.alternate,Q!==null?(Q=Q.index,Q<z?(F.flags|=67108866,z):Q):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function O(F){return a&&F.alternate===null&&(F.flags|=67108866),F}function C(F,z,Q,oe){return z===null||z.tag!==6?(z=Vm(Q,F.mode,oe),z.return=F,z):(z=v(z,Q),z.return=F,z)}function $(F,z,Q,oe){var ke=Q.type;return ke===S?ie(F,z,Q.props.children,oe,Q.key):z!==null&&(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===W&&Bi(ke)===z.type)?(z=v(z,Q.props),kl(z,Q),z.return=F,z):(z=Du(Q.type,Q.key,Q.props,null,F.mode,oe),kl(z,Q),z.return=F,z)}function J(F,z,Q,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=Wm(Q,F.mode,oe),z.return=F,z):(z=v(z,Q.children||[]),z.return=F,z)}function ie(F,z,Q,oe,ke){return z===null||z.tag!==7?(z=Ri(Q,F.mode,oe,ke),z.return=F,z):(z=v(z,Q),z.return=F,z)}function ue(F,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Vm(""+z,F.mode,Q),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return Q=Du(z.type,z.key,z.props,null,F.mode,Q),kl(Q,z),Q.return=F,Q;case j:return z=Wm(z,F.mode,Q),z.return=F,z;case W:return z=Bi(z),ue(F,z,Q)}if(q(z)||P(z))return z=Ri(z,F.mode,Q,null),z.return=F,z;if(typeof z.then=="function")return ue(F,Bu(z),Q);if(z.$$typeof===k)return ue(F,Iu(F,z),Q);Uu(F,z)}return null}function te(F,z,Q,oe){var ke=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ke!==null?null:C(F,z,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return Q.key===ke?$(F,z,Q,oe):null;case j:return Q.key===ke?J(F,z,Q,oe):null;case W:return Q=Bi(Q),te(F,z,Q,oe)}if(q(Q)||P(Q))return ke!==null?null:ie(F,z,Q,oe,null);if(typeof Q.then=="function")return te(F,z,Bu(Q),oe);if(Q.$$typeof===k)return te(F,z,Iu(F,Q),oe);Uu(F,Q)}return null}function ae(F,z,Q,oe,ke){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return F=F.get(Q)||null,C(z,F,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return F=F.get(oe.key===null?Q:oe.key)||null,$(z,F,oe,ke);case j:return F=F.get(oe.key===null?Q:oe.key)||null,J(z,F,oe,ke);case W:return oe=Bi(oe),ae(F,z,Q,oe,ke)}if(q(oe)||P(oe))return F=F.get(Q)||null,ie(z,F,oe,ke,null);if(typeof oe.then=="function")return ae(F,z,Q,Bu(oe),ke);if(oe.$$typeof===k)return ae(F,z,Q,Iu(z,oe),ke);Uu(z,oe)}return null}function be(F,z,Q,oe){for(var ke=null,ze=null,_e=z,Te=z=0,Ie=null;_e!==null&&Te<Q.length;Te++){_e.index>Te?(Ie=_e,_e=null):Ie=_e.sibling;var Be=te(F,_e,Q[Te],oe);if(Be===null){_e===null&&(_e=Ie);break}a&&_e&&Be.alternate===null&&o(F,_e),z=x(Be,z,Te),ze===null?ke=Be:ze.sibling=Be,ze=Be,_e=Ie}if(Te===Q.length)return c(F,_e),Le&&ea(F,Te),ke;if(_e===null){for(;Te<Q.length;Te++)_e=ue(F,Q[Te],oe),_e!==null&&(z=x(_e,z,Te),ze===null?ke=_e:ze.sibling=_e,ze=_e);return Le&&ea(F,Te),ke}for(_e=h(_e);Te<Q.length;Te++)Ie=ae(_e,F,Te,Q[Te],oe),Ie!==null&&(a&&Ie.alternate!==null&&_e.delete(Ie.key===null?Te:Ie.key),z=x(Ie,z,Te),ze===null?ke=Ie:ze.sibling=Ie,ze=Ie);return a&&_e.forEach(function(li){return o(F,li)}),Le&&ea(F,Te),ke}function Ee(F,z,Q,oe){if(Q==null)throw Error(n(151));for(var ke=null,ze=null,_e=z,Te=z=0,Ie=null,Be=Q.next();_e!==null&&!Be.done;Te++,Be=Q.next()){_e.index>Te?(Ie=_e,_e=null):Ie=_e.sibling;var li=te(F,_e,Be.value,oe);if(li===null){_e===null&&(_e=Ie);break}a&&_e&&li.alternate===null&&o(F,_e),z=x(li,z,Te),ze===null?ke=li:ze.sibling=li,ze=li,_e=Ie}if(Be.done)return c(F,_e),Le&&ea(F,Te),ke;if(_e===null){for(;!Be.done;Te++,Be=Q.next())Be=ue(F,Be.value,oe),Be!==null&&(z=x(Be,z,Te),ze===null?ke=Be:ze.sibling=Be,ze=Be);return Le&&ea(F,Te),ke}for(_e=h(_e);!Be.done;Te++,Be=Q.next())Be=ae(_e,F,Te,Be.value,oe),Be!==null&&(a&&Be.alternate!==null&&_e.delete(Be.key===null?Te:Be.key),z=x(Be,z,Te),ze===null?ke=Be:ze.sibling=Be,ze=Be);return a&&_e.forEach(function(II){return o(F,II)}),Le&&ea(F,Te),ke}function Xe(F,z,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:e:{for(var ke=Q.key;z!==null;){if(z.key===ke){if(ke=Q.type,ke===S){if(z.tag===7){c(F,z.sibling),oe=v(z,Q.props.children),oe.return=F,F=oe;break e}}else if(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===W&&Bi(ke)===z.type){c(F,z.sibling),oe=v(z,Q.props),kl(oe,Q),oe.return=F,F=oe;break e}c(F,z);break}else o(F,z);z=z.sibling}Q.type===S?(oe=Ri(Q.props.children,F.mode,oe,Q.key),oe.return=F,F=oe):(oe=Du(Q.type,Q.key,Q.props,null,F.mode,oe),kl(oe,Q),oe.return=F,F=oe)}return O(F);case j:e:{for(ke=Q.key;z!==null;){if(z.key===ke)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){c(F,z.sibling),oe=v(z,Q.children||[]),oe.return=F,F=oe;break e}else{c(F,z);break}else o(F,z);z=z.sibling}oe=Wm(Q,F.mode,oe),oe.return=F,F=oe}return O(F);case W:return Q=Bi(Q),Xe(F,z,Q,oe)}if(q(Q))return be(F,z,Q,oe);if(P(Q)){if(ke=P(Q),typeof ke!="function")throw Error(n(150));return Q=ke.call(Q),Ee(F,z,Q,oe)}if(typeof Q.then=="function")return Xe(F,z,Bu(Q),oe);if(Q.$$typeof===k)return Xe(F,z,Iu(F,Q),oe);Uu(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(c(F,z.sibling),oe=v(z,Q),oe.return=F,F=oe):(c(F,z),oe=Vm(Q,F.mode,oe),oe.return=F,F=oe),O(F)):c(F,z)}return function(F,z,Q,oe){try{Sl=0;var ke=Xe(F,z,Q,oe);return Ks=null,ke}catch(_e){if(_e===Hs||_e===$u)throw _e;var ze=Ir(29,_e,null,F.mode);return ze.lanes=oe,ze.return=F,ze}finally{}}}var qi=T_(!0),P_=T_(!1),Ga=!1;function op(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lp(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Fa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ya(a,o,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Pu(a),p_(a,null,c),o}return Tu(a,h,o,c),Pu(a)}function El(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,jw(a,c)}}function cp(a,o){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?v=x=O:x=x.next=O,c=c.next}while(c!==null);x===null?v=x=o:x=x.next=o}else v=x=o;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var up=!1;function Nl(){if(up){var a=qs;if(a!==null)throw a}}function Ol(a,o,c,h){up=!1;var v=a.updateQueue;Ga=!1;var x=v.firstBaseUpdate,O=v.lastBaseUpdate,C=v.shared.pending;if(C!==null){v.shared.pending=null;var $=C,J=$.next;$.next=null,O===null?x=J:O.next=J,O=$;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,C=ie.lastBaseUpdate,C!==O&&(C===null?ie.firstBaseUpdate=J:C.next=J,ie.lastBaseUpdate=$))}if(x!==null){var ue=v.baseState;O=0,ie=J=$=null,C=x;do{var te=C.lane&-536870913,ae=te!==C.lane;if(ae?(Re&te)===te:(h&te)===te){te!==0&&te===Us&&(up=!0),ie!==null&&(ie=ie.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var be=a,Ee=C;te=o;var Xe=c;switch(Ee.tag){case 1:if(be=Ee.payload,typeof be=="function"){ue=be.call(Xe,ue,te);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ee.payload,te=typeof be=="function"?be.call(Xe,ue,te):be,te==null)break e;ue=g({},ue,te);break e;case 2:Ga=!0}}te=C.callback,te!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=v.callbacks,ae===null?v.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ie===null?(J=ie=ae,$=ue):ie=ie.next=ae,O|=te;if(C=C.next,C===null){if(C=v.shared.pending,C===null)break;ae=C,C=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);ie===null&&($=ue),v.baseState=$,v.firstBaseUpdate=J,v.lastBaseUpdate=ie,x===null&&(v.shared.lanes=0),Ja|=O,a.lanes=O,a.memoizedState=ue}}function D_(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function M_(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)D_(c[a],o)}var Gs=R(null),qu=R(0);function R_(a,o){a=da,H(qu,a),H(Gs,o),da=a|o.baseLanes}function dp(){H(qu,da),H(Gs,Gs.current)}function fp(){da=qu.current,G(Gs),G(qu)}var Lr=R(null),an=null;function Va(a){var o=a.alternate;H(jt,jt.current&1),H(Lr,a),an===null&&(o===null||Gs.current!==null||o.memoizedState!==null)&&(an=a)}function hp(a){H(jt,jt.current),H(Lr,a),an===null&&(an=a)}function I_(a){a.tag===22?(H(jt,jt.current),H(Lr,a),an===null&&(an=a)):Wa()}function Wa(){H(jt,jt.current),H(Lr,Lr.current)}function $r(a){G(Lr),an===a&&(an=null),G(jt)}var jt=R(0);function Hu(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||bg(c)||xg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var na=0,Ce=null,Ve=null,Ot=null,Ku=!1,Fs=!1,Hi=!1,Gu=0,Al=0,Ys=null,E3=0;function yt(){throw Error(n(321))}function mp(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Rr(a[c],o[c]))return!1;return!0}function pp(a,o,c,h,v,x){return na=x,Ce=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,M.H=a===null||a.memoizedState===null?bj:Cp,Hi=!1,x=c(h,v),Hi=!1,Fs&&(x=$_(o,c,h,v)),L_(a),x}function L_(a){M.H=Pl;var o=Ve!==null&&Ve.next!==null;if(na=0,Ot=Ve=Ce=null,Ku=!1,Al=0,Ys=null,o)throw Error(n(300));a===null||At||(a=a.dependencies,a!==null&&Ru(a)&&(At=!0))}function $_(a,o,c,h){Ce=a;var v=0;do{if(Fs&&(Ys=null),Al=0,Fs=!1,25<=v)throw Error(n(301));if(v+=1,Ot=Ve=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}M.H=xj,x=o(c,h)}while(Fs);return x}function N3(){var a=M.H,o=a.useState()[0];return o=typeof o.then=="function"?Cl(o):o,a=a.useState()[0],(Ve!==null?Ve.memoizedState:null)!==a&&(Ce.flags|=1024),o}function gp(){var a=Gu!==0;return Gu=0,a}function vp(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function yp(a){if(Ku){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ku=!1}na=0,Ot=Ve=Ce=null,Fs=!1,Al=Gu=0,Ys=null}function mr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ce.memoizedState=Ot=a:Ot=Ot.next=a,Ot}function St(){if(Ve===null){var a=Ce.alternate;a=a!==null?a.memoizedState:null}else a=Ve.next;var o=Ot===null?Ce.memoizedState:Ot.next;if(o!==null)Ot=o,Ve=a;else{if(a===null)throw Ce.alternate===null?Error(n(467)):Error(n(310));Ve=a,a={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ot===null?Ce.memoizedState=Ot=a:Ot=Ot.next=a}return Ot}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(a){var o=Al;return Al+=1,Ys===null&&(Ys=[]),a=O_(Ys,a,o),o=Ce,(Ot===null?o.memoizedState:Ot.next)===null&&(o=o.alternate,M.H=o===null||o.memoizedState===null?bj:Cp),a}function Yu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Cl(a);if(a.$$typeof===k)return tr(a)}throw Error(n(438,String(a)))}function bp(a){var o=null,c=Ce.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Ce.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Fu(),Ce.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),h=0;h<a;h++)c[h]=re;return o.index++,c}function aa(a,o){return typeof o=="function"?o(a):o}function Vu(a){var o=St();return xp(o,Ve,a)}function xp(a,o,c){var h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var v=a.baseQueue,x=h.pending;if(x!==null){if(v!==null){var O=v.next;v.next=x.next,x.next=O}o.baseQueue=v=x,h.pending=null}if(x=a.baseState,v===null)a.memoizedState=x;else{o=v.next;var C=O=null,$=null,J=o,ie=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(Re&ue)===ue:(na&ue)===ue){var te=J.revertLane;if(te===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===Us&&(ie=!0);else if((na&te)===te){J=J.next,te===Us&&(ie=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(C=$=ue,O=x):$=$.next=ue,Ce.lanes|=te,Ja|=te;ue=J.action,Hi&&c(x,ue),x=J.hasEagerState?J.eagerState:c(x,ue)}else te={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(C=$=te,O=x):$=$.next=te,Ce.lanes|=ue,Ja|=ue;J=J.next}while(J!==null&&J!==o);if($===null?O=x:$.next=C,!Rr(x,a.memoizedState)&&(At=!0,ie&&(c=qs,c!==null)))throw c;a.memoizedState=x,a.baseState=O,a.baseQueue=$,h.lastRenderedState=x}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function wp(a){var o=St(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var h=c.dispatch,v=c.pending,x=o.memoizedState;if(v!==null){c.pending=null;var O=v=v.next;do x=a(x,O.action),O=O.next;while(O!==v);Rr(x,o.memoizedState)||(At=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,h]}function z_(a,o,c){var h=Ce,v=St(),x=Le;if(x){if(c===void 0)throw Error(n(407));c=c()}else c=o();var O=!Rr((Ve||v).memoizedState,c);if(O&&(v.memoizedState=c,At=!0),v=v.queue,Sp(q_.bind(null,h,v,a),[a]),v.getSnapshot!==o||O||Ot!==null&&Ot.memoizedState.tag&1){if(h.flags|=2048,Vs(9,{destroy:void 0},U_.bind(null,h,v,c,o),null),Ze===null)throw Error(n(349));x||(na&127)!==0||B_(h,o,c)}return c}function B_(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Ce.updateQueue,o===null?(o=Fu(),Ce.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function U_(a,o,c,h){o.value=c,o.getSnapshot=h,H_(o)&&K_(a)}function q_(a,o,c){return c(function(){H_(o)&&K_(a)})}function H_(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Rr(a,c)}catch{return!0}}function K_(a){var o=Mi(a,2);o!==null&&kr(o,a,2)}function _p(a){var o=mr();if(typeof a=="function"){var c=a;if(a=c(),Hi){$a(!0);try{c()}finally{$a(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:a},o}function G_(a,o,c,h){return a.baseState=c,xp(a,Ve,typeof h=="function"?h:aa)}function O3(a,o,c,h,v){if(Qu(a))throw Error(n(485));if(a=o.action,a!==null){var x={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};M.T!==null?c(!0):x.isTransition=!1,h(x),c=o.pending,c===null?(x.next=o.pending=x,F_(o,x)):(x.next=c.next,o.pending=c.next=x)}}function F_(a,o){var c=o.action,h=o.payload,v=a.state;if(o.isTransition){var x=M.T,O={};M.T=O;try{var C=c(v,h),$=M.S;$!==null&&$(O,C),Y_(a,o,C)}catch(J){jp(a,o,J)}finally{x!==null&&O.types!==null&&(x.types=O.types),M.T=x}}else try{x=c(v,h),Y_(a,o,x)}catch(J){jp(a,o,J)}}function Y_(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){V_(a,o,h)},function(h){return jp(a,o,h)}):V_(a,o,c)}function V_(a,o,c){o.status="fulfilled",o.value=c,W_(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,F_(a,c)))}function jp(a,o,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,W_(o),o=o.next;while(o!==h)}a.action=null}function W_(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function X_(a,o){return o}function Q_(a,o){if(Le){var c=Ze.formState;if(c!==null){e:{var h=Ce;if(Le){if(it){t:{for(var v=it,x=nn;v.nodeType!==8;){if(!x){v=null;break t}if(v=sn(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){it=sn(v.nextSibling),h=v.data==="F!";break e}}Ha(h)}h=!1}h&&(o=c[0])}}return c=mr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X_,lastRenderedState:o},c.queue=h,c=gj.bind(null,Ce,h),h.dispatch=c,h=_p(!1),x=Ap.bind(null,Ce,!1,h.queue),h=mr(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,c=O3.bind(null,Ce,v,x,c),v.dispatch=c,h.memoizedState=a,[o,c,!1]}function J_(a){var o=St();return Z_(o,Ve,a)}function Z_(a,o,c){if(o=xp(a,o,X_)[0],a=Vu(aa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Cl(o)}catch(O){throw O===Hs?$u:O}else h=o;o=St();var v=o.queue,x=v.dispatch;return c!==o.memoizedState&&(Ce.flags|=2048,Vs(9,{destroy:void 0},A3.bind(null,v,c),null)),[h,x,a]}function A3(a,o){a.action=o}function ej(a){var o=St(),c=Ve;if(c!==null)return Z_(o,c,a);St(),o=o.memoizedState,c=St();var h=c.queue.dispatch;return c.memoizedState=a,[o,h,!1]}function Vs(a,o,c,h){return a={tag:a,create:c,deps:h,inst:o,next:null},o=Ce.updateQueue,o===null&&(o=Fu(),Ce.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,o.lastEffect=a),a}function tj(){return St().memoizedState}function Wu(a,o,c,h){var v=mr();Ce.flags|=a,v.memoizedState=Vs(1|o,{destroy:void 0},c,h===void 0?null:h)}function Xu(a,o,c,h){var v=St();h=h===void 0?null:h;var x=v.memoizedState.inst;Ve!==null&&h!==null&&mp(h,Ve.memoizedState.deps)?v.memoizedState=Vs(o,x,c,h):(Ce.flags|=a,v.memoizedState=Vs(1|o,x,c,h))}function rj(a,o){Wu(8390656,8,a,o)}function Sp(a,o){Xu(2048,8,a,o)}function C3(a){Ce.flags|=4;var o=Ce.updateQueue;if(o===null)o=Fu(),Ce.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function nj(a){var o=St().memoizedState;return C3({ref:o,nextImpl:a}),function(){if((He&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function aj(a,o){return Xu(4,2,a,o)}function ij(a,o){return Xu(4,4,a,o)}function sj(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function oj(a,o,c){c=c!=null?c.concat([a]):null,Xu(4,4,sj.bind(null,o,a),c)}function kp(){}function lj(a,o){var c=St();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&mp(o,h[1])?h[0]:(c.memoizedState=[a,o],a)}function cj(a,o){var c=St();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&mp(o,h[1]))return h[0];if(h=a(),Hi){$a(!0);try{a()}finally{$a(!1)}}return c.memoizedState=[h,o],h}function Ep(a,o,c){return c===void 0||(na&1073741824)!==0&&(Re&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=u1(),Ce.lanes|=a,Ja|=a,c)}function uj(a,o,c,h){return Rr(c,o)?c:Gs.current!==null?(a=Ep(a,c,h),Rr(a,o)||(At=!0),a):(na&42)===0||(na&1073741824)!==0&&(Re&261930)===0?(At=!0,a.memoizedState=c):(a=u1(),Ce.lanes|=a,Ja|=a,o)}function dj(a,o,c,h,v){var x=L.p;L.p=x!==0&&8>x?x:8;var O=M.T,C={};M.T=C,Ap(a,!1,o,c);try{var $=v(),J=M.S;if(J!==null&&J(C,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ie=k3($,h);Tl(a,o,ie,Ur(a))}else Tl(a,o,h,Ur(a))}catch(ue){Tl(a,o,{then:function(){},status:"rejected",reason:ue},Ur())}finally{L.p=x,O!==null&&C.types!==null&&(O.types=C.types),M.T=O}}function T3(){}function Np(a,o,c,h){if(a.tag!==5)throw Error(n(476));var v=fj(a).queue;dj(a,v,o,V,c===null?T3:function(){return hj(a),c(h)})}function fj(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:V},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function hj(a){var o=fj(a);o.next===null&&(o=a.alternate.memoizedState),Tl(a,o.next.queue,{},Ur())}function Op(){return tr(Vl)}function mj(){return St().memoizedState}function pj(){return St().memoizedState}function P3(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=Ur();a=Fa(c);var h=Ya(o,a,c);h!==null&&(kr(h,o,c),El(h,o,c)),o={cache:np()},a.payload=o;return}o=o.return}}function D3(a,o,c){var h=Ur();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qu(a)?vj(o,c):(c=Fm(a,o,c,h),c!==null&&(kr(c,a,h),yj(c,o,h)))}function gj(a,o,c){var h=Ur();Tl(a,o,c,h)}function Tl(a,o,c,h){var v={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qu(a))vj(o,v);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var O=o.lastRenderedState,C=x(O,c);if(v.hasEagerState=!0,v.eagerState=C,Rr(C,O))return Tu(a,o,v,0),Ze===null&&Cu(),!1}catch{}finally{}if(c=Fm(a,o,v,h),c!==null)return kr(c,a,h),yj(c,o,h),!0}return!1}function Ap(a,o,c,h){if(h={lane:2,revertLane:og(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qu(a)){if(o)throw Error(n(479))}else o=Fm(a,c,h,2),o!==null&&kr(o,a,2)}function Qu(a){var o=a.alternate;return a===Ce||o!==null&&o===Ce}function vj(a,o){Fs=Ku=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function yj(a,o,c){if((c&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,jw(a,c)}}var Pl={readContext:tr,use:Yu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Pl.useEffectEvent=yt;var bj={readContext:tr,use:Yu,useCallback:function(a,o){return mr().memoizedState=[a,o===void 0?null:o],a},useContext:tr,useEffect:rj,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,Wu(4194308,4,sj.bind(null,o,a),c)},useLayoutEffect:function(a,o){return Wu(4194308,4,a,o)},useInsertionEffect:function(a,o){Wu(4,2,a,o)},useMemo:function(a,o){var c=mr();o=o===void 0?null:o;var h=a();if(Hi){$a(!0);try{a()}finally{$a(!1)}}return c.memoizedState=[h,o],h},useReducer:function(a,o,c){var h=mr();if(c!==void 0){var v=c(o);if(Hi){$a(!0);try{c(o)}finally{$a(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=D3.bind(null,Ce,a),[h.memoizedState,a]},useRef:function(a){var o=mr();return a={current:a},o.memoizedState=a},useState:function(a){a=_p(a);var o=a.queue,c=gj.bind(null,Ce,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:kp,useDeferredValue:function(a,o){var c=mr();return Ep(c,a,o)},useTransition:function(){var a=_p(!1);return a=dj.bind(null,Ce,a.queue,!0,!1),mr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var h=Ce,v=mr();if(Le){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Ze===null)throw Error(n(349));(Re&127)!==0||B_(h,o,c)}v.memoizedState=c;var x={value:c,getSnapshot:o};return v.queue=x,rj(q_.bind(null,h,x,a),[a]),h.flags|=2048,Vs(9,{destroy:void 0},U_.bind(null,h,x,c,o),null),c},useId:function(){var a=mr(),o=Ze.identifierPrefix;if(Le){var c=Ln,h=In;c=(h&~(1<<32-Mr(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Gu++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=E3++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Op,useFormState:Q_,useActionState:Q_,useOptimistic:function(a){var o=mr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Ap.bind(null,Ce,!0,c),c.dispatch=o,[a,o]},useMemoCache:bp,useCacheRefresh:function(){return mr().memoizedState=P3.bind(null,Ce)},useEffectEvent:function(a){var o=mr(),c={impl:a};return o.memoizedState=c,function(){if((He&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Cp={readContext:tr,use:Yu,useCallback:lj,useContext:tr,useEffect:Sp,useImperativeHandle:oj,useInsertionEffect:aj,useLayoutEffect:ij,useMemo:cj,useReducer:Vu,useRef:tj,useState:function(){return Vu(aa)},useDebugValue:kp,useDeferredValue:function(a,o){var c=St();return uj(c,Ve.memoizedState,a,o)},useTransition:function(){var a=Vu(aa)[0],o=St().memoizedState;return[typeof a=="boolean"?a:Cl(a),o]},useSyncExternalStore:z_,useId:mj,useHostTransitionStatus:Op,useFormState:J_,useActionState:J_,useOptimistic:function(a,o){var c=St();return G_(c,Ve,a,o)},useMemoCache:bp,useCacheRefresh:pj};Cp.useEffectEvent=nj;var xj={readContext:tr,use:Yu,useCallback:lj,useContext:tr,useEffect:Sp,useImperativeHandle:oj,useInsertionEffect:aj,useLayoutEffect:ij,useMemo:cj,useReducer:wp,useRef:tj,useState:function(){return wp(aa)},useDebugValue:kp,useDeferredValue:function(a,o){var c=St();return Ve===null?Ep(c,a,o):uj(c,Ve.memoizedState,a,o)},useTransition:function(){var a=wp(aa)[0],o=St().memoizedState;return[typeof a=="boolean"?a:Cl(a),o]},useSyncExternalStore:z_,useId:mj,useHostTransitionStatus:Op,useFormState:ej,useActionState:ej,useOptimistic:function(a,o){var c=St();return Ve!==null?G_(c,Ve,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:bp,useCacheRefresh:pj};xj.useEffectEvent=nj;function Tp(a,o,c,h){o=a.memoizedState,c=c(h,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Pp={enqueueSetState:function(a,o,c){a=a._reactInternals;var h=Ur(),v=Fa(h);v.payload=o,c!=null&&(v.callback=c),o=Ya(a,v,h),o!==null&&(kr(o,a,h),El(o,a,h))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var h=Ur(),v=Fa(h);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Ya(a,v,h),o!==null&&(kr(o,a,h),El(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=Ur(),h=Fa(c);h.tag=2,o!=null&&(h.callback=o),o=Ya(a,h,c),o!==null&&(kr(o,a,c),El(o,a,c))}};function wj(a,o,c,h,v,x,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,O):o.prototype&&o.prototype.isPureReactComponent?!yl(c,h)||!yl(v,x):!0}function _j(a,o,c,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==a&&Pp.enqueueReplaceState(o,o.state,null)}function Ki(a,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}function jj(a){Au(a)}function Sj(a){console.error(a)}function kj(a){Au(a)}function Ju(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function Ej(a,o,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Dp(a,o,c){return c=Fa(c),c.tag=3,c.payload={element:null},c.callback=function(){Ju(a,o)},c}function Nj(a){return a=Fa(a),a.tag=3,a}function Oj(a,o,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var x=h.value;a.payload=function(){return v(x)},a.callback=function(){Ej(o,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){Ej(o,c,h),typeof v!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})})}function M3(a,o,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Bs(o,c,v,!0),c=Lr.current,c!==null){switch(c.tag){case 31:case 13:return an===null?ud():c.alternate===null&&bt===0&&(bt=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===zu?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),ag(a,h,v)),!1;case 22:return c.flags|=65536,h===zu?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),ag(a,h,v)),!1}throw Error(n(435,c.tag))}return ag(a,h,v),ud(),!1}if(Le)return o=Lr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Jm&&(a=Error(n(422),{cause:h}),wl(en(a,c)))):(h!==Jm&&(o=Error(n(423),{cause:h}),wl(en(o,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=en(h,c),v=Dp(a.stateNode,h,v),cp(a,v),bt!==4&&(bt=2)),!1;var x=Error(n(520),{cause:h});if(x=en(x,c),Bl===null?Bl=[x]:Bl.push(x),bt!==4&&(bt=2),o===null)return!0;h=en(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=Dp(c.stateNode,h,a),cp(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Za===null||!Za.has(x))))return c.flags|=65536,v&=-v,c.lanes|=v,v=Nj(v),Oj(v,a,c,h),cp(c,v),!1}c=c.return}while(c!==null);return!1}var Mp=Error(n(461)),At=!1;function rr(a,o,c,h){o.child=a===null?P_(o,null,c,h):qi(o,a.child,c,h)}function Aj(a,o,c,h,v){c=c.render;var x=o.ref;if("ref"in h){var O={};for(var C in h)C!=="ref"&&(O[C]=h[C])}else O=h;return $i(o),h=pp(a,o,c,O,x,v),C=gp(),a!==null&&!At?(vp(a,o,v),ia(a,o,v)):(Le&&C&&Xm(o),o.flags|=1,rr(a,o,h,v),o.child)}function Cj(a,o,c,h,v){if(a===null){var x=c.type;return typeof x=="function"&&!Ym(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,Tj(a,o,x,h,v)):(a=Du(c.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!qp(a,v)){var O=x.memoizedProps;if(c=c.compare,c=c!==null?c:yl,c(O,h)&&a.ref===o.ref)return ia(a,o,v)}return o.flags|=1,a=Zn(x,h),a.ref=o.ref,a.return=o,o.child=a}function Tj(a,o,c,h,v){if(a!==null){var x=a.memoizedProps;if(yl(x,h)&&a.ref===o.ref)if(At=!1,o.pendingProps=h=x,qp(a,v))(a.flags&131072)!==0&&(At=!0);else return o.lanes=a.lanes,ia(a,o,v)}return Rp(a,o,c,h,v)}function Pj(a,o,c,h){var v=h.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(h=o.child=a.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;h=v&~x}else h=0,o.child=null;return Dj(a,o,x,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Lu(o,x!==null?x.cachePool:null),x!==null?R_(o,x):dp(),I_(o);else return h=o.lanes=536870912,Dj(a,o,x!==null?x.baseLanes|c:c,c,h)}else x!==null?(Lu(o,x.cachePool),R_(o,x),Wa(),o.memoizedState=null):(a!==null&&Lu(o,null),dp(),Wa());return rr(a,o,v,c),o.child}function Dl(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Dj(a,o,c,h,v){var x=ip();return x=x===null?null:{parent:Nt._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Lu(o,null),dp(),I_(o),a!==null&&Bs(a,o,h,!0),o.childLanes=v,null}function Zu(a,o){return o=td({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function Mj(a,o,c){return qi(o,a.child,null,c),a=Zu(o,o.pendingProps),a.flags|=2,$r(o),o.memoizedState=null,a}function R3(a,o,c){var h=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Le){if(h.mode==="hidden")return a=Zu(o,h),o.lanes=536870912,Dl(null,a);if(hp(o),(a=it)?(a=F1(a,nn),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ua!==null?{id:In,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},c=v_(a),c.return=o,o.child=c,er=o,it=null)):a=null,a===null)throw Ha(o);return o.lanes=536870912,null}return Zu(o,h)}var x=a.memoizedState;if(x!==null){var O=x.dehydrated;if(hp(o),v)if(o.flags&256)o.flags&=-257,o=Mj(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(At||Bs(a,o,c,!1),v=(c&a.childLanes)!==0,At||v){if(h=Ze,h!==null&&(O=Sw(h,c),O!==0&&O!==x.retryLane))throw x.retryLane=O,Mi(a,O),kr(h,a,O),Mp;ud(),o=Mj(a,o,c)}else a=x.treeContext,it=sn(O.nextSibling),er=o,Le=!0,qa=null,nn=!1,a!==null&&x_(o,a),o=Zu(o,h),o.flags|=4096;return o}return a=Zn(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function ed(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Rp(a,o,c,h,v){return $i(o),c=pp(a,o,c,h,void 0,v),h=gp(),a!==null&&!At?(vp(a,o,v),ia(a,o,v)):(Le&&h&&Xm(o),o.flags|=1,rr(a,o,c,v),o.child)}function Rj(a,o,c,h,v,x){return $i(o),o.updateQueue=null,c=$_(o,h,c,v),L_(a),h=gp(),a!==null&&!At?(vp(a,o,x),ia(a,o,x)):(Le&&h&&Xm(o),o.flags|=1,rr(a,o,c,x),o.child)}function Ij(a,o,c,h,v){if($i(o),o.stateNode===null){var x=Is,O=c.contextType;typeof O=="object"&&O!==null&&(x=tr(O)),x=new c(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Pp,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},op(o),O=c.contextType,x.context=typeof O=="object"&&O!==null?tr(O):Is,x.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(Tp(o,c,O,h),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&Pp.enqueueReplaceState(x,x.state,null),Ol(o,h,x,v),Nl(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){x=o.stateNode;var C=o.memoizedProps,$=Ki(c,C);x.props=$;var J=x.context,ie=c.contextType;O=Is,typeof ie=="object"&&ie!==null&&(O=tr(ie));var ue=c.getDerivedStateFromProps;ie=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C||J!==O)&&_j(o,x,h,O),Ga=!1;var te=o.memoizedState;x.state=te,Ol(o,h,x,v),Nl(),J=o.memoizedState,C||te!==J||Ga?(typeof ue=="function"&&(Tp(o,c,ue,h),J=o.memoizedState),($=Ga||wj(o,c,$,h,te,J,O))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=J),x.props=h,x.state=J,x.context=O,h=$):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,lp(a,o),O=o.memoizedProps,ie=Ki(c,O),x.props=ie,ue=o.pendingProps,te=x.context,J=c.contextType,$=Is,typeof J=="object"&&J!==null&&($=tr(J)),C=c.getDerivedStateFromProps,(J=typeof C=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==ue||te!==$)&&_j(o,x,h,$),Ga=!1,te=o.memoizedState,x.state=te,Ol(o,h,x,v),Nl();var ae=o.memoizedState;O!==ue||te!==ae||Ga||a!==null&&a.dependencies!==null&&Ru(a.dependencies)?(typeof C=="function"&&(Tp(o,c,C,h),ae=o.memoizedState),(ie=Ga||wj(o,c,ie,h,te,ae,$)||a!==null&&a.dependencies!==null&&Ru(a.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,ae,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,ae,$)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ae),x.props=h,x.state=ae,x.context=$,h=ie):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),h=!1)}return x=h,ed(a,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&h?(o.child=qi(o,a.child,null,v),o.child=qi(o,null,c,v)):rr(a,o,c,v),o.memoizedState=x.state,a=o.child):a=ia(a,o,v),a}function Lj(a,o,c,h){return Ii(),o.flags|=256,rr(a,o,c,h),o.child}var Ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lp(a){return{baseLanes:a,cachePool:E_()}}function $p(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=Br),a}function $j(a,o,c){var h=o.pendingProps,v=!1,x=(o.flags&128)!==0,O;if((O=x)||(O=a!==null&&a.memoizedState===null?!1:(jt.current&2)!==0),O&&(v=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,a===null){if(Le){if(v?Va(o):Wa(),(a=it)?(a=F1(a,nn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ua!==null?{id:In,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},c=v_(a),c.return=o,o.child=c,er=o,it=null)):a=null,a===null)throw Ha(o);return xg(a)?o.lanes=32:o.lanes=536870912,null}var C=h.children;return h=h.fallback,v?(Wa(),v=o.mode,C=td({mode:"hidden",children:C},v),h=Ri(h,v,c,null),C.return=o,h.return=o,C.sibling=h,o.child=C,h=o.child,h.memoizedState=Lp(c),h.childLanes=$p(a,O,c),o.memoizedState=Ip,Dl(null,h)):(Va(o),zp(o,C))}var $=a.memoizedState;if($!==null&&(C=$.dehydrated,C!==null)){if(x)o.flags&256?(Va(o),o.flags&=-257,o=Bp(a,o,c)):o.memoizedState!==null?(Wa(),o.child=a.child,o.flags|=128,o=null):(Wa(),C=h.fallback,v=o.mode,h=td({mode:"visible",children:h.children},v),C=Ri(C,v,c,null),C.flags|=2,h.return=o,C.return=o,h.sibling=C,o.child=h,qi(o,a.child,null,c),h=o.child,h.memoizedState=Lp(c),h.childLanes=$p(a,O,c),o.memoizedState=Ip,o=Dl(null,h));else if(Va(o),xg(C)){if(O=C.nextSibling&&C.nextSibling.dataset,O)var J=O.dgst;O=J,h=Error(n(419)),h.stack="",h.digest=O,wl({value:h,source:null,stack:null}),o=Bp(a,o,c)}else if(At||Bs(a,o,c,!1),O=(c&a.childLanes)!==0,At||O){if(O=Ze,O!==null&&(h=Sw(O,c),h!==0&&h!==$.retryLane))throw $.retryLane=h,Mi(a,h),kr(O,a,h),Mp;bg(C)||ud(),o=Bp(a,o,c)}else bg(C)?(o.flags|=192,o.child=a.child,o=null):(a=$.treeContext,it=sn(C.nextSibling),er=o,Le=!0,qa=null,nn=!1,a!==null&&x_(o,a),o=zp(o,h.children),o.flags|=4096);return o}return v?(Wa(),C=h.fallback,v=o.mode,$=a.child,J=$.sibling,h=Zn($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&65011712,J!==null?C=Zn(J,C):(C=Ri(C,v,c,null),C.flags|=2),C.return=o,h.return=o,h.sibling=C,o.child=h,Dl(null,h),h=o.child,C=a.child.memoizedState,C===null?C=Lp(c):(v=C.cachePool,v!==null?($=Nt._currentValue,v=v.parent!==$?{parent:$,pool:$}:v):v=E_(),C={baseLanes:C.baseLanes|c,cachePool:v}),h.memoizedState=C,h.childLanes=$p(a,O,c),o.memoizedState=Ip,Dl(a.child,h)):(Va(o),c=a.child,a=c.sibling,c=Zn(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,a!==null&&(O=o.deletions,O===null?(o.deletions=[a],o.flags|=16):O.push(a)),o.child=c,o.memoizedState=null,c)}function zp(a,o){return o=td({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function td(a,o){return a=Ir(22,a,null,o),a.lanes=0,a}function Bp(a,o,c){return qi(o,a.child,null,c),a=zp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function zj(a,o,c){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),tp(a.return,o,c)}function Up(a,o,c,h,v,x){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v,treeForkCount:x}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=c,O.tailMode=v,O.treeForkCount=x)}function Bj(a,o,c){var h=o.pendingProps,v=h.revealOrder,x=h.tail;h=h.children;var O=jt.current,C=(O&2)!==0;if(C?(O=O&1|2,o.flags|=128):O&=1,H(jt,O),rr(a,o,h,c),h=Le?xl:0,!C&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&zj(a,c,o);else if(a.tag===19)zj(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(c=o.child,v=null;c!==null;)a=c.alternate,a!==null&&Hu(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),Up(o,!1,v,c,x,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Hu(a)===null){o.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}Up(o,!0,c,null,x,h);break;case"together":Up(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function ia(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ja|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(Bs(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,c=Zn(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Zn(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function qp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Ru(a)))}function I3(a,o,c){switch(o.tag){case 3:me(o,o.stateNode.containerInfo),Ka(o,Nt,a.memoizedState.cache),Ii();break;case 27:case 5:ge(o);break;case 4:me(o,o.stateNode.containerInfo);break;case 10:Ka(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,hp(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Va(o),o.flags|=128,null):(c&o.child.childLanes)!==0?$j(a,o,c):(Va(o),a=ia(a,o,c),a!==null?a.sibling:null);Va(o);break;case 19:var v=(a.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Bs(a,o,c,!1),h=(c&o.childLanes)!==0),v){if(h)return Bj(a,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(jt,jt.current),h)break;return null;case 22:return o.lanes=0,Pj(a,o,c,o.pendingProps);case 24:Ka(o,Nt,a.memoizedState.cache)}return ia(a,o,c)}function Uj(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)At=!0;else{if(!qp(a,c)&&(o.flags&128)===0)return At=!1,I3(a,o,c);At=(a.flags&131072)!==0}else At=!1,Le&&(o.flags&1048576)!==0&&b_(o,xl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Bi(o.elementType),o.type=a,typeof a=="function")Ym(a)?(h=Ki(a,h),o.tag=1,o=Ij(null,o,a,h,c)):(o.tag=0,o=Rp(null,o,a,h,c));else{if(a!=null){var v=a.$$typeof;if(v===T){o.tag=11,o=Aj(null,o,a,h,c);break e}else if(v===I){o.tag=14,o=Cj(null,o,a,h,c);break e}}throw o=K(a)||a,Error(n(306,o,""))}}return o;case 0:return Rp(a,o,o.type,o.pendingProps,c);case 1:return h=o.type,v=Ki(h,o.pendingProps),Ij(a,o,h,v,c);case 3:e:{if(me(o,o.stateNode.containerInfo),a===null)throw Error(n(387));h=o.pendingProps;var x=o.memoizedState;v=x.element,lp(a,o),Ol(o,h,null,c);var O=o.memoizedState;if(h=O.cache,Ka(o,Nt,h),h!==x.cache&&rp(o,[Nt],c,!0),Nl(),h=O.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Lj(a,o,h,c);break e}else if(h!==v){v=en(Error(n(424)),o),wl(v),o=Lj(a,o,h,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(it=sn(a.firstChild),er=o,Le=!0,qa=null,nn=!0,c=P_(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ii(),h===v){o=ia(a,o,c);break e}rr(a,o,h,c)}o=o.child}return o;case 26:return ed(a,o),a===null?(c=J1(o.type,null,o.pendingProps,null))?o.memoizedState=c:Le||(c=o.type,a=o.pendingProps,h=vd(le.current).createElement(c),h[Zt]=o,h[br]=a,nr(h,c,a),Gt(h),o.stateNode=h):o.memoizedState=J1(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ge(o),a===null&&Le&&(h=o.stateNode=W1(o.type,o.pendingProps,le.current),er=o,nn=!0,v=it,ni(o.type)?(wg=v,it=sn(h.firstChild)):it=v),rr(a,o,o.pendingProps.children,c),ed(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Le&&((v=h=it)&&(h=fI(h,o.type,o.pendingProps,nn),h!==null?(o.stateNode=h,er=o,it=sn(h.firstChild),nn=!1,v=!0):v=!1),v||Ha(o)),ge(o),v=o.type,x=o.pendingProps,O=a!==null?a.memoizedProps:null,h=x.children,gg(v,x)?h=null:O!==null&&gg(v,O)&&(o.flags|=32),o.memoizedState!==null&&(v=pp(a,o,N3,null,null,c),Vl._currentValue=v),ed(a,o),rr(a,o,h,c),o.child;case 6:return a===null&&Le&&((a=c=it)&&(c=hI(c,o.pendingProps,nn),c!==null?(o.stateNode=c,er=o,it=null,a=!0):a=!1),a||Ha(o)),null;case 13:return $j(a,o,c);case 4:return me(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=qi(o,null,h,c):rr(a,o,h,c),o.child;case 11:return Aj(a,o,o.type,o.pendingProps,c);case 7:return rr(a,o,o.pendingProps,c),o.child;case 8:return rr(a,o,o.pendingProps.children,c),o.child;case 12:return rr(a,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,Ka(o,o.type,h.value),rr(a,o,h.children,c),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,$i(o),v=tr(v),h=h(v),o.flags|=1,rr(a,o,h,c),o.child;case 14:return Cj(a,o,o.type,o.pendingProps,c);case 15:return Tj(a,o,o.type,o.pendingProps,c);case 19:return Bj(a,o,c);case 31:return R3(a,o,c);case 22:return Pj(a,o,c,o.pendingProps);case 24:return $i(o),h=tr(Nt),a===null?(v=ip(),v===null&&(v=Ze,x=np(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=c),v=x),o.memoizedState={parent:h,cache:v},op(o),Ka(o,Nt,v)):((a.lanes&c)!==0&&(lp(a,o),Ol(o,null,null,c),Nl()),v=a.memoizedState,x=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Ka(o,Nt,h)):(h=x.cache,Ka(o,Nt,h),h!==v.cache&&rp(o,[Nt],c,!0))),rr(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function sa(a){a.flags|=4}function Hp(a,o,c,h,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(m1())a.flags|=8192;else throw Ui=zu,sp}else a.flags&=-16777217}function qj(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!nS(o))if(m1())a.flags|=8192;else throw Ui=zu,sp}function rd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?ww():536870912,a.lanes|=o,Js|=o)}function Ml(a,o){if(!Le)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function st(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(o)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=c,o}function L3(a,o,c){var h=o.pendingProps;switch(Qm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(o),null;case 1:return st(o),null;case 3:return c=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ra(Nt),ee(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(zs(o)?sa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zm())),st(o),null;case 26:var v=o.type,x=o.memoizedState;return a===null?(sa(o),x!==null?(st(o),qj(o,x)):(st(o),Hp(o,v,null,h,c))):x?x!==a.memoizedState?(sa(o),st(o),qj(o,x)):(st(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&sa(o),st(o),Hp(o,v,a,h,c)),null;case 27:if(Oe(o),c=le.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&sa(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return st(o),null}a=se.current,zs(o)?w_(o):(a=W1(v,h,c),o.stateNode=a,sa(o))}return st(o),null;case 5:if(Oe(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&sa(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return st(o),null}if(x=se.current,zs(o))w_(o);else{var O=vd(le.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?O.createElement(v,{is:h.is}):O.createElement(v)}}x[Zt]=o,x[br]=h;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=x;e:switch(nr(x,v,h),v){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&sa(o)}}return st(o),Hp(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&sa(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(a=le.current,zs(o)){if(a=o.stateNode,c=o.memoizedProps,h=null,v=er,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[Zt]=o,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||$1(a.nodeValue,c)),a||Ha(o,!0)}else a=vd(a).createTextNode(h),a[Zt]=o,o.stateNode=a}return st(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(h=zs(o),c!==null){if(a===null){if(!h)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Zt]=o}else Ii(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;st(o),a=!1}else c=Zm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?($r(o),o):($r(o),null);if((o.flags&128)!==0)throw Error(n(558))}return st(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=zs(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Zt]=o}else Ii(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;st(o),v=!1}else v=Zm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?($r(o),o):($r(o),null)}return $r(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==v&&(h.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),rd(o,o.updateQueue),st(o),null);case 4:return ee(),a===null&&dg(o.stateNode.containerInfo),st(o),null;case 10:return ra(o.type),st(o),null;case 19:if(G(jt),h=o.memoizedState,h===null)return st(o),null;if(v=(o.flags&128)!==0,x=h.rendering,x===null)if(v)Ml(h,!1);else{if(bt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Hu(a),x!==null){for(o.flags|=128,Ml(h,!1),a=x.updateQueue,o.updateQueue=a,rd(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)g_(c,a),c=c.sibling;return H(jt,jt.current&1|2),Le&&ea(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&fr()>od&&(o.flags|=128,v=!0,Ml(h,!1),o.lanes=4194304)}else{if(!v)if(a=Hu(x),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,rd(o,a),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!Le)return st(o),null}else 2*fr()-h.renderingStartTime>od&&c!==536870912&&(o.flags|=128,v=!0,Ml(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(a=h.last,a!==null?a.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=fr(),a.sibling=null,c=jt.current,H(jt,v?c&1|2:c&1),Le&&ea(o,h.treeForkCount),a):(st(o),null);case 22:case 23:return $r(o),fp(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(st(o),o.subtreeFlags&6&&(o.flags|=8192)):st(o),c=o.updateQueue,c!==null&&rd(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),a!==null&&G(zi),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ra(Nt),st(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function $3(a,o){switch(Qm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ra(Nt),ee(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Oe(o),null;case 31:if(o.memoizedState!==null){if($r(o),o.alternate===null)throw Error(n(340));Ii()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if($r(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ii()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return G(jt),null;case 4:return ee(),null;case 10:return ra(o.type),null;case 22:case 23:return $r(o),fp(),a!==null&&G(zi),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ra(Nt),null;case 25:return null;default:return null}}function Hj(a,o){switch(Qm(o),o.tag){case 3:ra(Nt),ee();break;case 26:case 27:case 5:Oe(o);break;case 4:ee();break;case 31:o.memoizedState!==null&&$r(o);break;case 13:$r(o);break;case 19:G(jt);break;case 10:ra(o.type);break;case 22:case 23:$r(o),fp(),a!==null&&G(zi);break;case 24:ra(Nt)}}function Rl(a,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&a)===a){h=void 0;var x=c.create,O=c.inst;h=x(),O.destroy=h}c=c.next}while(c!==v)}}catch(C){Ge(o,o.return,C)}}function Xa(a,o,c){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var x=v.next;h=x;do{if((h.tag&a)===a){var O=h.inst,C=O.destroy;if(C!==void 0){O.destroy=void 0,v=o;var $=c,J=C;try{J()}catch(ie){Ge(v,$,ie)}}}h=h.next}while(h!==x)}}catch(ie){Ge(o,o.return,ie)}}function Kj(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{M_(o,c)}catch(h){Ge(a,a.return,h)}}}function Gj(a,o,c){c.props=Ki(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){Ge(a,o,h)}}function Il(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(v){Ge(a,o,v)}}function $n(a,o){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){Ge(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ge(a,o,v)}else c.current=null}function Fj(a){var o=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){Ge(a,a.return,v)}}function Kp(a,o,c){try{var h=a.stateNode;sI(h,a.type,c,o),h[br]=o}catch(v){Ge(a,a.return,v)}}function Yj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ni(a.type)||a.tag===4}function Gp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Yj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ni(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Fp(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Qn));else if(h!==4&&(h===27&&ni(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Fp(a,o,c),a=a.sibling;a!==null;)Fp(a,o,c),a=a.sibling}function nd(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(h!==4&&(h===27&&ni(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(nd(a,o,c),a=a.sibling;a!==null;)nd(a,o,c),a=a.sibling}function Vj(a){var o=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);nr(o,h,c),o[Zt]=a,o[br]=c}catch(x){Ge(a,a.return,x)}}var oa=!1,Ct=!1,Yp=!1,Wj=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function z3(a,o){if(a=a.containerInfo,mg=Sd,a=o_(a),Bm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var O=0,C=-1,$=-1,J=0,ie=0,ue=a,te=null;t:for(;;){for(var ae;ue!==c||v!==0&&ue.nodeType!==3||(C=O+v),ue!==x||h!==0&&ue.nodeType!==3||($=O+h),ue.nodeType===3&&(O+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)te=ue,ue=ae;for(;;){if(ue===a)break t;if(te===c&&++J===v&&(C=O),te===x&&++ie===h&&($=O),(ae=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ae}c=C===-1||$===-1?null:{start:C,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(pg={focusedElem:a,selectionRange:c},Sd=!1,Ft=o;Ft!==null;)if(o=Ft,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Ft=a;else for(;Ft!==null;){switch(o=Ft,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)v=a[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,v=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var be=Ki(c.type,v);a=h.getSnapshotBeforeUpdate(be,x),h.__reactInternalSnapshotBeforeUpdate=a}catch(Ee){Ge(c,c.return,Ee)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)yg(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":yg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,Ft=a;break}Ft=o.return}}function Xj(a,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:ca(a,c),h&4&&Rl(5,c);break;case 1:if(ca(a,c),h&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(O){Ge(c,c.return,O)}else{var v=Ki(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(O){Ge(c,c.return,O)}}h&64&&Kj(c),h&512&&Il(c,c.return);break;case 3:if(ca(a,c),h&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{M_(a,o)}catch(O){Ge(c,c.return,O)}}break;case 27:o===null&&h&4&&Vj(c);case 26:case 5:ca(a,c),o===null&&h&4&&Fj(c),h&512&&Il(c,c.return);break;case 12:ca(a,c);break;case 31:ca(a,c),h&4&&Zj(a,c);break;case 13:ca(a,c),h&4&&e1(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=V3.bind(null,c),mI(a,c))));break;case 22:if(h=c.memoizedState!==null||oa,!h){o=o!==null&&o.memoizedState!==null||Ct,v=oa;var x=Ct;oa=h,(Ct=o)&&!x?ua(a,c,(c.subtreeFlags&8772)!==0):ca(a,c),oa=v,Ct=x}break;case 30:break;default:ca(a,c)}}function Qj(a){var o=a.alternate;o!==null&&(a.alternate=null,Qj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&jm(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var lt=null,wr=!1;function la(a,o,c){for(c=c.child;c!==null;)Jj(a,o,c),c=c.sibling}function Jj(a,o,c){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Xr,c)}catch{}switch(c.tag){case 26:Ct||$n(c,o),la(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ct||$n(c,o);var h=lt,v=wr;ni(c.type)&&(lt=c.stateNode,wr=!1),la(a,o,c),Gl(c.stateNode),lt=h,wr=v;break;case 5:Ct||$n(c,o);case 6:if(h=lt,v=wr,lt=null,la(a,o,c),lt=h,wr=v,lt!==null)if(wr)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(c.stateNode)}catch(x){Ge(c,o,x)}else try{lt.removeChild(c.stateNode)}catch(x){Ge(c,o,x)}break;case 18:lt!==null&&(wr?(a=lt,K1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),so(a)):K1(lt,c.stateNode));break;case 4:h=lt,v=wr,lt=c.stateNode.containerInfo,wr=!0,la(a,o,c),lt=h,wr=v;break;case 0:case 11:case 14:case 15:Xa(2,c,o),Ct||Xa(4,c,o),la(a,o,c);break;case 1:Ct||($n(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Gj(c,o,h)),la(a,o,c);break;case 21:la(a,o,c);break;case 22:Ct=(h=Ct)||c.memoizedState!==null,la(a,o,c),Ct=h;break;default:la(a,o,c)}}function Zj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{so(a)}catch(c){Ge(o,o.return,c)}}}function e1(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{so(a)}catch(c){Ge(o,o.return,c)}}function B3(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Wj),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Wj),o;default:throw Error(n(435,a.tag))}}function ad(a,o){var c=B3(a);o.forEach(function(h){if(!c.has(h)){c.add(h);var v=W3.bind(null,a,h);h.then(v,v)}})}function _r(a,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],x=a,O=o,C=O;e:for(;C!==null;){switch(C.tag){case 27:if(ni(C.type)){lt=C.stateNode,wr=!1;break e}break;case 5:lt=C.stateNode,wr=!1;break e;case 3:case 4:lt=C.stateNode.containerInfo,wr=!0;break e}C=C.return}if(lt===null)throw Error(n(160));Jj(x,O,v),lt=null,wr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)t1(o,a),o=o.sibling}var bn=null;function t1(a,o){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:_r(o,a),jr(a),h&4&&(Xa(3,a,a.return),Rl(3,a),Xa(5,a,a.return));break;case 1:_r(o,a),jr(a),h&512&&(Ct||c===null||$n(c,c.return)),h&64&&oa&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=bn;if(_r(o,a),jr(a),h&512&&(Ct||c===null||$n(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":x=v.getElementsByTagName("title")[0],(!x||x[cl]||x[Zt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(h),v.head.insertBefore(x,v.querySelector("head > title"))),nr(x,h,c),x[Zt]=a,Gt(x),h=x;break e;case"link":var O=tS("link","href",v).get(h+(c.href||""));if(O){for(var C=0;C<O.length;C++)if(x=O[C],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(C,1);break t}}x=v.createElement(h),nr(x,h,c),v.head.appendChild(x);break;case"meta":if(O=tS("meta","content",v).get(h+(c.content||""))){for(C=0;C<O.length;C++)if(x=O[C],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(C,1);break t}}x=v.createElement(h),nr(x,h,c),v.head.appendChild(x);break;default:throw Error(n(468,h))}x[Zt]=a,Gt(x),h=x}a.stateNode=h}else rS(v,a.type,a.stateNode);else a.stateNode=eS(v,h,a.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?rS(v,a.type,a.stateNode):eS(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Kp(a,a.memoizedProps,c.memoizedProps)}break;case 27:_r(o,a),jr(a),h&512&&(Ct||c===null||$n(c,c.return)),c!==null&&h&4&&Kp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(_r(o,a),jr(a),h&512&&(Ct||c===null||$n(c,c.return)),a.flags&32){v=a.stateNode;try{As(v,"")}catch(be){Ge(a,a.return,be)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,Kp(a,v,c!==null?c.memoizedProps:v)),h&1024&&(Yp=!0);break;case 6:if(_r(o,a),jr(a),h&4){if(a.stateNode===null)throw Error(n(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(be){Ge(a,a.return,be)}}break;case 3:if(xd=null,v=bn,bn=yd(o.containerInfo),_r(o,a),bn=v,jr(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{so(o.containerInfo)}catch(be){Ge(a,a.return,be)}Yp&&(Yp=!1,r1(a));break;case 4:h=bn,bn=yd(a.stateNode.containerInfo),_r(o,a),jr(a),bn=h;break;case 12:_r(o,a),jr(a);break;case 31:_r(o,a),jr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ad(a,h)));break;case 13:_r(o,a),jr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(sd=fr()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ad(a,h)));break;case 22:v=a.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,J=oa,ie=Ct;if(oa=J||v,Ct=ie||$,_r(o,a),Ct=ie,oa=J,jr(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||$||oa||Ct||Gi(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){$=c=o;try{if(x=$.stateNode,v)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{C=$.stateNode;var ue=$.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;C.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(be){Ge($,$.return,be)}}}else if(o.tag===6){if(c===null){$=o;try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(be){Ge($,$.return,be)}}}else if(o.tag===18){if(c===null){$=o;try{var ae=$.stateNode;v?G1(ae,!0):G1($.stateNode,!1)}catch(be){Ge($,$.return,be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,ad(a,c))));break;case 19:_r(o,a),jr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,ad(a,h)));break;case 30:break;case 21:break;default:_r(o,a),jr(a)}}function jr(a){var o=a.flags;if(o&2){try{for(var c,h=a.return;h!==null;){if(Yj(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var v=c.stateNode,x=Gp(a);nd(a,x,v);break;case 5:var O=c.stateNode;c.flags&32&&(As(O,""),c.flags&=-33);var C=Gp(a);nd(a,C,O);break;case 3:case 4:var $=c.stateNode.containerInfo,J=Gp(a);Fp(a,J,$);break;default:throw Error(n(161))}}catch(ie){Ge(a,a.return,ie)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function r1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;r1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ca(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Xj(a,o.alternate,o),o=o.sibling}function Gi(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Xa(4,o,o.return),Gi(o);break;case 1:$n(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Gj(o,o.return,c),Gi(o);break;case 27:Gl(o.stateNode);case 26:case 5:$n(o,o.return),Gi(o);break;case 22:o.memoizedState===null&&Gi(o);break;case 30:Gi(o);break;default:Gi(o)}a=a.sibling}}function ua(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,x=o,O=x.flags;switch(x.tag){case 0:case 11:case 15:ua(v,x,c),Rl(4,x);break;case 1:if(ua(v,x,c),h=x,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){Ge(h,h.return,J)}if(h=x,v=h.updateQueue,v!==null){var C=h.stateNode;try{var $=v.shared.hiddenCallbacks;if($!==null)for(v.shared.hiddenCallbacks=null,v=0;v<$.length;v++)D_($[v],C)}catch(J){Ge(h,h.return,J)}}c&&O&64&&Kj(x),Il(x,x.return);break;case 27:Vj(x);case 26:case 5:ua(v,x,c),c&&h===null&&O&4&&Fj(x),Il(x,x.return);break;case 12:ua(v,x,c);break;case 31:ua(v,x,c),c&&O&4&&Zj(v,x);break;case 13:ua(v,x,c),c&&O&4&&e1(v,x);break;case 22:x.memoizedState===null&&ua(v,x,c),Il(x,x.return);break;case 30:break;default:ua(v,x,c)}o=o.sibling}}function Vp(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&_l(c))}function Wp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&_l(a))}function xn(a,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)n1(a,o,c,h),o=o.sibling}function n1(a,o,c,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:xn(a,o,c,h),v&2048&&Rl(9,o);break;case 1:xn(a,o,c,h);break;case 3:xn(a,o,c,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&_l(a)));break;case 12:if(v&2048){xn(a,o,c,h),a=o.stateNode;try{var x=o.memoizedProps,O=x.id,C=x.onPostCommit;typeof C=="function"&&C(O,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){Ge(o,o.return,$)}}else xn(a,o,c,h);break;case 31:xn(a,o,c,h);break;case 13:xn(a,o,c,h);break;case 23:break;case 22:x=o.stateNode,O=o.alternate,o.memoizedState!==null?x._visibility&2?xn(a,o,c,h):Ll(a,o):x._visibility&2?xn(a,o,c,h):(x._visibility|=2,Ws(a,o,c,h,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Vp(O,o);break;case 24:xn(a,o,c,h),v&2048&&Wp(o.alternate,o);break;default:xn(a,o,c,h)}}function Ws(a,o,c,h,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,O=o,C=c,$=h,J=O.flags;switch(O.tag){case 0:case 11:case 15:Ws(x,O,C,$,v),Rl(8,O);break;case 23:break;case 22:var ie=O.stateNode;O.memoizedState!==null?ie._visibility&2?Ws(x,O,C,$,v):Ll(x,O):(ie._visibility|=2,Ws(x,O,C,$,v)),v&&J&2048&&Vp(O.alternate,O);break;case 24:Ws(x,O,C,$,v),v&&J&2048&&Wp(O.alternate,O);break;default:Ws(x,O,C,$,v)}o=o.sibling}}function Ll(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,h=o,v=h.flags;switch(h.tag){case 22:Ll(c,h),v&2048&&Vp(h.alternate,h);break;case 24:Ll(c,h),v&2048&&Wp(h.alternate,h);break;default:Ll(c,h)}o=o.sibling}}var $l=8192;function Xs(a,o,c){if(a.subtreeFlags&$l)for(a=a.child;a!==null;)a1(a,o,c),a=a.sibling}function a1(a,o,c){switch(a.tag){case 26:Xs(a,o,c),a.flags&$l&&a.memoizedState!==null&&EI(c,bn,a.memoizedState,a.memoizedProps);break;case 5:Xs(a,o,c);break;case 3:case 4:var h=bn;bn=yd(a.stateNode.containerInfo),Xs(a,o,c),bn=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=$l,$l=16777216,Xs(a,o,c),$l=h):Xs(a,o,c));break;default:Xs(a,o,c)}}function i1(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function zl(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Ft=h,o1(h,a)}i1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)s1(a),a=a.sibling}function s1(a){switch(a.tag){case 0:case 11:case 15:zl(a),a.flags&2048&&Xa(9,a,a.return);break;case 3:zl(a);break;case 12:zl(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,id(a)):zl(a);break;default:zl(a)}}function id(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Ft=h,o1(h,a)}i1(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Xa(8,o,o.return),id(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,id(o));break;default:id(o)}a=a.sibling}}function o1(a,o){for(;Ft!==null;){var c=Ft;switch(c.tag){case 0:case 11:case 15:Xa(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:_l(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Ft=h;else e:for(c=a;Ft!==null;){h=Ft;var v=h.sibling,x=h.return;if(Qj(h),h===c){Ft=null;break e}if(v!==null){v.return=x,Ft=v;break e}Ft=x}}}var U3={getCacheForType:function(a){var o=tr(Nt),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return tr(Nt).controller.signal}},q3=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,De=null,Re=0,Ke=0,zr=null,Qa=!1,Qs=!1,Xp=!1,da=0,bt=0,Ja=0,Fi=0,Qp=0,Br=0,Js=0,Bl=null,Sr=null,Jp=!1,sd=0,l1=0,od=1/0,ld=null,Za=null,Lt=0,ei=null,Zs=null,fa=0,Zp=0,eg=null,c1=null,Ul=0,tg=null;function Ur(){return(He&2)!==0&&Re!==0?Re&-Re:M.T!==null?og():kw()}function u1(){if(Br===0)if((Re&536870912)===0||Le){var a=gu;gu<<=1,(gu&3932160)===0&&(gu=262144),Br=a}else Br=536870912;return a=Lr.current,a!==null&&(a.flags|=32),Br}function kr(a,o,c){(a===Ze&&(Ke===2||Ke===9)||a.cancelPendingCommit!==null)&&(eo(a,0),ti(a,Re,Br,!1)),ll(a,c),((He&2)===0||a!==Ze)&&(a===Ze&&((He&2)===0&&(Fi|=c),bt===4&&ti(a,Re,Br,!1)),zn(a))}function d1(a,o,c){if((He&6)!==0)throw Error(n(327));var h=!c&&(o&127)===0&&(o&a.expiredLanes)===0||ol(a,o),v=h?G3(a,o):ng(a,o,!0),x=h;do{if(v===0){Qs&&!h&&ti(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!H3(c)){v=ng(a,o,!1),x=!1;continue}if(v===2){if(x=o,a.errorRecoveryDisabledLanes&x)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var C=a;v=Bl;var $=C.current.memoizedState.isDehydrated;if($&&(eo(C,O).flags|=256),O=ng(C,O,!1),O!==2){if(Xp&&!$){C.errorRecoveryDisabledLanes|=x,Fi|=x,v=4;break e}x=Sr,Sr=v,x!==null&&(Sr===null?Sr=x:Sr.push.apply(Sr,x))}v=O}if(x=!1,v!==2)continue}}if(v===1){eo(a,0),ti(a,o,0,!0);break}e:{switch(h=a,x=v,x){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:ti(h,o,Br,!Qa);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=sd+300-fr(),10<v)){if(ti(h,o,Br,!Qa),yu(h,0,!0)!==0)break e;fa=o,h.timeoutHandle=q1(f1.bind(null,h,c,Sr,ld,Jp,o,Br,Fi,Js,Qa,x,"Throttled",-0,0),v);break e}f1(h,c,Sr,ld,Jp,o,Br,Fi,Js,Qa,x,null,-0,0)}}break}while(!0);zn(a)}function f1(a,o,c,h,v,x,O,C,$,J,ie,ue,te,ae){if(a.timeoutHandle=-1,ue=o.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},a1(o,x,ue);var be=(x&62914560)===x?sd-fr():(x&4194048)===x?l1-fr():0;if(be=NI(ue,be),be!==null){fa=x,a.cancelPendingCommit=be(x1.bind(null,a,o,x,c,h,v,O,C,$,ie,ue,null,te,ae)),ti(a,x,O,!J);return}}x1(a,o,x,c,h,v,O,C,$)}function H3(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],x=v.getSnapshot;v=v.value;try{if(!Rr(x(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ti(a,o,c,h){o&=~Qp,o&=~Fi,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var x=31-Mr(v),O=1<<x;h[x]=-1,v&=~O}c!==0&&_w(a,c,o)}function cd(){return(He&6)===0?(ql(0),!1):!0}function rg(){if(De!==null){if(Ke===0)var a=De.return;else a=De,ta=Li=null,yp(a),Ks=null,Sl=0,a=De;for(;a!==null;)Hj(a.alternate,a),a=a.return;De=null}}function eo(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,cI(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),fa=0,rg(),Ze=a,De=c=Zn(a.current,null),Re=o,Ke=0,zr=null,Qa=!1,Qs=ol(a,o),Xp=!1,Js=Br=Qp=Fi=Ja=bt=0,Sr=Bl=null,Jp=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-Mr(h),x=1<<v;o|=a[v],h&=~x}return da=o,Cu(),c}function h1(a,o){Ce=null,M.H=Pl,o===Hs||o===$u?(o=A_(),Ke=3):o===sp?(o=A_(),Ke=4):Ke=o===Mp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,zr=o,De===null&&(bt=1,Ju(a,en(o,a.current)))}function m1(){var a=Lr.current;return a===null?!0:(Re&4194048)===Re?an===null:(Re&62914560)===Re||(Re&536870912)!==0?a===an:!1}function p1(){var a=M.H;return M.H=Pl,a===null?Pl:a}function g1(){var a=M.A;return M.A=U3,a}function ud(){bt=4,Qa||(Re&4194048)!==Re&&Lr.current!==null||(Qs=!0),(Ja&134217727)===0&&(Fi&134217727)===0||Ze===null||ti(Ze,Re,Br,!1)}function ng(a,o,c){var h=He;He|=2;var v=p1(),x=g1();(Ze!==a||Re!==o)&&(ld=null,eo(a,o)),o=!1;var O=bt;e:do try{if(Ke!==0&&De!==null){var C=De,$=zr;switch(Ke){case 8:rg(),O=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(o=!0);var J=Ke;if(Ke=0,zr=null,to(a,C,$,J),c&&Qs){O=0;break e}break;default:J=Ke,Ke=0,zr=null,to(a,C,$,J)}}K3(),O=bt;break}catch(ie){h1(a,ie)}while(!0);return o&&a.shellSuspendCounter++,ta=Li=null,He=h,M.H=v,M.A=x,De===null&&(Ze=null,Re=0,Cu()),O}function K3(){for(;De!==null;)v1(De)}function G3(a,o){var c=He;He|=2;var h=p1(),v=g1();Ze!==a||Re!==o?(ld=null,od=fr()+500,eo(a,o)):Qs=ol(a,o);e:do try{if(Ke!==0&&De!==null){o=De;var x=zr;t:switch(Ke){case 1:Ke=0,zr=null,to(a,o,x,1);break;case 2:case 9:if(N_(x)){Ke=0,zr=null,y1(o);break}o=function(){Ke!==2&&Ke!==9||Ze!==a||(Ke=7),zn(a)},x.then(o,o);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:N_(x)?(Ke=0,zr=null,y1(o)):(Ke=0,zr=null,to(a,o,x,7));break;case 5:var O=null;switch(De.tag){case 26:O=De.memoizedState;case 5:case 27:var C=De;if(O?nS(O):C.stateNode.complete){Ke=0,zr=null;var $=C.sibling;if($!==null)De=$;else{var J=C.return;J!==null?(De=J,dd(J)):De=null}break t}}Ke=0,zr=null,to(a,o,x,5);break;case 6:Ke=0,zr=null,to(a,o,x,6);break;case 8:rg(),bt=6;break e;default:throw Error(n(462))}}F3();break}catch(ie){h1(a,ie)}while(!0);return ta=Li=null,M.H=h,M.A=v,He=c,De!==null?0:(Ze=null,Re=0,Cu(),bt)}function F3(){for(;De!==null&&!fu();)v1(De)}function v1(a){var o=Uj(a.alternate,a,da);a.memoizedProps=a.pendingProps,o===null?dd(a):De=o}function y1(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=Rj(c,o,o.pendingProps,o.type,void 0,Re);break;case 11:o=Rj(c,o,o.pendingProps,o.type.render,o.ref,Re);break;case 5:yp(o);default:Hj(c,o),o=De=g_(o,da),o=Uj(c,o,da)}a.memoizedProps=a.pendingProps,o===null?dd(a):De=o}function to(a,o,c,h){ta=Li=null,yp(o),Ks=null,Sl=0;var v=o.return;try{if(M3(a,v,o,c,Re)){bt=1,Ju(a,en(c,a.current)),De=null;return}}catch(x){if(v!==null)throw De=v,x;bt=1,Ju(a,en(c,a.current)),De=null;return}o.flags&32768?(Le||h===1?a=!0:Qs||(Re&536870912)!==0?a=!1:(Qa=a=!0,(h===2||h===9||h===3||h===6)&&(h=Lr.current,h!==null&&h.tag===13&&(h.flags|=16384))),b1(o,a)):dd(o)}function dd(a){var o=a;do{if((o.flags&32768)!==0){b1(o,Qa);return}a=o.return;var c=L3(o.alternate,o,da);if(c!==null){De=c;return}if(o=o.sibling,o!==null){De=o;return}De=o=a}while(o!==null);bt===0&&(bt=5)}function b1(a,o){do{var c=$3(a.alternate,a);if(c!==null){c.flags&=32767,De=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){De=a;return}De=a=c}while(a!==null);bt=6,De=null}function x1(a,o,c,h,v,x,O,C,$){a.cancelPendingCommit=null;do fd();while(Lt!==0);if((He&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(x=o.lanes|o.childLanes,x|=Gm,kR(a,c,x,O,C,$),a===Ze&&(De=Ze=null,Re=0),Zs=o,ei=a,fa=c,Zp=x,eg=v,c1=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,X3(pe,function(){return k1(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=M.T,M.T=null,v=L.p,L.p=2,O=He,He|=4;try{z3(a,o,c)}finally{He=O,L.p=v,M.T=h}}Lt=1,w1(),_1(),j1()}}function w1(){if(Lt===1){Lt=0;var a=ei,o=Zs,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=M.T,M.T=null;var h=L.p;L.p=2;var v=He;He|=4;try{t1(o,a);var x=pg,O=o_(a.containerInfo),C=x.focusedElem,$=x.selectionRange;if(O!==C&&C&&C.ownerDocument&&s_(C.ownerDocument.documentElement,C)){if($!==null&&Bm(C)){var J=$.start,ie=$.end;if(ie===void 0&&(ie=J),"selectionStart"in C)C.selectionStart=J,C.selectionEnd=Math.min(ie,C.value.length);else{var ue=C.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ae=te.getSelection(),be=C.textContent.length,Ee=Math.min($.start,be),Xe=$.end===void 0?Ee:Math.min($.end,be);!ae.extend&&Ee>Xe&&(O=Xe,Xe=Ee,Ee=O);var F=i_(C,Ee),z=i_(C,Xe);if(F&&z&&(ae.rangeCount!==1||ae.anchorNode!==F.node||ae.anchorOffset!==F.offset||ae.focusNode!==z.node||ae.focusOffset!==z.offset)){var Q=ue.createRange();Q.setStart(F.node,F.offset),ae.removeAllRanges(),Ee>Xe?(ae.addRange(Q),ae.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),ae.addRange(Q))}}}}for(ue=[],ae=C;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ue.length;C++){var oe=ue[C];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Sd=!!mg,pg=mg=null}finally{He=v,L.p=h,M.T=c}}a.current=o,Lt=2}}function _1(){if(Lt===2){Lt=0;var a=ei,o=Zs,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=M.T,M.T=null;var h=L.p;L.p=2;var v=He;He|=4;try{Xj(a,o.alternate,o)}finally{He=v,L.p=h,M.T=c}}Lt=3}}function j1(){if(Lt===4||Lt===3){Lt=0,hu();var a=ei,o=Zs,c=fa,h=c1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Lt=5:(Lt=0,Zs=ei=null,S1(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Za=null),wm(c),o=o.stateNode,Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Xr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=M.T,v=L.p,L.p=2,M.T=null;try{for(var x=a.onRecoverableError,O=0;O<h.length;O++){var C=h[O];x(C.value,{componentStack:C.stack})}}finally{M.T=o,L.p=v}}(fa&3)!==0&&fd(),zn(a),v=a.pendingLanes,(c&261930)!==0&&(v&42)!==0?a===tg?Ul++:(Ul=0,tg=a):Ul=0,ql(0)}}function S1(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,_l(o)))}function fd(){return w1(),_1(),j1(),k1()}function k1(){if(Lt!==5)return!1;var a=ei,o=Zp;Zp=0;var c=wm(fa),h=M.T,v=L.p;try{L.p=32>c?32:c,M.T=null,c=eg,eg=null;var x=ei,O=fa;if(Lt=0,Zs=ei=null,fa=0,(He&6)!==0)throw Error(n(331));var C=He;if(He|=4,s1(x.current),n1(x,x.current,O,c),He=C,ql(0,!1),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Xr,x)}catch{}return!0}finally{L.p=v,M.T=h,S1(a,o)}}function E1(a,o,c){o=en(c,o),o=Dp(a.stateNode,o,2),a=Ya(a,o,2),a!==null&&(ll(a,2),zn(a))}function Ge(a,o,c){if(a.tag===3)E1(a,a,c);else for(;o!==null;){if(o.tag===3){E1(o,a,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Za===null||!Za.has(h))){a=en(c,a),c=Nj(2),h=Ya(o,c,2),h!==null&&(Oj(c,h,o,a),ll(h,2),zn(h));break}}o=o.return}}function ag(a,o,c){var h=a.pingCache;if(h===null){h=a.pingCache=new q3;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(c)||(Xp=!0,v.add(c),a=Y3.bind(null,a,o,c),o.then(a,a))}function Y3(a,o,c){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Ze===a&&(Re&c)===c&&(bt===4||bt===3&&(Re&62914560)===Re&&300>fr()-sd?(He&2)===0&&eo(a,0):Qp|=c,Js===Re&&(Js=0)),zn(a)}function N1(a,o){o===0&&(o=ww()),a=Mi(a,o),a!==null&&(ll(a,o),zn(a))}function V3(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),N1(a,c)}function W3(a,o){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),N1(a,c)}function X3(a,o){return nl(a,o)}var hd=null,ro=null,ig=!1,md=!1,sg=!1,ri=0;function zn(a){a!==ro&&a.next===null&&(ro===null?hd=ro=a:ro=ro.next=a),md=!0,ig||(ig=!0,J3())}function ql(a,o){if(!sg&&md){sg=!0;do for(var c=!1,h=hd;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var x=0;else{var O=h.suspendedLanes,C=h.pingedLanes;x=(1<<31-Mr(42|a)+1)-1,x&=v&~(O&~C),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,T1(h,x))}else x=Re,x=yu(h,h===Ze?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||ol(h,x)||(c=!0,T1(h,x));h=h.next}while(c);sg=!1}}function Q3(){O1()}function O1(){md=ig=!1;var a=0;ri!==0&&lI()&&(a=ri);for(var o=fr(),c=null,h=hd;h!==null;){var v=h.next,x=A1(h,o);x===0?(h.next=null,c===null?hd=v:c.next=v,v===null&&(ro=c)):(c=h,(a!==0||(x&3)!==0)&&(md=!0)),h=v}Lt!==0&&Lt!==5||ql(a),ri!==0&&(ri=0)}function A1(a,o){for(var c=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var O=31-Mr(x),C=1<<O,$=v[O];$===-1?((C&c)===0||(C&h)!==0)&&(v[O]=SR(C,o)):$<=o&&(a.expiredLanes|=C),x&=~C}if(o=Ze,c=Re,c=yu(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===o&&(Ke===2||Ke===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&al(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||ol(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(h!==null&&al(h),wm(c)){case 2:case 8:c=fe;break;case 32:c=pe;break;case 268435456:c=hr;break;default:c=pe}return h=C1.bind(null,a),c=nl(c,h),a.callbackPriority=o,a.callbackNode=c,o}return h!==null&&h!==null&&al(h),a.callbackPriority=2,a.callbackNode=null,2}function C1(a,o){if(Lt!==0&&Lt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(fd()&&a.callbackNode!==c)return null;var h=Re;return h=yu(a,a===Ze?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(d1(a,h,o),A1(a,fr()),a.callbackNode!=null&&a.callbackNode===c?C1.bind(null,a):null)}function T1(a,o){if(fd())return null;d1(a,o,!0)}function J3(){uI(function(){(He&6)!==0?nl(il,Q3):O1()})}function og(){if(ri===0){var a=Us;a===0&&(a=pu,pu<<=1,(pu&261888)===0&&(pu=256)),ri=a}return ri}function P1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:_u(""+a)}function D1(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function Z3(a,o,c,h,v){if(o==="submit"&&c&&c.stateNode===v){var x=P1((v[br]||null).action),O=h.submitter;O&&(o=(o=O[br]||null)?P1(o.formAction):O.getAttribute("formAction"),o!==null&&(x=o,O=null));var C=new Eu("action","action",null,h,v);a.push({event:C,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ri!==0){var $=O?D1(v,O):new FormData(v);Np(c,{pending:!0,data:$,method:v.method,action:x},null,$)}}else typeof x=="function"&&(C.preventDefault(),$=O?D1(v,O):new FormData(v),Np(c,{pending:!0,data:$,method:v.method,action:x},x,$))},currentTarget:v}]})}}for(var lg=0;lg<Km.length;lg++){var cg=Km[lg],eI=cg.toLowerCase(),tI=cg[0].toUpperCase()+cg.slice(1);yn(eI,"on"+tI)}yn(u_,"onAnimationEnd"),yn(d_,"onAnimationIteration"),yn(f_,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(v3,"onTransitionRun"),yn(y3,"onTransitionStart"),yn(b3,"onTransitionCancel"),yn(h_,"onTransitionEnd"),Ns("onMouseEnter",["mouseout","mouseover"]),Ns("onMouseLeave",["mouseout","mouseover"]),Ns("onPointerEnter",["pointerout","pointerover"]),Ns("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function M1(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],v=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var O=h.length-1;0<=O;O--){var C=h[O],$=C.instance,J=C.currentTarget;if(C=C.listener,$!==x&&v.isPropagationStopped())break e;x=C,v.currentTarget=J;try{x(v)}catch(ie){Au(ie)}v.currentTarget=null,x=$}else for(O=0;O<h.length;O++){if(C=h[O],$=C.instance,J=C.currentTarget,C=C.listener,$!==x&&v.isPropagationStopped())break e;x=C,v.currentTarget=J;try{x(v)}catch(ie){Au(ie)}v.currentTarget=null,x=$}}}}function Me(a,o){var c=o[_m];c===void 0&&(c=o[_m]=new Set);var h=a+"__bubble";c.has(h)||(R1(o,a,2,!1),c.add(h))}function ug(a,o,c){var h=0;o&&(h|=4),R1(c,a,h,o)}var pd="_reactListening"+Math.random().toString(36).slice(2);function dg(a){if(!a[pd]){a[pd]=!0,Ow.forEach(function(c){c!=="selectionchange"&&(rI.has(c)||ug(c,!1,a),ug(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[pd]||(o[pd]=!0,ug("selectionchange",!1,o))}}function R1(a,o,c,h){switch(uS(o)){case 2:var v=CI;break;case 8:v=TI;break;default:v=Eg}c=v.bind(null,o,c,a),v=void 0,!Tm||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,c,{capture:!0,passive:v}):a.addEventListener(o,c,!0):v!==void 0?a.addEventListener(o,c,{passive:v}):a.addEventListener(o,c,!1)}function fg(a,o,c,h,v){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var C=h.stateNode.containerInfo;if(C===v)break;if(O===4)for(O=h.return;O!==null;){var $=O.tag;if(($===3||$===4)&&O.stateNode.containerInfo===v)return;O=O.return}for(;C!==null;){if(O=Ss(C),O===null)return;if($=O.tag,$===5||$===6||$===26||$===27){h=x=O;continue e}C=C.parentNode}}h=h.return}Bw(function(){var J=x,ie=Am(c),ue=[];e:{var te=m_.get(a);if(te!==void 0){var ae=Eu,be=a;switch(a){case"keypress":if(Su(c)===0)break e;case"keydown":case"keyup":ae=WR;break;case"focusin":be="focus",ae=Rm;break;case"focusout":be="blur",ae=Rm;break;case"beforeblur":case"afterblur":ae=Rm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=LR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=JR;break;case u_:case d_:case f_:ae=BR;break;case h_:ae=e3;break;case"scroll":case"scrollend":ae=RR;break;case"wheel":ae=r3;break;case"copy":case"cut":case"paste":ae=qR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Gw;break;case"toggle":case"beforetoggle":ae=a3}var Ee=(o&4)!==0,Xe=!Ee&&(a==="scroll"||a==="scrollend"),F=Ee?te!==null?te+"Capture":null:te;Ee=[];for(var z=J,Q;z!==null;){var oe=z;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||F===null||(oe=dl(z,F),oe!=null&&Ee.push(Kl(z,oe,Q))),Xe)break;z=z.return}0<Ee.length&&(te=new ae(te,be,null,c,ie),ue.push({event:te,listeners:Ee}))}}if((o&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",te&&c!==Om&&(be=c.relatedTarget||c.fromElement)&&(Ss(be)||be[js]))break e;if((ae||te)&&(te=ie.window===ie?ie:(te=ie.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(be=c.relatedTarget||c.toElement,ae=J,be=be?Ss(be):null,be!==null&&(Xe=s(be),Ee=be.tag,be!==Xe||Ee!==5&&Ee!==27&&Ee!==6)&&(be=null)):(ae=null,be=J),ae!==be)){if(Ee=Hw,oe="onMouseLeave",F="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Ee=Gw,oe="onPointerLeave",F="onPointerEnter",z="pointer"),Xe=ae==null?te:ul(ae),Q=be==null?te:ul(be),te=new Ee(oe,z+"leave",ae,c,ie),te.target=Xe,te.relatedTarget=Q,oe=null,Ss(ie)===J&&(Ee=new Ee(F,z+"enter",be,c,ie),Ee.target=Q,Ee.relatedTarget=Xe,oe=Ee),Xe=oe,ae&&be)t:{for(Ee=nI,F=ae,z=be,Q=0,oe=F;oe;oe=Ee(oe))Q++;oe=0;for(var ke=z;ke;ke=Ee(ke))oe++;for(;0<Q-oe;)F=Ee(F),Q--;for(;0<oe-Q;)z=Ee(z),oe--;for(;Q--;){if(F===z||z!==null&&F===z.alternate){Ee=F;break t}F=Ee(F),z=Ee(z)}Ee=null}else Ee=null;ae!==null&&I1(ue,te,ae,Ee,!1),be!==null&&Xe!==null&&I1(ue,Xe,be,Ee,!0)}}e:{if(te=J?ul(J):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var ze=Zw;else if(Qw(te))if(e_)ze=m3;else{ze=f3;var _e=d3}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Nm(J.elementType)&&(ze=Zw):ze=h3;if(ze&&(ze=ze(a,J))){Jw(ue,ze,c,ie);break e}_e&&_e(a,te,J),a==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Em(te,"number",te.value)}switch(_e=J?ul(J):window,a){case"focusin":(Qw(_e)||_e.contentEditable==="true")&&(Ds=_e,Um=J,bl=null);break;case"focusout":bl=Um=Ds=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,l_(ue,c,ie);break;case"selectionchange":if(g3)break;case"keydown":case"keyup":l_(ue,c,ie)}var Te;if(Lm)e:{switch(a){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ps?Ww(a,c)&&(Ie="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(Fw&&c.locale!=="ko"&&(Ps||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ps&&(Te=Uw()):(Ba=ie,Pm="value"in Ba?Ba.value:Ba.textContent,Ps=!0)),_e=gd(J,Ie),0<_e.length&&(Ie=new Kw(Ie,a,null,c,ie),ue.push({event:Ie,listeners:_e}),Te?Ie.data=Te:(Te=Xw(c),Te!==null&&(Ie.data=Te)))),(Te=s3?o3(a,c):l3(a,c))&&(Ie=gd(J,"onBeforeInput"),0<Ie.length&&(_e=new Kw("onBeforeInput","beforeinput",null,c,ie),ue.push({event:_e,listeners:Ie}),_e.data=Te)),Z3(ue,a,J,c,ie)}M1(ue,o)})}function Kl(a,o,c){return{instance:a,listener:o,currentTarget:c}}function gd(a,o){for(var c=o+"Capture",h=[];a!==null;){var v=a,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=dl(a,c),v!=null&&h.unshift(Kl(a,v,x)),v=dl(a,o),v!=null&&h.push(Kl(a,v,x))),a.tag===3)return h;a=a.return}return[]}function nI(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function I1(a,o,c,h,v){for(var x=o._reactName,O=[];c!==null&&c!==h;){var C=c,$=C.alternate,J=C.stateNode;if(C=C.tag,$!==null&&$===h)break;C!==5&&C!==26&&C!==27||J===null||($=J,v?(J=dl(c,x),J!=null&&O.unshift(Kl(c,J,$))):v||(J=dl(c,x),J!=null&&O.push(Kl(c,J,$)))),c=c.return}O.length!==0&&a.push({event:o,listeners:O})}var aI=/\r\n?/g,iI=/\u0000|\uFFFD/g;function L1(a){return(typeof a=="string"?a:""+a).replace(aI,`
`).replace(iI,"")}function $1(a,o){return o=L1(o),L1(a)===o}function We(a,o,c,h,v,x){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||As(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&As(a,""+h);break;case"className":xu(a,"class",h);break;case"tabIndex":xu(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":xu(a,c,h);break;case"style":$w(a,h,x);break;case"data":if(o!=="object"){xu(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=_u(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&We(a,o,"name",v.name,v,null),We(a,o,"formEncType",v.formEncType,v,null),We(a,o,"formMethod",v.formMethod,v,null),We(a,o,"formTarget",v.formTarget,v,null)):(We(a,o,"encType",v.encType,v,null),We(a,o,"method",v.method,v,null),We(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=_u(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=Qn);break;case"onScroll":h!=null&&Me("scroll",a);break;case"onScrollEnd":h!=null&&Me("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=_u(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":Me("beforetoggle",a),Me("toggle",a),bu(a,"popover",h);break;case"xlinkActuate":Xn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Xn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Xn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Xn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Xn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Xn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Xn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Xn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Xn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":bu(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=DR.get(c)||c,bu(a,c,h))}}function hg(a,o,c,h,v,x){switch(c){case"style":$w(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof h=="string"?As(a,h):(typeof h=="number"||typeof h=="bigint")&&As(a,""+h);break;case"onScroll":h!=null&&Me("scroll",a);break;case"onScrollEnd":h!=null&&Me("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aw.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),x=a[br]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,v),typeof h=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,h,v);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):bu(a,c,h)}}}function nr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",a),Me("load",a);var h=!1,v=!1,x;for(x in c)if(c.hasOwnProperty(x)){var O=c[x];if(O!=null)switch(x){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:We(a,o,x,O,c,null)}}v&&We(a,o,"srcSet",c.srcSet,c,null),h&&We(a,o,"src",c.src,c,null);return;case"input":Me("invalid",a);var C=x=O=v=null,$=null,J=null;for(h in c)if(c.hasOwnProperty(h)){var ie=c[h];if(ie!=null)switch(h){case"name":v=ie;break;case"type":O=ie;break;case"checked":$=ie;break;case"defaultChecked":J=ie;break;case"value":x=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,o));break;default:We(a,o,h,ie,c,null)}}Mw(a,x,C,$,J,O,v,!1);return;case"select":Me("invalid",a),h=O=x=null;for(v in c)if(c.hasOwnProperty(v)&&(C=c[v],C!=null))switch(v){case"value":x=C;break;case"defaultValue":O=C;break;case"multiple":h=C;default:We(a,o,v,C,c,null)}o=x,c=O,a.multiple=!!h,o!=null?Os(a,!!h,o,!1):c!=null&&Os(a,!!h,c,!0);return;case"textarea":Me("invalid",a),x=v=h=null;for(O in c)if(c.hasOwnProperty(O)&&(C=c[O],C!=null))switch(O){case"value":h=C;break;case"defaultValue":v=C;break;case"children":x=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(n(91));break;default:We(a,o,O,C,c,null)}Iw(a,h,v,x);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(h=c[$],h!=null))switch($){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:We(a,o,$,h,c,null)}return;case"dialog":Me("beforetoggle",a),Me("toggle",a),Me("cancel",a),Me("close",a);break;case"iframe":case"object":Me("load",a);break;case"video":case"audio":for(h=0;h<Hl.length;h++)Me(Hl[h],a);break;case"image":Me("error",a),Me("load",a);break;case"details":Me("toggle",a);break;case"embed":case"source":case"link":Me("error",a),Me("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(h=c[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:We(a,o,J,h,c,null)}return;default:if(Nm(o)){for(ie in c)c.hasOwnProperty(ie)&&(h=c[ie],h!==void 0&&hg(a,o,ie,h,c,void 0));return}}for(C in c)c.hasOwnProperty(C)&&(h=c[C],h!=null&&We(a,o,C,h,c,null))}function sI(a,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,O=null,C=null,$=null,J=null,ie=null;for(ae in c){var ue=c[ae];if(c.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":$=ue;default:h.hasOwnProperty(ae)||We(a,o,ae,null,h,ue)}}for(var te in h){var ae=h[te];if(ue=c[te],h.hasOwnProperty(te)&&(ae!=null||ue!=null))switch(te){case"type":x=ae;break;case"name":v=ae;break;case"checked":J=ae;break;case"defaultChecked":ie=ae;break;case"value":O=ae;break;case"defaultValue":C=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,o));break;default:ae!==ue&&We(a,o,te,ae,h,ue)}}km(a,O,C,$,J,ie,x,v);return;case"select":ae=O=C=te=null;for(x in c)if($=c[x],c.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":ae=$;default:h.hasOwnProperty(x)||We(a,o,x,null,h,$)}for(v in h)if(x=h[v],$=c[v],h.hasOwnProperty(v)&&(x!=null||$!=null))switch(v){case"value":te=x;break;case"defaultValue":C=x;break;case"multiple":O=x;default:x!==$&&We(a,o,v,x,h,$)}o=C,c=O,h=ae,te!=null?Os(a,!!c,te,!1):!!h!=!!c&&(o!=null?Os(a,!!c,o,!0):Os(a,!!c,c?[]:"",!1));return;case"textarea":ae=te=null;for(C in c)if(v=c[C],c.hasOwnProperty(C)&&v!=null&&!h.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:We(a,o,C,null,h,v)}for(O in h)if(v=h[O],x=c[O],h.hasOwnProperty(O)&&(v!=null||x!=null))switch(O){case"value":te=v;break;case"defaultValue":ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==x&&We(a,o,O,v,h,x)}Rw(a,te,ae);return;case"option":for(var be in c)if(te=c[be],c.hasOwnProperty(be)&&te!=null&&!h.hasOwnProperty(be))switch(be){case"selected":a.selected=!1;break;default:We(a,o,be,null,h,te)}for($ in h)if(te=h[$],ae=c[$],h.hasOwnProperty($)&&te!==ae&&(te!=null||ae!=null))switch($){case"selected":a.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:We(a,o,$,te,h,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in c)te=c[Ee],c.hasOwnProperty(Ee)&&te!=null&&!h.hasOwnProperty(Ee)&&We(a,o,Ee,null,h,te);for(J in h)if(te=h[J],ae=c[J],h.hasOwnProperty(J)&&te!==ae&&(te!=null||ae!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,o));break;default:We(a,o,J,te,h,ae)}return;default:if(Nm(o)){for(var Xe in c)te=c[Xe],c.hasOwnProperty(Xe)&&te!==void 0&&!h.hasOwnProperty(Xe)&&hg(a,o,Xe,void 0,h,te);for(ie in h)te=h[ie],ae=c[ie],!h.hasOwnProperty(ie)||te===ae||te===void 0&&ae===void 0||hg(a,o,ie,te,h,ae);return}}for(var F in c)te=c[F],c.hasOwnProperty(F)&&te!=null&&!h.hasOwnProperty(F)&&We(a,o,F,null,h,te);for(ue in h)te=h[ue],ae=c[ue],!h.hasOwnProperty(ue)||te===ae||te==null&&ae==null||We(a,o,ue,te,h,ae)}function z1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oI(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var v=c[h],x=v.transferSize,O=v.initiatorType,C=v.duration;if(x&&C&&z1(O)){for(O=0,C=v.responseEnd,h+=1;h<c.length;h++){var $=c[h],J=$.startTime;if(J>C)break;var ie=$.transferSize,ue=$.initiatorType;ie&&z1(ue)&&($=$.responseEnd,O+=ie*($<C?1:(C-J)/($-J)))}if(--h,o+=8*(x+O)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var mg=null,pg=null;function vd(a){return a.nodeType===9?a:a.ownerDocument}function B1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U1(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function gg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var vg=null;function lI(){var a=window.event;return a&&a.type==="popstate"?a===vg?!1:(vg=a,!0):(vg=null,!1)}var q1=typeof setTimeout=="function"?setTimeout:void 0,cI=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,uI=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(a){return H1.resolve(null).then(a).catch(dI)}:q1;function dI(a){setTimeout(function(){throw a})}function ni(a){return a==="head"}function K1(a,o){var c=o,h=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(v),so(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Gl(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Gl(c);for(var x=c.firstChild;x;){var O=x.nextSibling,C=x.nodeName;x[cl]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=O}}else c==="body"&&Gl(a.ownerDocument.body);c=v}while(c);so(o)}function G1(a,o){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function yg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":yg(c),jm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function fI(a,o,c,h){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[cl])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=sn(a.nextSibling),a===null)break}return null}function hI(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=sn(a.nextSibling),a===null))return null;return a}function F1(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=sn(a.nextSibling),a===null))return null;return a}function bg(a){return a.data==="$?"||a.data==="$~"}function xg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function mI(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function sn(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var wg=null;function Y1(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return sn(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function V1(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function W1(a,o,c){switch(o=vd(c),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Gl(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);jm(a)}var on=new Map,X1=new Set;function yd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ha=L.d;L.d={f:pI,r:gI,D:vI,C:yI,L:bI,m:xI,X:_I,S:wI,M:jI};function pI(){var a=ha.f(),o=cd();return a||o}function gI(a){var o=ks(a);o!==null&&o.tag===5&&o.type==="form"?hj(o):ha.r(a)}var no=typeof document>"u"?null:document;function Q1(a,o,c){var h=no;if(h&&typeof o=="string"&&o){var v=Jr(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),X1.has(v)||(X1.add(v),a={rel:a,crossOrigin:c,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),nr(o,"link",a),Gt(o),h.head.appendChild(o)))}}function vI(a){ha.D(a),Q1("dns-prefetch",a,null)}function yI(a,o){ha.C(a,o),Q1("preconnect",a,o)}function bI(a,o,c){ha.L(a,o,c);var h=no;if(h&&a&&o){var v='link[rel="preload"][as="'+Jr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Jr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Jr(c.imageSizes)+'"]')):v+='[href="'+Jr(a)+'"]';var x=v;switch(o){case"style":x=ao(a);break;case"script":x=io(a)}on.has(x)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),on.set(x,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(Fl(x))||o==="script"&&h.querySelector(Yl(x))||(o=h.createElement("link"),nr(o,"link",a),Gt(o),h.head.appendChild(o)))}}function xI(a,o){ha.m(a,o);var c=no;if(c&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Jr(h)+'"][href="'+Jr(a)+'"]',x=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=io(a)}if(!on.has(x)&&(a=g({rel:"modulepreload",href:a},o),on.set(x,a),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Yl(x)))return}h=c.createElement("link"),nr(h,"link",a),Gt(h),c.head.appendChild(h)}}}function wI(a,o,c){ha.S(a,o,c);var h=no;if(h&&a){var v=Es(h).hoistableStyles,x=ao(a);o=o||"default";var O=v.get(x);if(!O){var C={loading:0,preload:null};if(O=h.querySelector(Fl(x)))C.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=on.get(x))&&_g(a,c);var $=O=h.createElement("link");Gt($),nr($,"link",a),$._p=new Promise(function(J,ie){$.onload=J,$.onerror=ie}),$.addEventListener("load",function(){C.loading|=1}),$.addEventListener("error",function(){C.loading|=2}),C.loading|=4,bd(O,o,h)}O={type:"stylesheet",instance:O,count:1,state:C},v.set(x,O)}}}function _I(a,o){ha.X(a,o);var c=no;if(c&&a){var h=Es(c).hoistableScripts,v=io(a),x=h.get(v);x||(x=c.querySelector(Yl(v)),x||(a=g({src:a,async:!0},o),(o=on.get(v))&&jg(a,o),x=c.createElement("script"),Gt(x),nr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function jI(a,o){ha.M(a,o);var c=no;if(c&&a){var h=Es(c).hoistableScripts,v=io(a),x=h.get(v);x||(x=c.querySelector(Yl(v)),x||(a=g({src:a,async:!0,type:"module"},o),(o=on.get(v))&&jg(a,o),x=c.createElement("script"),Gt(x),nr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(v,x))}}function J1(a,o,c,h){var v=(v=le.current)?yd(v):null;if(!v)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=ao(c.href),c=Es(v).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=ao(c.href);var x=Es(v).hoistableStyles,O=x.get(a);if(O||(v=v.ownerDocument||v,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,O),(x=v.querySelector(Fl(a)))&&!x._p&&(O.instance=x,O.state.loading=5),on.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},on.set(a,c),x||SI(v,a,c,O.state))),o&&h===null)throw Error(n(528,""));return O}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=io(c),c=Es(v).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function ao(a){return'href="'+Jr(a)+'"'}function Fl(a){return'link[rel="stylesheet"]['+a+"]"}function Z1(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function SI(a,o,c,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),nr(o,"link",c),Gt(o),a.head.appendChild(o))}function io(a){return'[src="'+Jr(a)+'"]'}function Yl(a){return"script[async]"+a}function eS(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Jr(c.href)+'"]');if(h)return o.instance=h,Gt(h),h;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Gt(h),nr(h,"style",v),bd(h,c.precedence,a),o.instance=h;case"stylesheet":v=ao(c.href);var x=a.querySelector(Fl(v));if(x)return o.state.loading|=4,o.instance=x,Gt(x),x;h=Z1(c),(v=on.get(v))&&_g(h,v),x=(a.ownerDocument||a).createElement("link"),Gt(x);var O=x;return O._p=new Promise(function(C,$){O.onload=C,O.onerror=$}),nr(x,"link",h),o.state.loading|=4,bd(x,c.precedence,a),o.instance=x;case"script":return x=io(c.src),(v=a.querySelector(Yl(x)))?(o.instance=v,Gt(v),v):(h=c,(v=on.get(x))&&(h=g({},c),jg(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),Gt(v),nr(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,bd(h,c.precedence,a));return o.instance}function bd(a,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,x=v,O=0;O<h.length;O++){var C=h[O];if(C.dataset.precedence===o)x=C;else if(x!==v)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function _g(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function jg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var xd=null;function tS(a,o,c){if(xd===null){var h=new Map,v=xd=new Map;v.set(c,h)}else v=xd,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var x=c[v];if(!(x[cl]||x[Zt]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(o)||"";O=a+O;var C=h.get(O);C?C.push(x):h.set(O,[x])}}return h}function rS(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function kI(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function nS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function EI(a,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=ao(h.href),x=o.querySelector(Fl(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=wd.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,Gt(x);return}x=o.ownerDocument||o,h=Z1(h),(v=on.get(v))&&_g(h,v),x=x.createElement("link"),Gt(x);var O=x;O._p=new Promise(function(C,$){O.onload=C,O.onerror=$}),nr(x,"link",h),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=wd.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var Sg=0;function NI(a,o){return a.stylesheets&&a.count===0&&jd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&jd(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&Sg===0&&(Sg=62500*oI());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&jd(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Sg?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(v)}}:null}function wd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var _d=null;function jd(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,_d=new Map,o.forEach(OI,a),_d=null,wd.call(a))}function OI(a,o){if(!(o.state.loading&4)){var c=_d.get(a);if(c)var h=c.get(null);else{c=new Map,_d.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var O=v[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}v=o.instance,O=v.getAttribute("data-precedence"),x=c.get(O)||h,x===h&&c.set(null,v),c.set(O,v),this.count++,h=wd.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),x?x.parentNode.insertBefore(v,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Vl={$$typeof:k,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function AI(a,o,c,h,v,x,O,C,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bm(0),this.hiddenUpdates=bm(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function aS(a,o,c,h,v,x,O,C,$,J,ie,ue){return a=new AI(a,o,c,O,$,J,ie,ue,C),o=1,x===!0&&(o|=24),x=Ir(3,null,null,o),a.current=x,x.stateNode=a,o=np(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:o},op(x),a}function iS(a){return a?(a=Is,a):Is}function sS(a,o,c,h,v,x){v=iS(v),h.context===null?h.context=v:h.pendingContext=v,h=Fa(o),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=Ya(a,h,o),c!==null&&(kr(c,a,o),El(c,a,o))}function oS(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function kg(a,o){oS(a,o),(a=a.alternate)&&oS(a,o)}function lS(a){if(a.tag===13||a.tag===31){var o=Mi(a,67108864);o!==null&&kr(o,a,67108864),kg(a,67108864)}}function cS(a){if(a.tag===13||a.tag===31){var o=Ur();o=xm(o);var c=Mi(a,o);c!==null&&kr(c,a,o),kg(a,o)}}var Sd=!0;function CI(a,o,c,h){var v=M.T;M.T=null;var x=L.p;try{L.p=2,Eg(a,o,c,h)}finally{L.p=x,M.T=v}}function TI(a,o,c,h){var v=M.T;M.T=null;var x=L.p;try{L.p=8,Eg(a,o,c,h)}finally{L.p=x,M.T=v}}function Eg(a,o,c,h){if(Sd){var v=Ng(h);if(v===null)fg(a,o,h,kd,c),dS(a,h);else if(DI(v,a,o,c,h))h.stopPropagation();else if(dS(a,h),o&4&&-1<PI.indexOf(a)){for(;v!==null;){var x=ks(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=Ai(x.pendingLanes);if(O!==0){var C=x;for(C.pendingLanes|=2,C.entangledLanes|=2;O;){var $=1<<31-Mr(O);C.entanglements[1]|=$,O&=~$}zn(x),(He&6)===0&&(od=fr()+500,ql(0))}}break;case 31:case 13:C=Mi(x,2),C!==null&&kr(C,x,2),cd(),kg(x,2)}if(x=Ng(h),x===null&&fg(a,o,h,kd,c),x===v)break;v=x}v!==null&&h.stopPropagation()}else fg(a,o,h,null,c)}}function Ng(a){return a=Am(a),Og(a)}var kd=null;function Og(a){if(kd=null,a=Ss(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return kd=a,null}function uS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mu()){case il:return 2;case fe:return 8;case pe:case Je:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Ag=!1,ai=null,ii=null,si=null,Wl=new Map,Xl=new Map,oi=[],PI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dS(a,o){switch(a){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":Wl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(o.pointerId)}}function Ql(a,o,c,h,v,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[v]},o!==null&&(o=ks(o),o!==null&&lS(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function DI(a,o,c,h,v){switch(o){case"focusin":return ai=Ql(ai,a,o,c,h,v),!0;case"dragenter":return ii=Ql(ii,a,o,c,h,v),!0;case"mouseover":return si=Ql(si,a,o,c,h,v),!0;case"pointerover":var x=v.pointerId;return Wl.set(x,Ql(Wl.get(x)||null,a,o,c,h,v)),!0;case"gotpointercapture":return x=v.pointerId,Xl.set(x,Ql(Xl.get(x)||null,a,o,c,h,v)),!0}return!1}function fS(a){var o=Ss(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,Ew(a.priority,function(){cS(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,Ew(a.priority,function(){cS(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ed(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=Ng(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Om=h,c.target.dispatchEvent(h),Om=null}else return o=ks(c),o!==null&&lS(o),a.blockedOn=c,!1;o.shift()}return!0}function hS(a,o,c){Ed(a)&&c.delete(o)}function MI(){Ag=!1,ai!==null&&Ed(ai)&&(ai=null),ii!==null&&Ed(ii)&&(ii=null),si!==null&&Ed(si)&&(si=null),Wl.forEach(hS),Xl.forEach(hS)}function Nd(a,o){a.blockedOn===o&&(a.blockedOn=null,Ag||(Ag=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,MI)))}var Od=null;function mS(a){Od!==a&&(Od=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Od===a&&(Od=null);for(var o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(Og(h||c)===null)continue;break}var x=ks(c);x!==null&&(a.splice(o,3),o-=3,Np(x,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function so(a){function o($){return Nd($,a)}ai!==null&&Nd(ai,a),ii!==null&&Nd(ii,a),si!==null&&Nd(si,a),Wl.forEach(o),Xl.forEach(o);for(var c=0;c<oi.length;c++){var h=oi[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<oi.length&&(c=oi[0],c.blockedOn===null);)fS(c),c.blockedOn===null&&oi.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],x=c[h+1],O=v[br]||null;if(typeof x=="function")O||mS(c);else if(O){var C=null;if(x&&x.hasAttribute("formAction")){if(v=x,O=x[br]||null)C=O.formAction;else if(Og(v)!==null)continue}else C=O.action;typeof C=="function"?c[h+1]=C:(c.splice(h,3),h-=3),mS(c)}}}function pS(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return v=O})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Cg(a){this._internalRoot=a}Ad.prototype.render=Cg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,h=Ur();sS(c,h,a,o,null,null)},Ad.prototype.unmount=Cg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;sS(a.current,2,null,a,null,null),cd(),o[js]=null}};function Ad(a){this._internalRoot=a}Ad.prototype.unstable_scheduleHydration=function(a){if(a){var o=kw();a={blockedOn:null,target:a,priority:o};for(var c=0;c<oi.length&&o!==0&&o<oi[c].priority;c++);oi.splice(c,0,a),c===0&&fS(a)}};var gS=t.version;if(gS!=="19.2.0")throw Error(n(527,gS,"19.2.0"));L.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=m(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var RI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Xr=Cd.inject(RI),Dr=Cd}catch{}}return Zl.createRoot=function(a,o){if(!i(a))throw Error(n(299));var c=!1,h="",v=jj,x=Sj,O=kj;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=aS(a,1,!1,null,null,c,h,null,v,x,O,pS),a[js]=o.current,dg(a),new Cg(o)},Zl.hydrateRoot=function(a,o,c){if(!i(a))throw Error(n(299));var h=!1,v="",x=jj,O=Sj,C=kj,$=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(C=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),o=aS(a,1,!0,o,c??null,h,v,$,x,O,C,pS),o.context=iS(null),c=o.current,h=Ur(),h=xm(h),v=Fa(h),v.callback=null,Ya(c,v,h),c=h,o.current.lanes=c,ll(o,c),zn(o),a[js]=o.current,dg(a),new Ad(o)},Zl.version="19.2.0",Zl}var ES;function VI(){if(ES)return Mg.exports;ES=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mg.exports=YI(),Mg.exports}var WI=VI();const XI=Tn(WI);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var NS="popstate";function QI(e={}){function t(i,s){let{pathname:l="/",search:u="",hash:f=""}=xs(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ty("",{pathname:l,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=i.location.href,m=f.indexOf("#");u=m===-1?f:f.slice(0,m)}return u+"#"+(typeof s=="string"?s:gc(s))}function n(i,s){Ar(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return ZI(t,r,n,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ar(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JI(){return Math.random().toString(36).substring(2,10)}function OS(e,t){return{usr:e.state,key:e.key,idx:t}}function Ty(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xs(t):t,state:r,key:t&&t.key||n||JI()}}function gc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function ZI(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,u="POP",f=null,m=p();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let _=p(),E=_==null?null:_-m;m=_,f&&f({action:u,location:S.location,delta:E})}function y(_,E){u="PUSH";let N=Ty(S.location,_,E);r&&r(N,_),m=p()+1;let k=OS(N,m),T=S.createHref(N);try{l.pushState(k,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(T)}s&&f&&f({action:u,location:S.location,delta:1})}function b(_,E){u="REPLACE";let N=Ty(S.location,_,E);r&&r(N,_),m=p();let k=OS(N,m),T=S.createHref(N);l.replaceState(k,"",T),s&&f&&f({action:u,location:S.location,delta:0})}function j(_){return e4(_)}let S={get action(){return u},get location(){return e(i,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(NS,g),f=_,()=>{i.removeEventListener(NS,g),f=null}},createHref(_){return t(i,_)},createURL:j,encodeLocation(_){let E=j(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:b,go(_){return l.go(_)}};return S}function e4(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ft(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:gc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function LA(e,t,r="/"){return t4(e,t,r,!1)}function t4(e,t,r,n){let i=typeof t=="string"?xs(t):t,s=_a(i.pathname||"/",r);if(s==null)return null;let l=$A(e);r4(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=h4(s);u=d4(l[f],m,n)}return u}function $A(e,t=[],r=[],n="",i=!1){let s=(l,u,f=i,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&f)return;ft(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=ba([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$A(l.children,t,y,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:c4(g,l.index),routesMeta:y})};return e.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,u);else for(let m of zA(l.path))s(l,u,!0,m)}),t}function zA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=zA(n.join("/")),u=[];return u.push(...l.map(f=>f===""?s:[s,f].join("/"))),i&&u.push(...l),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function r4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:u4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var n4=/^:[\w-]+$/,a4=3,i4=2,s4=1,o4=10,l4=-2,AS=e=>e==="*";function c4(e,t){let r=e.split("/"),n=r.length;return r.some(AS)&&(n+=l4),t&&(n+=i4),r.filter(i=>!AS(i)).reduce((i,s)=>i+(n4.test(s)?a4:s===""?s4:o4),n)}function u4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function d4(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",l=[];for(let u=0;u<n.length;++u){let f=n[u],m=u===n.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=yf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),y=f.route;if(!g&&m&&r&&!n[n.length-1].route.index&&(g=yf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:ba([s,g.pathname]),pathnameBase:y4(ba([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=ba([s,g.pathnameBase]))}return l}function yf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=f4(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((m,{paramName:p,isOptional:g},y)=>{if(p==="*"){let j=u[y]||"";l=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const b=u[y];return g&&!b?m[p]=void 0:m[p]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:l,pattern:e}}function f4(e,t=!1,r=!0){Ar(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function h4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ar(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function _a(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var m4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p4=e=>m4.test(e);function g4(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?xs(e):e,s;if(r)if(p4(r))s=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Ar(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${r}`)}r.startsWith("/")?s=CS(r.substring(1),"/"):s=CS(r,t)}else s=t;return{pathname:s,search:b4(n),hash:x4(i)}}function CS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $g(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function eb(e){let t=v4(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function tb(e,t,r,n=!1){let i;typeof e=="string"?i=xs(e):(i={...e},ft(!i.pathname||!i.pathname.includes("?"),$g("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),$g("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),$g("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?t[g]:"/"}let f=g4(i,u),m=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}var ba=e=>e.join("/").replace(/\/\/+/g,"/"),y4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BA=["POST","PUT","PATCH","DELETE"];new Set(BA);var _4=["GET",...BA];new Set(_4);var qo=w.createContext(null);qo.displayName="DataRouter";var xh=w.createContext(null);xh.displayName="DataRouterState";w.createContext(!1);var UA=w.createContext({isTransitioning:!1});UA.displayName="ViewTransition";var j4=w.createContext(new Map);j4.displayName="Fetchers";var S4=w.createContext(null);S4.displayName="Await";var Pn=w.createContext(null);Pn.displayName="Navigation";var Ic=w.createContext(null);Ic.displayName="Location";var pn=w.createContext({outlet:null,matches:[],isDataRoute:!1});pn.displayName="Route";var rb=w.createContext(null);rb.displayName="RouteError";function k4(e,{relative:t}={}){ft(Ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Pn),{hash:i,pathname:s,search:l}=Lc(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:ba([r,s])),n.createHref({pathname:u,search:l,hash:i})}function Ho(){return w.useContext(Ic)!=null}function Dn(){return ft(Ho(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ic).location}var qA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HA(e){w.useContext(Pn).static||w.useLayoutEffect(e)}function Mn(){let{isDataRoute:e}=w.useContext(pn);return e?U4():E4()}function E4(){ft(Ho(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(qo),{basename:t,navigator:r}=w.useContext(Pn),{matches:n}=w.useContext(pn),{pathname:i}=Dn(),s=JSON.stringify(eb(n)),l=w.useRef(!1);return HA(()=>{l.current=!0}),w.useCallback((f,m={})=>{if(Ar(l.current,qA),!l.current)return;if(typeof f=="number"){r.go(f);return}let p=tb(f,JSON.parse(s),i,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ba([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,s,i,e])}var N4=w.createContext(null);function O4(e){let t=w.useContext(pn).outlet;return w.useMemo(()=>t&&w.createElement(N4.Provider,{value:e},t),[t,e])}function A4(){let{matches:e}=w.useContext(pn),t=e[e.length-1];return t?t.params:{}}function Lc(e,{relative:t}={}){let{matches:r}=w.useContext(pn),{pathname:n}=Dn(),i=JSON.stringify(eb(r));return w.useMemo(()=>tb(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function C4(e,t){return KA(e,t)}function KA(e,t,r,n,i){var N;ft(Ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(Pn),{matches:l}=w.useContext(pn),u=l[l.length-1],f=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let k=g&&g.path||"";GA(m,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let y=Dn(),b;if(t){let k=typeof t=="string"?xs(t):t;ft(p==="/"||((N=k.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=y;let j=b.pathname||"/",S=j;if(p!=="/"){let k=p.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=LA(e,{pathname:S});Ar(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ar(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=R4(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:ba([p,s.encodeLocation?s.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:ba([p,s.encodeLocation?s.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,r,n,i);return t&&E?w.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function T4(){let e=B4(),t=w4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:i},r):null,l)}var P4=w.createElement(T4,null),D4=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(pn.Provider,{value:this.props.routeContext},w.createElement(rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M4({routeContext:e,match:t,children:r}){let n=w.useContext(qo);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(pn.Provider,{value:e},r)}function R4(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r==null?void 0:r.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,f=-1;if(r)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:b}=r,j=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||j){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let m=r&&n?(p,g)=>{var y,b;n(p,{location:r.location,params:((b=(y=r.matches)==null?void 0:y[0])==null?void 0:b.params)??{},errorInfo:g})}:void 0;return s.reduceRight((p,g,y)=>{let b,j=!1,S=null,_=null;r&&(b=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||P4,u&&(f<0&&y===0?(GA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,_=null):f===y&&(j=!0,_=g.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,y+1)),N=()=>{let k;return b?k=S:j?k=_:g.route.Component?k=w.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=p,w.createElement(M4,{match:g,routeContext:{outlet:p,matches:E,isDataRoute:r!=null},children:k})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?w.createElement(D4,{location:r.location,revalidation:r.revalidation,component:S,error:b,children:N(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:m}):N()},null)}function nb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I4(e){let t=w.useContext(qo);return ft(t,nb(e)),t}function L4(e){let t=w.useContext(xh);return ft(t,nb(e)),t}function $4(e){let t=w.useContext(pn);return ft(t,nb(e)),t}function ab(e){let t=$4(e),r=t.matches[t.matches.length-1];return ft(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function z4(){return ab("useRouteId")}function B4(){var n;let e=w.useContext(rb),t=L4("useRouteError"),r=ab("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function U4(){let{router:e}=I4("useNavigate"),t=ab("useNavigate"),r=w.useRef(!1);return HA(()=>{r.current=!0}),w.useCallback(async(i,s={})=>{Ar(r.current,qA),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var TS={};function GA(e,t,r){!t&&!TS[e]&&(TS[e]=!0,Ar(!1,r))}w.memo(q4);function q4({routes:e,future:t,state:r,unstable_onError:n}){return KA(e,void 0,r,n,t)}function Py({to:e,replace:t,state:r,relative:n}){ft(Ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Pn);Ar(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(pn),{pathname:l}=Dn(),u=Mn(),f=tb(e,eb(s),l,n==="path"),m=JSON.stringify(f);return w.useEffect(()=>{u(JSON.parse(m),{replace:t,state:r,relative:n})},[u,m,n,t,r]),null}function H4(e){return O4(e.context)}function $t(e){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){ft(!Ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof r=="string"&&(r=xs(r));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:y="default"}=r,b=w.useMemo(()=>{let j=_a(f,l);return j==null?null:{location:{pathname:j,search:m,hash:p,state:g,key:y},navigationType:n}},[l,f,m,p,g,y,n]);return Ar(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(Pn.Provider,{value:u},w.createElement(Ic.Provider,{children:t,value:b}))}function G4({children:e,location:t}){return C4(Dy(e),t)}function Dy(e,t=[]){let r=[];return w.Children.forEach(e,(n,i)=>{if(!w.isValidElement(n))return;let s=[...t,i];if(n.type===w.Fragment){r.push.apply(r,Dy(n.props.children,s));return}ft(n.type===$t,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Dy(n.props.children,s)),r.push(l)}),r}var of="get",lf="application/x-www-form-urlencoded";function wh(e){return e!=null&&typeof e.tagName=="string"}function F4(e){return wh(e)&&e.tagName.toLowerCase()==="button"}function Y4(e){return wh(e)&&e.tagName.toLowerCase()==="form"}function V4(e){return wh(e)&&e.tagName.toLowerCase()==="input"}function W4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function X4(e,t){return e.button===0&&(!t||t==="_self")&&!W4(e)}function My(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Q4(e,t){let r=My(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}var Td=null;function J4(){if(Td===null)try{new FormData(document.createElement("form"),0),Td=!1}catch{Td=!0}return Td}var Z4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zg(e){return e!=null&&!Z4.has(e)?(Ar(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):e}function e5(e,t){let r,n,i,s,l;if(Y4(e)){let u=e.getAttribute("action");n=u?_a(u,t):null,r=e.getAttribute("method")||of,i=zg(e.getAttribute("enctype"))||lf,s=new FormData(e)}else if(F4(e)||V4(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?_a(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||of,i=zg(e.getAttribute("formenctype"))||zg(u.getAttribute("enctype"))||lf,s=new FormData(u,e),!J4()){let{name:m,type:p,value:g}=e;if(p==="image"){let y=m?`${m}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else m&&s.append(m,g)}}else{if(wh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=of,n=null,i=lf,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ib(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function t5(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&_a(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function r5(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function a5(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await r5(s,r);return l.links?l.links():[]}return[]}));return l5(n.flat(1).filter(n5).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function PS(e,t,r,n,i,s){let l=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,u=(f,m)=>{var p;return r[m].pathname!==f.pathname||((p=r[m].route.path)==null?void 0:p.endsWith("*"))&&r[m].params["*"]!==f.params["*"]};return s==="assets"?t.filter((f,m)=>l(f,m)||u(f,m)):s==="data"?t.filter((f,m)=>{var g;let p=n.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function i5(e,t,{includeHydrateFallback:r}={}){return s5(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function s5(e){return[...new Set(e)]}function o5(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function l5(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(o5(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function FA(){let e=w.useContext(qo);return ib(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function c5(){let e=w.useContext(xh);return ib(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sb=w.createContext(void 0);sb.displayName="FrameworkContext";function YA(){let e=w.useContext(sb);return ib(e,"You must render this element inside a <HydratedRouter> element"),e}function u5(e,t){let r=w.useContext(sb),[n,i]=w.useState(!1),[s,l]=w.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:p,onTouchStart:g}=t,y=w.useRef(null);w.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=E=>{E.forEach(N=>{l(N.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),w.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let b=()=>{i(!0)},j=()=>{i(!1),l(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:ec(u,b),onBlur:ec(f,j),onMouseEnter:ec(m,b),onMouseLeave:ec(p,j),onTouchStart:ec(g,b)}]:[!1,y,{}]}function ec(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function d5({page:e,...t}){let{router:r}=FA(),n=w.useMemo(()=>LA(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(h5,{page:e,matches:n,...t}):null}function f5(e){let{manifest:t,routeModules:r}=YA(),[n,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return a5(e,t,r).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,r]),n}function h5({page:e,matches:t,...r}){let n=Dn(),{manifest:i,routeModules:s}=YA(),{basename:l}=FA(),{loaderData:u,matches:f}=c5(),m=w.useMemo(()=>PS(e,t,f,i,n,"data"),[e,t,f,i,n]),p=w.useMemo(()=>PS(e,t,f,i,n,"assets"),[e,t,f,i,n]),g=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let j=new Set,S=!1;if(t.forEach(E=>{var k;let N=i.routes[E.route.id];!N||!N.hasLoader||(!m.some(T=>T.route.id===E.route.id)&&E.route.id in u&&((k=s[E.route.id])!=null&&k.shouldRevalidate)||N.hasClientLoader?S=!0:j.add(E.route.id))}),j.size===0)return[];let _=t5(e,l,"data");return S&&j.size>0&&_.searchParams.set("_routes",t.filter(E=>j.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[l,u,n,i,m,t,e,s]),y=w.useMemo(()=>i5(p,i),[p,i]),b=f5(p);return w.createElement(w.Fragment,null,g.map(j=>w.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),y.map(j=>w.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),b.map(({key:j,link:S})=>w.createElement("link",{key:j,nonce:r.nonce,...S})))}function m5(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var VA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VA&&(window.__reactRouterVersion="7.9.6")}catch{}function p5({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=QI({window:r,v5Compat:!0}));let i=n.current,[s,l]=w.useState({action:i.action,location:i.location}),u=w.useCallback(f=>{w.startTransition(()=>l(f))},[l]);return w.useLayoutEffect(()=>i.listen(u),[i,u]),w.createElement(K4,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var WA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mc=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:l,state:u,target:f,to:m,preventScrollReset:p,viewTransition:g,...y},b){let{basename:j}=w.useContext(Pn),S=typeof m=="string"&&WA.test(m),_,E=!1;if(typeof m=="string"&&S&&(_=m,VA))try{let Y=new URL(window.location.href),re=m.startsWith("//")?new URL(Y.protocol+m):new URL(m),U=_a(re.pathname,j);re.origin===Y.origin&&U!=null?m=U+re.search+re.hash:E=!0}catch{Ar(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=k4(m,{relative:i}),[k,T,A]=u5(n,y),D=y5(m,{replace:l,state:u,target:f,preventScrollReset:p,relative:i,viewTransition:g});function I(Y){t&&t(Y),Y.defaultPrevented||D(Y)}let W=w.createElement("a",{...y,...A,href:_||N,onClick:E||s?t:I,ref:m5(b,T),target:f,"data-discover":!S&&r==="render"?"true":void 0});return k&&!S?w.createElement(w.Fragment,null,W,w.createElement(d5,{page:N})):W});mc.displayName="Link";var XA=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:l,viewTransition:u,children:f,...m},p){let g=Lc(l,{relative:m.relative}),y=Dn(),b=w.useContext(xh),{navigator:j,basename:S}=w.useContext(Pn),_=b!=null&&j5(g)&&u===!0,E=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,N=y.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(N=N.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&S&&(k=_a(k,S)||k);const T=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let A=N===E||!i&&N.startsWith(E)&&N.charAt(T)==="/",D=k!=null&&(k===E||!i&&k.startsWith(E)&&k.charAt(E.length)==="/"),I={isActive:A,isPending:D,isTransitioning:_},W=A?t:void 0,Y;typeof n=="function"?Y=n(I):Y=[n,A?"active":null,D?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let re=typeof s=="function"?s(I):s;return w.createElement(mc,{...m,"aria-current":W,className:Y,ref:p,style:re,to:l,viewTransition:u},typeof f=="function"?f(I):f)});XA.displayName="NavLink";var g5=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:l=of,action:u,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:g,...y},b)=>{let j=w5(),S=_5(u,{relative:m}),_=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&WA.test(u),N=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let T=k.nativeEvent.submitter,A=(T==null?void 0:T.getAttribute("formmethod"))||l;j(T||k.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:i,state:s,relative:m,preventScrollReset:p,viewTransition:g})};return w.createElement("form",{ref:b,method:_,action:S,onSubmit:n?f:N,...y,"data-discover":!E&&e==="render"?"true":void 0})});g5.displayName="Form";function v5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QA(e){let t=w.useContext(qo);return ft(t,v5(e)),t}function y5(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Mn(),f=Dn(),m=Lc(e,{relative:s});return w.useCallback(p=>{if(X4(p,t)){p.preventDefault();let g=r!==void 0?r:gc(f)===gc(m);u(e,{replace:g,state:n,preventScrollReset:i,relative:s,viewTransition:l})}},[f,u,m,r,n,t,e,i,s,l])}function JA(e){Ar(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(My(e)),r=w.useRef(!1),n=Dn(),i=w.useMemo(()=>Q4(n.search,r.current?null:t.current),[n.search]),s=Mn(),l=w.useCallback((u,f)=>{const m=My(typeof u=="function"?u(new URLSearchParams(i)):u);r.current=!0,s("?"+m,f)},[s,i]);return[i,l]}var b5=0,x5=()=>`__${String(++b5)}__`;function w5(){let{router:e}=QA("useSubmit"),{basename:t}=w.useContext(Pn),r=z4();return w.useCallback(async(n,i={})=>{let{action:s,method:l,encType:u,formData:f,body:m}=e5(n,t);if(i.navigate===!1){let p=i.fetcherKey||x5();await e.fetch(p,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:f,body:m,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function _5(e,{relative:t}={}){let{basename:r}=w.useContext(Pn),n=w.useContext(pn);ft(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Lc(e||".",{relative:t})},l=Dn();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ba([r,s.pathname])),gc(s)}function j5(e,{relative:t}={}){let r=w.useContext(UA);ft(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=QA("useViewTransitionState"),i=Lc(e,{relative:t});if(!r.isTransitioning)return!1;let s=_a(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=_a(r.nextLocation.pathname,n)||r.nextLocation.pathname;return yf(i.pathname,l)!=null||yf(i.pathname,s)!=null}var ob=IA(),Ry=function(e,t){return Ry=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ry(e,t)};function ZA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ry(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bf=function(){return bf=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bf.apply(this,arguments)};function Ko(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function eC(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(s=(i<3?l(s):i>3?l(t,r,s):l(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function tC(e,t){return function(r,n){t(r,n,e)}}function rC(e,t,r,n,i,s){function l(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var u=n.kind,f=u==="getter"?"get":u==="setter"?"set":"value",m=!t&&e?n.static?e:e.prototype:null,p=t||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),g,y=!1,b=r.length-1;b>=0;b--){var j={};for(var S in n)j[S]=S==="access"?{}:n[S];for(var S in n.access)j.access[S]=n.access[S];j.addInitializer=function(E){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(E||null))};var _=(0,r[b])(u==="accessor"?{get:p.get,set:p.set}:p[f],j);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=l(_.get))&&(p.get=g),(g=l(_.set))&&(p.set=g),(g=l(_.init))&&i.unshift(g)}else(g=l(_))&&(u==="field"?i.unshift(g):p[f]=g)}m&&Object.defineProperty(m,n.name,p),y=!0}function nC(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function aC(e){return typeof e=="symbol"?e:"".concat(e)}function iC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function sC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function xe(e,t,r,n){function i(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{m(n.next(p))}catch(g){l(g)}}function f(p){try{m(n.throw(p))}catch(g){l(g)}}function m(p){p.done?s(p.value):i(p.value).then(u,f)}m((n=n.apply(e,t||[])).next())})}function oC(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(m){return function(p){return f([m,p])}}function f(m){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(p){m=[6,p],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var _h=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function lC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_h(t,e,r)}function xf(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lb(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],l;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return s}function cC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lb(arguments[t]));return e}function uC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],l=0,u=s.length;l<u;l++,i++)n[i]=s[l];return n}function dC(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Oo(e){return this instanceof Oo?(this.v=e,this):new Oo(e)}function fC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(j){return Promise.resolve(j).then(b,g)}}function u(b,j){n[b]&&(i[b]=function(S){return new Promise(function(_,E){s.push([b,S,_,E])>1||f(b,S)})},j&&(i[b]=j(i[b])))}function f(b,j){try{m(n[b](j))}catch(S){y(s[0][3],S)}}function m(b){b.value instanceof Oo?Promise.resolve(b.value.v).then(p,g):y(s[0][2],b)}function p(b){f("next",b)}function g(b){f("throw",b)}function y(b,j){b(j),s.shift(),s.length&&f(s[0][0],s[0][1])}}function hC(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(l){return(r=!r)?{value:Oo(e[i](l)),done:!1}:s?s(l):l}:s}}function mC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof xf=="function"?xf(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(l){return new Promise(function(u,f){l=e[s](l),i(u,f,l.done,l.value)})}}function i(s,l,u,f){Promise.resolve(f).then(function(m){s({value:m,done:u})},l)}}function pC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S5=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Iy=function(e){return Iy=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Iy(e)};function gC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Iy(e),n=0;n<r.length;n++)r[n]!=="default"&&_h(t,e,r[n]);return S5(t,e),t}function vC(e){return e&&e.__esModule?e:{default:e}}function yC(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function bC(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function xC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function wC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var k5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function _C(e){function t(s){e.error=e.hasError?new k5(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(l){return t(l),i()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function jC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,l){return n?t?".jsx":".js":i&&(!s||!l)?r:i+s+"."+l.toLowerCase()+"js"}):e}const E5={__extends:ZA,__assign:bf,__rest:Ko,__decorate:eC,__param:tC,__esDecorate:rC,__runInitializers:nC,__propKey:aC,__setFunctionName:iC,__metadata:sC,__awaiter:xe,__generator:oC,__createBinding:_h,__exportStar:lC,__values:xf,__read:lb,__spread:cC,__spreadArrays:uC,__spreadArray:dC,__await:Oo,__asyncGenerator:fC,__asyncDelegator:hC,__asyncValues:mC,__makeTemplateObject:pC,__importStar:gC,__importDefault:vC,__classPrivateFieldGet:yC,__classPrivateFieldSet:bC,__classPrivateFieldIn:xC,__addDisposableResource:wC,__disposeResources:_C,__rewriteRelativeImportExtension:jC},N5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wC,get __assign(){return bf},__asyncDelegator:hC,__asyncGenerator:fC,__asyncValues:mC,__await:Oo,__awaiter:xe,__classPrivateFieldGet:yC,__classPrivateFieldIn:xC,__classPrivateFieldSet:bC,__createBinding:_h,__decorate:eC,__disposeResources:_C,__esDecorate:rC,__exportStar:lC,__extends:ZA,__generator:oC,__importDefault:vC,__importStar:gC,__makeTemplateObject:pC,__metadata:sC,__param:tC,__propKey:aC,__read:lb,__rest:Ko,__rewriteRelativeImportExtension:jC,__runInitializers:nC,__setFunctionName:iC,__spread:cC,__spreadArray:dC,__spreadArrays:uC,__values:xf,default:E5},Symbol.toStringTag,{value:"Module"})),O5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class jh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class SC extends jh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ly extends jh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $y extends jh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wf||(wf={}));class A5{constructor(t,{headers:r={},customFetch:n,region:i=wf.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=O5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xe(this,arguments,void 0,function*(r,n={}){var i;let s,l;try{const{headers:u,method:f,body:m,signal:p,timeout:g}=n;let y={},{region:b}=n;b||(b=this.region);const j=new URL(`${this.url}/${r}`);b&&b!=="any"&&(y["x-region"]=b,j.searchParams.set("forceFunctionRegion",b));let S;m&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=m):typeof m=="string"?(y["Content-Type"]="text/plain",S=m):typeof FormData<"u"&&m instanceof FormData?S=m:(y["Content-Type"]="application/json",S=JSON.stringify(m)):S=m;let _=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(_=l.signal,p.addEventListener("abort",()=>l.abort())):_=l.signal);const E=yield this.fetch(j.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:S,signal:_}).catch(A=>{throw new SC(A)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new Ly(E);if(!E.ok)throw new $y(E);let k=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return k==="application/json"?T=yield E.json():k==="application/octet-stream"||k==="application/pdf"?T=yield E.blob():k==="text/event-stream"?T=E:k==="multipart/form-data"?T=yield E.formData():T=yield E.text(),{data:T,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof $y||u instanceof Ly?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var or={};const Go=zI(N5);var Pd={},Dd={},Md={},Rd={},Id={},Ld={},DS;function kC(){if(DS)return Ld;DS=1,Object.defineProperty(Ld,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ld.default=e,Ld}var MS;function EC(){if(MS)return Id;MS=1,Object.defineProperty(Id,"__esModule",{value:!0});const t=Go.__importDefault(kC());class r{constructor(i){var s,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,p,g,y;let b=null,j=null,S=null,_=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?j=A:j=JSON.parse(A))}const k=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),T=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");k&&T&&T.length>1&&(S=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(b={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,S=null,_=406,E="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const k=await f.text();try{b=JSON.parse(k),Array.isArray(b)&&f.status===404&&(j=[],b=null,_=200,E="OK")}catch{f.status===404&&k===""?(_=204,E="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((y=b==null?void 0:b.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,_=200,E="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:j,count:S,status:_,statusText:E}});return this.shouldThrowOnError||(u=u.catch(f=>{var m,p,g,y,b,j;let S="";const _=f==null?void 0:f.cause;if(_){const E=(m=_==null?void 0:_.message)!==null&&m!==void 0?m:"",N=(p=_==null?void 0:_.code)!==null&&p!==void 0?p:"";S=`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,S+=`

Caused by: ${(y=_==null?void 0:_.name)!==null&&y!==void 0?y:"Error"}: ${E}`,N&&(S+=` (${N})`),_!=null&&_.stack&&(S+=`
${_.stack}`)}else S=(b=f==null?void 0:f.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(j=f==null?void 0:f.name)!==null&&j!==void 0?j:"FetchError"}: ${f==null?void 0:f.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,s)}returns(){return this}overrideTypes(){return this}}return Id.default=r,Id}var RS;function NC(){if(RS)return Rd;RS=1,Object.defineProperty(Rd,"__esModule",{value:!0});const t=Go.__importDefault(EC());class r extends t.default{select(i){let s=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const m=f?`${f}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${i}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,s,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(m,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:m="text"}={}){var p;const g=[i?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${g};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Rd.default=r,Rd}var IS;function cb(){if(IS)return Md;IS=1,Object.defineProperty(Md,"__esModule",{value:!0});const t=Go.__importDefault(NC()),r=new RegExp("[,()]");class n extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}regexMatch(s,l){return this.url.searchParams.append(s,`match.${l}`),this}regexIMatch(s,l){return this.url.searchParams.append(s,`imatch.${l}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}isDistinct(s,l){return this.url.searchParams.append(s,`isdistinct.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${m}fts${p}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}}return Md.default=n,Md}var LS;function OC(){if(LS)return Dd;LS=1,Object.defineProperty(Dd,"__esModule",{value:!0});const t=Go.__importDefault(cb());class r{constructor(i,{headers:s={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(i,s){const{head:l=!1,count:u}=s??{},f=l?"HEAD":"GET";let m=!1;const p=(i??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:l=!0}={}){var u;const f="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var s;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Dd.default=r,Dd}var $S;function C5(){if($S)return Pd;$S=1,Object.defineProperty(Pd,"__esModule",{value:!0});const e=Go,t=e.__importDefault(OC()),r=e.__importDefault(cb());class n{constructor(s,{headers:l={},schema:u,fetch:f}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:f=!1,count:m}={}){var p;let g;const y=new URL(`${this.url}/rpc/${s}`);let b;u||f?(g=u?"HEAD":"GET",Object.entries(l).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{y.searchParams.append(S,_)})):(g="POST",b=l);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new r.default({method:g,url:y,headers:j,schema:this.schemaName,body:b,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Pd.default=n,Pd}var zS;function T5(){if(zS)return or;zS=1,Object.defineProperty(or,"__esModule",{value:!0}),or.PostgrestError=or.PostgrestBuilder=or.PostgrestTransformBuilder=or.PostgrestFilterBuilder=or.PostgrestQueryBuilder=or.PostgrestClient=void 0;const e=Go,t=e.__importDefault(C5());or.PostgrestClient=t.default;const r=e.__importDefault(OC());or.PostgrestQueryBuilder=r.default;const n=e.__importDefault(cb());or.PostgrestFilterBuilder=n.default;const i=e.__importDefault(NC());or.PostgrestTransformBuilder=i.default;const s=e.__importDefault(EC());or.PostgrestBuilder=s.default;const l=e.__importDefault(kC());return or.PostgrestError=l.default,or.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:l.default},or}var AC=T5();const CC=Tn(AC),P5=RA({__proto__:null,default:CC},[AC]),{PostgrestClient:D5,PostgrestQueryBuilder:gre,PostgrestFilterBuilder:vre,PostgrestTransformBuilder:yre,PostgrestBuilder:bre,PostgrestError:M5}=CC||P5;class TC{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const R5="2.86.0",I5=`realtime-js/${R5}`,PC="1.0.0",L5="2.0.0",BS=PC,zy=1e4,$5=1e3,z5=100;var ns;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ns||(ns={}));var zt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(zt||(zt={}));var jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jn||(jn={}));var By;(function(e){e.websocket="websocket"})(By||(By={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class B5{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var i,s;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",m=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+l.length+m.length+g.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let j=new DataView(b),S=0;j.setUint8(S++,this.KINDS.userBroadcastPush),j.setUint8(S++,f.length),j.setUint8(S++,u.length),j.setUint8(S++,l.length),j.setUint8(S++,m.length),j.setUint8(S++,g.length),j.setUint8(S++,r),Array.from(f,E=>j.setUint8(S++,E.charCodeAt(0))),Array.from(u,E=>j.setUint8(S++,E.charCodeAt(0))),Array.from(l,E=>j.setUint8(S++,E.charCodeAt(0))),Array.from(m,E=>j.setUint8(S++,E.charCodeAt(0))),Array.from(g,E=>j.setUint8(S++,E.charCodeAt(0)));var _=new Uint8Array(b.byteLength+n.byteLength);return _.set(new Uint8Array(b),0),_.set(new Uint8Array(n),b.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,l,u,f]=n;return r({join_ref:i,ref:s,topic:l,event:u,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=n.decode(t.slice(f,f+i));f=f+i;const p=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+l));f=f+l;const y=t.slice(f,t.byteLength),b=u===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,j={type:this.BROADCAST_EVENT,event:p,payload:b};return l>0&&(j.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class DC{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rt||(rt={}));const US=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=U5(l,e,t,i),s),{}):{}},U5=(e,t,r,n)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,l=r[e];return s&&!n.includes(s)?MC(s,l):Uy(l)},MC=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return G5(t,r)}switch(e){case rt.bool:return q5(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return H5(t);case rt.json:case rt.jsonb:return K5(t);case rt.timestamp:return F5(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Uy(t);default:return Uy(t)}},Uy=e=>e,q5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},H5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},K5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},G5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>MC(t,u))}return e},F5=e=>typeof e=="string"?e.replace(" ","T"):e,RC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Bg{constructor(t,r,n={},i=zy){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qy||(qy={}));class _o{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_o.syncState(this.state,i,s,l),this.pendingDiffs.forEach(f=>{this.state=_o.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_o.syncDiff(this.state,i,s,l),u())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),l=this.transformState(r),u={},f={};return this.map(s,(m,p)=>{l[m]||(f[m]=p)}),this.map(l,(m,p)=>{const g=s[m];if(g){const y=p.map(_=>_.presence_ref),b=g.map(_=>_.presence_ref),j=p.filter(_=>b.indexOf(_.presence_ref)<0),S=g.filter(_=>y.indexOf(_.presence_ref)<0);j.length>0&&(u[m]=j),S.length>0&&(f[m]=S)}else u[m]=p}),this.syncDiff(s,{joins:u,leaves:f},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,f)=>{var m;const p=(m=t[u])!==null&&m!==void 0?m:[];if(t[u]=this.cloneDeep(f),p.length>0){const g=t[u].map(b=>b.presence_ref),y=p.filter(b=>g.indexOf(b.presence_ref)<0);t[u].unshift(...y)}n(u,p,f)}),this.map(l,(u,f)=>{let m=t[u];if(!m)return;const p=f.map(g=>g.presence_ref);m=m.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=m,i(u,m,f),m.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Hy||(Hy={}));var jo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jo||(jo={}));var Un;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Un||(Un={}));class Sh{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bg(this,jn.join,this.params,this.timeout),this.rejoinTimer=new DC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new _o(this),this.broadcastEndpointURL=RC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==zt.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[jo.PRESENCE]&&this.bindings[jo.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Un.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Un.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket.setAuth(),b===void 0){t==null||t(Un.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(j=S==null?void 0:S.length)!==null&&j!==void 0?j:0,E=[];for(let N=0;N<_;N++){const k=S[N],{filter:{event:T,schema:A,table:D,filter:I}}=k,W=b&&b[N];if(W&&W.event===T&&W.schema===A&&W.table===D&&W.filter===I)E.push(Object.assign(Object.assign({},k),{id:W.id}));else{this.unsubscribe(),this.state=zt.errored,t==null||t(Un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(Un.SUBSCRIBED);return}}).receive("error",b=>{this.state=zt.errored,t==null||t(Un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===zt.joined&&t===jo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const m=await u.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,f;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=zt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Bg(this,jn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bg(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>z5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:m,join:p}=jn;if(n&&[u,f,m,p].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var j,S,_;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(S=b.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(b=>b.callback(y,n)):(s=this.bindings[l])===null||s===void 0||s.filter(b=>{var j,S,_,E,N,k;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const T=b.id,A=(j=b.filter)===null||j===void 0?void 0:j.event;return T&&((S=r.ids)===null||S===void 0?void 0:S.includes(T))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const T=(N=(E=b==null?void 0:b.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return T==="*"||T===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const j=y.data,{schema:S,table:_,commit_timestamp:E,type:N,errors:k}=j;y=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:E,eventType:N,new:{},old:{},errors:k}),this._getPayloadRecords(j))}b.callback(y,n)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Sh.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jn.close,{},t)}_onError(t){this._on(jn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=US(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=US(t.columns,t.old_record)),r}}const Ug=()=>{},$d={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Y5=[1e3,2e3,5e3,1e4],V5=1e4,W5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IC{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zy,this.transport=null,this.heartbeatIntervalMs=$d.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ug,this.ref=0,this.reconnectTimer=null,this.vsn=BS,this.logger=Ug,this.conn=null,this.sendBuffer=[],this.serializer=new B5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${By.websocket}`,this.httpEndpoint=RC(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TC.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ns.connecting:return as.Connecting;case ns.open:return as.Open;case ns.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Sh(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$d.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:l}=r,u=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${i} ${u}`.trim(),s),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ns.open||this.conn.readyState===ns.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([W5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:I5};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new DC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$d.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,l,u,f,m,p,g,y,b;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:zy,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:$d.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Ug,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:BS,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:(j=>Y5[j-1]||V5),this.vsn){case PC:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:((j,S)=>S(JSON.stringify(j))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:((j,S)=>S(JSON.parse(j)));break;case L5:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class kh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class X5 extends kh{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ky extends kh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ub=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Q5=()=>Response,Gy=e=>{if(Array.isArray(e))return e.map(r=>Gy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Gy(n)}),t},J5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Z5=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),qg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},eL=(e,t,r)=>xe(void 0,void 0,void 0,function*(){const n=yield Q5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,l=(i==null?void 0:i.statusCode)||s+"";t(new X5(qg(i),s,l))}).catch(i=>{t(new Ky(qg(i),i))}):t(new Ky(qg(e),e))}),tL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(J5(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function $c(e,t,r,n,i,s){return xe(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,tL(t,n,i,s)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>eL(f,u,n))})})}function vc(e,t,r,n){return xe(this,void 0,void 0,function*(){return $c(e,"GET",t,r,n)})}function _n(e,t,r,n,i){return xe(this,void 0,void 0,function*(){return $c(e,"POST",t,n,i,r)})}function Fy(e,t,r,n,i){return xe(this,void 0,void 0,function*(){return $c(e,"PUT",t,n,i,r)})}function rL(e,t,r,n){return xe(this,void 0,void 0,function*(){return $c(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function db(e,t,r,n,i){return xe(this,void 0,void 0,function*(){return $c(e,"DELETE",t,n,i,r)})}class nL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}}var LC;class aL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[LC]="BlobDownloadBuilder",this.promise=null}asStream(){return new nL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}}LC=Symbol.toStringTag;const iL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sL{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ub(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return xe(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},qS),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",this.encodeMetadata(f)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(f))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const m=this._removeEmptyFolders(r),p=this._getFinalPath(m),g=yield(t=="PUT"?Fy:_n)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:m,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(pt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return xe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let f;const m=Object.assign({upsert:qS.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",m.cacheControl)):(f=n,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const g=yield Fy(this.fetch,u.toString(),f,{headers:p});return{data:{path:s,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(pt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield _n(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new kh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}update(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield _n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield _n(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return xe(this,void 0,void 0,function*(){try{const i=yield _n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=s?`?${s}`:"",u=this._getFinalPath(t),f=()=>vc(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new aL(f,this.shouldThrowOnError)}info(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Gy(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}exists(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield rL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n)&&n instanceof Ky){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${m}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield db(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}list(t,r,n){return xe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},iL),r),{prefix:t||""});return{data:yield _n(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}listV2(t,r){return xe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield _n(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const $C="2.86.0",zC={"X-Client-Info":`storage-js/${$C}`};class oL{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zC),r),this.fetch=ub(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield vc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}createBucket(t){return xe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield _n(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return xe(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield db(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var yc=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lL(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function cL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function uL(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:l}){const u=lL(e.baseUrl,n,i),f=await cL(e.auth),m=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),p=await m.text(),g=(m.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!m.ok){const b=g?y:void 0,j=b==null?void 0:b.error;throw new yc((j==null?void 0:j.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:b})}return{status:m.status,headers:m.headers,data:y}}}}function zd(e){return e.join("")}var dL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:zd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zd(e.namespace)}`}),!0}catch(t){if(t instanceof yc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof yc&&r.status===409)return;throw r}}};function oo(e){return e.join("")}var fL=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${oo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${oo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${oo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${oo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof yc&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof yc&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},hL=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=uL({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new dL(this.client,t),this.tableOps=new fL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class mL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zC),r),this.fetch=ub(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield vc(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield db(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}from(t){if(!Z5(t))throw new kh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new hL({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>xe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const fb={"X-Client-Info":`storage-js/${$C}`,"Content-Type":"application/json"};class BC extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Hg extends BC{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pL extends BC{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var HS;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(HS||(HS={}));const hb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},KS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vL=(e,t,r)=>xe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";t(new Hg(KS(l),i,u))}).catch(()=>{const l=i+"",u=s.statusText||`HTTP ${i} error`;t(new Hg(u,i,l))});else{const l=i+"",u=s.statusText||`HTTP ${i} error`;t(new Hg(u,i,l))}}else t(new pL(KS(e),e))}),yL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(gL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function bL(e,t,r,n,i,s){return xe(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,yL(t,n,i,s)).then(f=>{if(!f.ok)throw f;if(n!=null&&n.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>vL(f,u,n))})})}function Kr(e,t,r,n,i){return xe(this,void 0,void 0,function*(){return bL(e,"POST",t,n,i,r)})}class xL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fb),r),this.fetch=hb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield Kr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return xe(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listIndexes(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return xe(this,void 0,void 0,function*(){try{return{data:(yield Kr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class wL{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fb),r),this.fetch=hb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Kr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Kr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}queryVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Kr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class _L{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fb),r),this.fetch=hb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield Kr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listBuckets(){return xe(this,arguments,void 0,function*(t={}){try{return{data:yield Kr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield Kr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class jL extends _L{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new SL(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return xe(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return xe(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return xe(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return xe(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class SL extends xL{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new kL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class kL extends wL{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class EL extends oL{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new sL(this.url,this.headers,t,this.fetch)}get vectors(){return new jL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mL(this.url+"/iceberg",this.headers,this.fetch)}}const NL="2.86.0";let cc="";typeof Deno<"u"?cc="deno":typeof document<"u"?cc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cc="react-native":cc="node";const OL={"X-Client-Info":`supabase-js-${cc}/${NL}`},AL={headers:OL},CL={schema:"public"},TL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PL={},DL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ML=()=>Headers,RL=(e,t,r)=>{const n=DL(r),i=ML();return async(s,l)=>{var u;const f=(u=await t())!==null&&u!==void 0?u:e;let m=new i(l==null?void 0:l.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),n(s,Object.assign(Object.assign({},l),{headers:m}))}};function IL(e){return e.endsWith("/")?e:e+"/"}function LL(e,t){var r,n;const{db:i,auth:s,realtime:l,global:u}=e,{db:f,auth:m,realtime:p,global:g}=t,y={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},m),s),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function $L(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(IL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const UC="2.86.0",go=30*1e3,Yy=3,Kg=Yy*go,zL="http://localhost:9999",BL="supabase.auth.token",UL={"X-Client-Info":`gotrue-js/${UC}`},Vy="X-Supabase-Api-Version",qC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HL=600*1e3;class Ao extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HC extends Ao{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function KC(e){return je(e)&&e.name==="AuthApiError"}class hi extends Ao{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ca extends Ao{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Er extends Ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GC(e){return je(e)&&e.name==="AuthSessionMissingError"}class Xi extends Ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uc extends Ca{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dc extends Ca{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FC(e){return je(e)&&e.name==="AuthImplicitGrantRedirectError"}class Wy extends Ca{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _f extends Ca{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function cf(e){return je(e)&&e.name==="AuthRetryableFetchError"}class Xy extends Ca{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jf extends Ca{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),GS=` 	
\r=`.split(""),KL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<GS.length;t+=1)e[GS[t].charCodeAt(0)]=-2;for(let t=0;t<Sf.length;t+=1)e[Sf[t].charCodeAt(0)]=t;return e})();function FS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sf[n]),t.queuedBits-=6}}function YC(e,t,r){const n=KL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function YS(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{YL(l,n,r)};for(let l=0;l<e.length;l+=1)YC(e.charCodeAt(l),i,s);return t.join("")}function GL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}GL(n,t)}}function YL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function So(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)YC(e.charCodeAt(i),r,n);return new Uint8Array(t)}function VL(e){const t=[];return FL(e,r=>t.push(r)),new Uint8Array(t)}function is(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>FS(i,r,n)),FS(null,r,n),t.join("")}function WL(e){return Math.round(Date.now()/1e3)+e}function XL(){return Symbol("auth-callback")}const ar=()=>typeof window<"u"&&typeof document<"u",Yi={tested:!1,writable:!1},VC=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yi.tested)return Yi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yi.tested=!0,Yi.writable=!0}catch{Yi.tested=!0,Yi.writable=!1}return Yi.writable};function QL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const WC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ci=async(e,t)=>{await e.removeItem(t)};class Eh{constructor(){this.promise=new Eh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Eh.promiseConstructor=Promise;function Gg(e){const t=e.split(".");if(t.length!==3)throw new jf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!qL.test(t[n]))throw new jf("JWT not in base64url format");return{header:JSON.parse(YS(t[0])),payload:JSON.parse(YS(t[1])),signature:So(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function e$(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function t$(e){return("0"+e.toString(16)).substr(-2)}function r$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,t$).join("")}async function n$(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function a$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await n$(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lo(e,t,r=!1){const n=r$();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await vo(e,`${t}-code-verifier`,i);const s=await a$(n);return[s,n===s?"plain":"s256"]}const i$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s$(e){const t=e.headers.get(Vy);if(!t||!t.match(i$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function o$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function l$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const c$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function co(e){if(!c$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function u$(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function VS(e){return JSON.parse(JSON.stringify(e))}const Qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),d$=[502,503,504];async function WS(e){var t;if(!JL(e))throw new _f(Qi(e),0);if(d$.includes(e.status))throw new _f(Qi(e),e.status);let r;try{r=await e.json()}catch(s){throw new hi(Qi(s),s)}let n;const i=s$(e);if(i&&i.getTime()>=qC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xy(Qi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Er}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new Xy(Qi(r),e.status,r.weak_password.reasons);throw new HC(Qi(r),e.status||500,n)}const f$=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ne(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Vy]||(s[Vy]=qC["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await h$(e,t,r+u,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function h$(e,t,r,n,i,s){const l=f$(t,n,i,s);let u;try{u=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new _f(Qi(f),0)}if(u.ok||await WS(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await WS(f)}}function wn(e){var t;let r=null;g$(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=WL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function XS(e){const t=wn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function mi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function m$(e){return{data:e,error:null}}function p$(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,l=Ko(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function QS(e){return e}function g$(e){return e.access_token&&e.refresh_token&&e.expires_in}const uf=["global","local","others"];class XC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=WC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=uf[0]){if(uf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uf.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:mi})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ko(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:p$,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mi})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,l,u,f;try{const m={nextPage:null,lastPage:0,total:0},p=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:QS});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);m[`${_}Page`]=S}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(je(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){co(t);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mi})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){co(t);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:mi})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){co(t);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:mi})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){co(t.userId);try{const{data:r,error:n}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(t){co(t.userId),co(t.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,l,u,f;try{const m={nextPage:null,lastPage:0,total:0},p=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:QS});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(f=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);m[`${_}Page`]=S}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(je(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}}function JS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ji={debug:!!(globalThis&&VC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class QC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JC extends QC{}async function ZC(e,t,r){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ji.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function v$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function y$(e){return parseInt(e,16)}function b$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function x$(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:f,resources:m,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=eT(e.address),j=p?`${p}://${n}`:n,S=e.statement?`${e.statement}
`:"",_=`${j} wants you to sign in with your Ethereum account:
${b}

${S}`;let E=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),f&&(E+=`
Request ID: ${f}`),m){let N=`
Resources:`;for(const k of m){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);N+=`
- ${k}`}E+=N}return`${_}
${E}`}class Tt extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class kf extends Tt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function w$({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(tT(l)){if(s.rp.id!==l)return new Tt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _$({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tT(n)){if(r.rpId!==n)return new Tt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class j${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const S$=new j$;function k$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ko(e,["challenge","user","excludeCredentials"]),s=So(t).buffer,l=Object.assign(Object.assign({},r),{id:So(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const m=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:So(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function E$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ko(e,["challenge","allowCredentials"]),i=So(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:So(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function N$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:is(new Uint8Array(e.response.attestationObject)),clientDataJSON:is(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function O$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:is(new Uint8Array(i.authenticatorData)),clientDataJSON:is(new Uint8Array(i.clientDataJSON)),signature:is(new Uint8Array(i.signature)),userHandle:i.userHandle?is(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ZS(){var e,t;return!!(ar()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function A$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",t)}:{data:null,error:new kf("Empty credential response",t)}}catch(t){return{data:null,error:w$({error:t,options:e})}}}async function C$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",t)}:{data:null,error:new kf("Empty credential response",t)}}catch(t){return{data:null,error:_$({error:t,options:e})}}}const T$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},P$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ef(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=Ef(u,l):n[s]=Ef(l)}else n[s]=l}return n}function D$(e,t){return Ef(T$,e,t||{})}function M$(e,t){return Ef(P$,e,t||{})}class R${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const f=i??S$.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=D$(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:p,error:g}=await A$({publicKey:m,signal:f});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const m=M$(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:p,error:g}=await C$(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:f}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return je(l)?{data:null,error:l}:{data:null,error:new hi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ao("rpId is required for WebAuthn authentication")};try{if(!ZS())return{data:null,error:new hi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return je(l)?{data:null,error:l}:{data:null,error:new hi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ao("rpId is required for WebAuthn registration")};try{if(!ZS())return{data:null,error:new hi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:f,error:m}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(l){return je(l)?{data:null,error:l}:{data:null,error:new hi("Unexpected error in register",l)}}}}v$();const I$={url:zL,storageKey:BL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ek(e,t,r){return await r()}const uo={};class Co{get jwks(){var t,r;return(r=(t=uo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){uo[this.storageKey]=Object.assign(Object.assign({},uo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=uo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){uo[this.storageKey]=Object.assign(Object.assign({},uo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},I$),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Co.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Co.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ar()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new XC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=WC(s.fetch),this.lock=s.lock||ek,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:ar()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ZC:this.lock=ek,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new R$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:VC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=JS(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=JS(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${UC}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ar()&&(r=QL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ar()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),FC(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return je(r)?this._returnResult({error:r}):this._returnResult({error:new hi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:wn}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const f=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(s){if(je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:p,password:g,options:y}=t;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await lo(this.storage,this.storageKey)),s=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:g,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:j},xform:wn})}else if("phone"in t){const{phone:p,password:g,options:y}=t;s=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:wn})}else throw new uc("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const f=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(s){if(je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:XS})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:XS})}else throw new uc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Xi;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,l,u,f,m,p,g,y;let b,j;if("message"in t)b=t.message,j=t.signature;else{const{chain:S,wallet:_,statement:E,options:N}=t;let k;if(ar())if(typeof _=="object")k=_;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")k=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=_}const T=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),A=await k.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=eT(A[0]);let I=(n=N==null?void 0:N.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!I){const Y=await k.request({method:"eth_chainId"});I=y$(Y)}const W={domain:T.host,address:D,statement:E,uri:T.href,version:"1",chainId:I,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N==null?void 0:N.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=N==null?void 0:N.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=x$(W),j=await k.request({method:"personal_sign",params:[b$(b),D]})}try{const{data:S,error:_}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:j},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:wn});if(_)throw _;if(!S||!S.session||!S.user){const E=new Xi;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(je(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,i,s,l,u,f,m,p,g,y,b;let j,S;if("message"in t)j=t.message,S=t.signature;else{const{chain:_,wallet:E,statement:N,options:k}=t;let T;if(ar())if(typeof E=="object")T=E;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))T=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=E}const A=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const D=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),N?{statement:N}:null));let I;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")I=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)I=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)j=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),S=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${A.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(n=k==null?void 0:k.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=k==null?void 0:k.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((m=k==null?void 0:k.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((g=(p=k==null?void 0:k.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...k.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const D=await T.signMessage(new TextEncoder().encode(j),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=D}}try{const{data:_,error:E}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:is(S)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:wn});if(E)throw E;if(!_||!_.session||!_.user){const N=new Xi;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(je(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Vi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:l}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wn});if(await ci(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new Xi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(je(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:l}=t,u=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wn}),{data:f,error:m}=u;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const p=new Xi;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,l;try{if("email"in t){const{email:u,options:f}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await lo(this.storage,this.storageKey));const{error:g}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:f}=t,{data:m,error:p}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(s=f==null?void 0:f.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:p})}throw new uc("You must provide either an email or phone number.")}catch(u){if(je(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:wn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,m=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,l;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await lo(this.storage,this.storageKey));const m=await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:m$});return!((s=m.data)===null||s===void 0)&&s.url&&ar()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(u){if(je(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Er;const{error:i}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(je(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:l}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:l,error:u}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new uc("You must provide either an email or phone number and a type")}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Kg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Vi(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Fg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=u$(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:mi}):await this._useSession(async r=>{var n,i,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Er}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:mi})})}catch(r){if(je(r))return GC(r)&&(await this._removeSession(),await ci(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Er;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await lo(this.storage,this.storageKey));const{data:m,error:p}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:mi});if(p)throw p;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(je(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Er;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:l}=Gg(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Er;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ar())throw new dc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new dc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wy("No code detected.");const{data:N,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:u,expires_at:f,token_type:m}=t;if(!s||!u||!l||!m)throw new dc("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let y=p+g;f&&(y=parseInt(f));const b=y-p;b*1e3<=go&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const j=y-g;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,y,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,y,p);const{data:S,error:_}=await this._getUser(s);if(_)throw _;const E={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:g,expires_at:y,refresh_token:l,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:t.type},error:null})}catch(n){if(je(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(KC(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await ci(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=XL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await lo(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(je(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var l,u,f,m,p;const{data:g,error:y}=s;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ar()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(je(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:l,provider:u,token:f,access_token:m,nonce:p}=t,g=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:m,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wn}),{data:y,error:b}=g;return b?this._returnResult({data:{user:null,session:null},error:b}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Xi}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:b}))}catch(i){if(je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)throw l;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await e$(async i=>(i>0&&await ZL(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wn})),(i,s)=>{const l=200*Math.pow(2,i);return s&&cf(s)&&Date.now()+l-n<go})}catch(n){if(this._debug(r,"error",n),je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ar()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Vi(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await vo(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Fg()}else if(i&&!i.user&&!i.user){const l=await Vi(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await ci(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,i)):i.user=Fg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Kg;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Kg}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),cf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Eh;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Er;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),je(s)){const l={data:null,error:s};return cf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=VS(i);await vo(this.storage,this.storageKey,s)}else{const i=VS(r);await vo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ci(this.storage,this.storageKey),await ci(this.storage,this.storageKey+"-code-verifier"),await ci(this.storage,this.storageKey+"-user"),this.userStorage&&await ci(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),go);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/go);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${go}ms, refresh threshold is ${Yy} ticks`),i<=Yy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof QC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await lo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:m}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?N$(t.webauthn.credential_response):O$(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:k$(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:E$(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Gg(n.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const m=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Er})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Er});const l=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&ar()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Er});const l=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&ar()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Er})})}catch(t){if(je(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Er})})}catch(r){if(je(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+HL>i)return n;const{data:s,error:l}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:b,error:j}=await this.getSession();if(j||!b.session)return this._returnResult({data:null,error:j});n=b.session.access_token}const{header:i,payload:s,signature:l,raw:{header:u,payload:f}}=Gg(n);r!=null&&r.allowExpired||o$(s.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:s,header:i,signature:l},error:null}}const p=l$(i.alg),g=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,VL(`${u}.${f}`)))throw new jf("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(n){if(je(n))return this._returnResult({data:null,error:n});throw n}}}Co.nextInstanceID={};const rT=Co;class L$ extends rT{constructor(t){super(t)}}class nT{constructor(t,r,n){var i,s,l;this.supabaseUrl=t,this.supabaseKey=r;const u=$L(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:CL,realtime:PL,auth:Object.assign(Object.assign({},TL),{storageKey:f}),global:AL},p=LL(n??{},m);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=RL(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new D5(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new EL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new A5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:l,flowType:u,lock:f,debug:m,throwOnError:p},g,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L$({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),g),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:u,lock:f,debug:m,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new IC(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aT=(e,t,r)=>new nT(e,t,r);function $$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const z$=Object.freeze(Object.defineProperty({__proto__:null,AuthApiError:HC,AuthClient:rT,AuthError:Ao,AuthImplicitGrantRedirectError:dc,AuthInvalidCredentialsError:uc,AuthInvalidJwtError:jf,AuthInvalidTokenResponseError:Xi,AuthPKCEGrantCodeExchangeError:Wy,AuthRetryableFetchError:_f,AuthSessionMissingError:Er,AuthUnknownError:hi,AuthWeakPasswordError:Xy,CustomAuthError:Ca,get FunctionRegion(){return wf},FunctionsError:jh,FunctionsFetchError:SC,FunctionsHttpError:$y,FunctionsRelayError:Ly,GoTrueAdminApi:XC,GoTrueClient:Co,NavigatorLockAcquireTimeoutError:JC,PostgrestError:M5,get REALTIME_LISTEN_TYPES(){return jo},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Hy},get REALTIME_PRESENCE_LISTEN_EVENTS(){return qy},get REALTIME_SUBSCRIBE_STATES(){return Un},RealtimeChannel:Sh,RealtimeClient:IC,RealtimePresence:_o,SIGN_OUT_SCOPES:uf,SupabaseClient:nT,WebSocketFactory:TC,createClient:aT,isAuthApiError:KC,isAuthError:je,isAuthImplicitGrantRedirectError:FC,isAuthRetryableFetchError:cf,isAuthSessionMissingError:GC,lockInternals:Ji,navigatorLock:ZC},Symbol.toStringTag,{value:"Module"})),B$="https://supabase.eletrotecnia.com",U$="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NDUwNDkwMCwiZXhwIjo0OTIwMTc4NTAwLCJyb2xlIjoiYW5vbiJ9.4xHDPxTiGcXLbib8vCs_mTZhVgAiZUCOd3yvnkNL3cE",Se=aT(B$,U$,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"gestaotour-auth"}}),iT={Administrador:["view_dashboard","view_bookings","edit_bookings","delete_bookings","view_calendar","view_adventures","edit_adventures","delete_adventures","view_agencies","edit_agencies","delete_agencies","view_staff","edit_staff","delete_staff","view_analytics","delete_any"],Gestor:["view_dashboard","view_bookings","edit_bookings","view_calendar","view_adventures","edit_adventures","view_agencies","edit_agencies","view_staff","view_analytics"],Guia:["view_bookings","view_calendar"],Condutor:["view_bookings","view_calendar"]},q$={"/":"view_dashboard","/bookings":"view_bookings","/calendar":"view_calendar","/adventures":"view_adventures","/agencies":"view_agencies","/staff":"view_staff","/analytics":"view_analytics"};function yi(e,t){var r;return((r=iT[e])==null?void 0:r.includes(t))??!1}function H$(e,t){const r=q$[t];return r?yi(e,r):!0}function K$(e,t){return yi(e,"delete_any")?!0:t?yi(e,`delete_${t}`):!1}function G$(e,t){return yi(e,`edit_${t}`)}function F$(e,t){return yi(e,`view_${t}`)}function Y$(e){return iT[e]??[]}function V$(e){return yi(e,"view_dashboard")?"/":yi(e,"view_bookings")?"/bookings":"/calendar"}const sT=w.createContext(void 0),W$=({children:e})=>{const[t,r]=w.useState(null),[n,i]=w.useState(null),[s,l]=w.useState(!1),[u,f]=w.useState(!0);w.useEffect(()=>{let E=!0;const N=async()=>{try{const{data:{session:A}}=await Se.auth.getSession();E&&(A?await k(A):(r(null),i(null),l(!1)))}catch(A){console.error("Error initializing auth:",A)}finally{E&&f(!1)}},k=async A=>{try{const{user:D,companyId:I,isSuperAdmin:W}=await m(A);E&&(r(D),i(I),l(W))}catch(D){console.error("Error handling session:",D)}};N();const{data:{subscription:T}}=Se.auth.onAuthStateChange(async(A,D)=>{console.log(`[Auth] Auth state change: ${A}`),E&&(D?(A==="SIGNED_IN"||A==="TOKEN_REFRESHED"||A==="INITIAL_SESSION")&&await k(D):(r(null),i(null),l(!1)),f(!1))});return()=>{E=!1,T.unsubscribe()}},[]);const m=async E=>{var W,Y,re,U,P,B,K;if(!(E!=null&&E.user))return{user:null,companyId:null,isSuperAdmin:!1};const{user:N}=E;let k=((W=N.user_metadata)==null?void 0:W.role)||"Administrador",T=((Y=N.user_metadata)==null?void 0:Y.name)||((re=N.email)==null?void 0:re.split("@")[0])||"User",A=((U=N.user_metadata)==null?void 0:U.is_superadmin)||!1,D=null;const I=["tecnico@techx.pt","admin@gestaotour.com","leonel.marcelino@techxpt.com"];N.email&&I.includes(N.email)&&(console.log("[Auth] User is in SuperAdmin whitelist:",N.email),A=!0),console.log("[Auth] Fetching profile for:",N.email,"| Initial role:",k,"| SuperAdmin:",A);try{let q=null,M=null;for(let L=0;L<3;L++)try{const V=new Promise((G,H)=>setTimeout(()=>H(new Error("Query timeout")),5e3)),X=Se.from("staff").select("role, name, is_active, company_id, is_superadmin").or(`auth_id.eq.${N.id},email.eq.${N.email}`).maybeSingle(),{data:ce,error:R}=await Promise.race([X,V]);if(R)M=R,console.warn(`[Auth] Attempt ${L+1} failed:`,R.message),await new Promise(G=>setTimeout(G,1e3));else{q=ce,M=null;break}}catch(V){M=V,console.warn(`[Auth] Attempt ${L+1} exception:`,V),await new Promise(X=>setTimeout(X,1e3))}if(!M&&q){if(console.log("[Auth] Staff profile found:",{role:q.role,is_superadmin:q.is_superadmin}),q.is_active===!1)throw console.warn("[Auth] User account is inactive"),new Error("Account is inactive");k=q.role,T=q.name,D=q.company_id,A=q.is_superadmin||!1,(((P=N.user_metadata)==null?void 0:P.is_superadmin)!==A||((B=N.user_metadata)==null?void 0:B.role)!==k)&&(console.log("[Auth] Syncing user metadata..."),Se.auth.updateUser({data:{is_superadmin:A,role:k,name:T}}).then(({error:L})=>{L&&console.error("[Auth] Error syncing metadata:",L)}))}else M?console.warn("[Auth] Staff profile query failed after retries:",M,"| Using metadata/whitelist fallback"):console.warn("[Auth] No staff profile found | Using metadata/whitelist fallback")}catch(q){if(q.message==="Account is inactive")return{user:null,companyId:null,isSuperAdmin:!1};console.error("[Auth] Error fetching user profile:",q)}return console.log("[Auth] Final state:",{role:k,companyId:D,isSuperAdmin:A}),{user:{id:N.id,email:N.email||"",name:T,role:k,avatar:(K=N.user_metadata)==null?void 0:K.avatar_url,permissions:Y$(k)},companyId:D,isSuperAdmin:A}},p=async(E,N)=>{const{error:k}=await Se.auth.signInWithPassword({email:E,password:N});if(k)throw k},g=async()=>{await Se.auth.signOut()},y=E=>t?yi(t.role,E):!1,b=E=>t?H$(t.role,E):!1,j=E=>t?K$(t.role,E):!1,S=E=>t?G$(t.role,E):!1,_=E=>t?F$(t.role,E):!1;return d.jsx(sT.Provider,{value:{user:t,companyId:n,isSuperAdmin:s,login:p,logout:g,isAuthenticated:!!t,loading:u,hasPermission:y,canAccessPage:b,canDelete:j,canEdit:S,canView:_},children:e})},Ta=()=>{const e=w.useContext(sT);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},X$=({message:e,type:t,isVisible:r,onClose:n})=>{if(w.useEffect(()=>{if(r){const l=setTimeout(()=>{n()},3e3);return()=>clearTimeout(l)}},[r,n]),!r)return null;const i=()=>{switch(t){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";case"info":return"info"}},s=()=>{switch(t){case"success":return"bg-green-50 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800";case"error":return"bg-red-50 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800";case"warning":return"bg-yellow-50 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800";case"info":return"bg-blue-50 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800"}};return d.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-xl border shadow-lg transition-all duration-300 transform translate-y-0 animate-fade-in ${s()}`,children:[d.jsx("span",{className:"material-symbols-outlined text-xl",children:i()}),d.jsx("p",{className:"font-medium text-sm",children:e}),d.jsx("button",{onClick:n,className:"ml-2 opacity-70 hover:opacity-100 transition-opacity",children:d.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})},oT=w.createContext(void 0),Q$=({children:e})=>{const[t,r]=w.useState({message:"",type:"info",isVisible:!1}),n=(s,l)=>{r({message:s,type:l,isVisible:!0})},i=()=>{r(s=>({...s,isVisible:!1}))};return d.jsxs(oT.Provider,{value:{showToast:n},children:[e,d.jsx(X$,{message:t.message,type:t.type,isVisible:t.isVisible,onClose:i})]})},Nh=()=>{const e=w.useContext(oT);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},J$=({isOpen:e,title:t,message:r,type:n="info",onClose:i,onConfirm:s,confirmText:l="OK",cancelText:u="Cancelar"})=>{const[f,m]=w.useState(e);if(w.useEffect(()=>{m(e)},[e]),!f)return null;const p=()=>{switch(n){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";case"info":return"info"}},g=()=>{switch(n){case"success":return"text-green-500 bg-green-50 dark:bg-green-900/20";case"error":return"text-red-500 bg-red-50 dark:bg-red-900/20";case"warning":return"text-orange-500 bg-orange-50 dark:bg-orange-900/20";case"info":return"text-blue-500 bg-blue-50 dark:bg-blue-900/20"}};return d.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity animate-fade-in",onClick:i}),d.jsx("div",{className:"relative bg-white dark:bg-[#1a1d21] rounded-2xl shadow-2xl max-w-md w-full p-6 transform transition-all animate-scale-in border border-gray-100 dark:border-gray-800",children:d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-4 ${g()}`,children:d.jsx("span",{className:"material-symbols-outlined text-2xl",children:p()})}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:t}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm leading-relaxed",children:r}),d.jsxs("div",{className:"flex gap-3 w-full",children:[s&&d.jsx("button",{onClick:i,className:"flex-1 px-4 py-2.5 rounded-xl text-sm font-semibold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:u}),d.jsx("button",{onClick:()=>{s&&s(),i()},className:`flex-1 px-4 py-2.5 rounded-xl text-sm font-semibold text-white shadow-lg transition-all transform hover:scale-[1.02] ${n==="error"?"bg-red-500 hover:bg-red-600 shadow-red-500/20":n==="warning"?"bg-orange-500 hover:bg-orange-600 shadow-orange-500/20":"bg-primary hover:bg-primary-dark shadow-primary/20 text-background-dark"}`,children:l})]})]})})]})},lT=w.createContext(void 0),Z$=({children:e})=>{const[t,r]=w.useState({isOpen:!1,title:"",message:"",type:"info"}),n=s=>{r({...s,isOpen:!0})},i=()=>{r(s=>({...s,isOpen:!1}))};return d.jsxs(lT.Provider,{value:{showModal:n,hideModal:i},children:[e,d.jsx(J$,{isOpen:t.isOpen,title:t.title,message:t.message,type:t.type,confirmText:t.confirmText,cancelText:t.cancelText,onClose:i,onConfirm:t.onConfirm})]})},cT=()=>{const e=w.useContext(lT);if(!e)throw new Error("useModal must be used within a ModalProvider");return e},ez=()=>{const e=Dn(),{user:t,logout:r,canAccessPage:n,isSuperAdmin:i}=Ta(),[s,l]=vf.useState(null);vf.useEffect(()=>{(async()=>{try{const{data:b}=await Se.from("company_settings").select("name, logo_url").single();b&&l({name:b.name,logoUrl:b.logo_url})}catch(b){console.error("Error fetching company settings:",b)}})()},[]);const u=[{label:"Dashboard",icon:"dashboard",path:"/"},{label:"Reservas",icon:"calendar_month",path:"/bookings"},{label:"Calendrio",icon:"event",path:"/calendar"},{label:"Passeios",icon:"hiking",path:"/adventures"},{label:"Anlise",icon:"bar_chart",path:"/analytics"}],f=[{label:"Agncias",icon:"storefront",path:"/agencies"},{label:"Equipa",icon:"badge",path:"/staff"},{label:"Pagamentos",icon:"payments",path:"/payment-methods"}],m=u.filter(y=>n(y.path)),p=f.filter(y=>n(y.path)),g=y=>{const b=e.pathname===y.path||y.path!=="/"&&e.pathname.startsWith(y.path);return d.jsxs(XA,{to:y.path,className:({isActive:j})=>`
                  flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200
                  ${j?"bg-primary text-background-dark font-semibold shadow-md shadow-primary/20":"text-gray-600 dark:text-gray-300 hover:bg-black/5 dark:hover:bg-white/5"}
                `,children:[d.jsx("span",{className:`material-symbols-outlined ${b?"material-symbols-filled":""}`,children:y.icon}),d.jsx("span",{className:"text-sm",children:y.label})]},y.path)};return d.jsxs("aside",{className:"w-64 flex-shrink-0 bg-background-light dark:bg-[#112215] border-r border-gray-200 dark:border-surface-border flex flex-col h-screen fixed left-0 top-0 z-20 transition-all",children:[d.jsxs("div",{className:"p-6 flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-8 flex-shrink-0",children:[d.jsx("div",{className:"bg-center bg-no-repeat bg-cover rounded-full size-10 shadow-lg border-2 border-primary/20 bg-white dark:bg-white/10",style:{backgroundImage:`url("${(s==null?void 0:s.logoUrl)||(t==null?void 0:t.avatar)||"https://via.placeholder.com/150"}")`}}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h1",{className:"text-base font-bold leading-tight text-gray-900 dark:text-white",children:"GestoTour"}),d.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-[#92c9a0] truncate max-w-[140px]",children:(s==null?void 0:s.name)||"Carregando..."})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto space-y-8",children:[d.jsx("nav",{className:"flex flex-col gap-2",children:m.map(g)}),p.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"px-3 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Definies"}),d.jsx("nav",{className:"flex flex-col gap-2",children:p.map(g)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"px-3 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Sistema"}),d.jsx("nav",{className:"flex flex-col gap-2",children:g({label:"Configuraes",icon:"settings",path:"/company-settings"})})]}),i&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"px-3 text-xs font-semibold text-orange-500 dark:text-orange-400 uppercase tracking-wider",children:"SuperAdmin"}),d.jsx("nav",{className:"flex flex-col gap-2",children:g({label:"Empresas",icon:"apartment",path:"/companies"})})]})]})]}),d.jsxs("div",{className:"mt-auto p-6 flex flex-col gap-2",children:[d.jsxs("button",{className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[d.jsx("span",{className:"material-symbols-outlined",children:"help"}),d.jsx("span",{className:"text-sm font-medium",children:"Ajuda"})]}),d.jsxs("button",{onClick:r,className:"flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[d.jsx("span",{className:"material-symbols-outlined",children:"logout"}),d.jsx("span",{className:"text-sm font-medium",children:"Sair"})]})]})]})},tz=()=>d.jsxs("div",{className:"flex min-h-screen",children:[d.jsx(ez,{}),d.jsx("main",{className:"flex-1 ml-64 p-6 lg:p-8 overflow-y-auto",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:d.jsx(H4,{})})})]}),rz=({children:e})=>{const{isAuthenticated:t,loading:r,user:n,canAccessPage:i}=Ta(),s=Dn();if(r)return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark",children:d.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!t)return d.jsx(Py,{to:"/login",state:{from:s},replace:!0});if(n&&!i(s.pathname)){const l=V$(n.role);return d.jsx(Py,{to:l,replace:!0})}return d.jsx(d.Fragment,{children:e})},gi=({label:e,value:t,change:r,isPositive:n})=>d.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl bg-white dark:bg-surface-dark p-6 border border-gray-200 dark:border-surface-border shadow-sm",children:[d.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm font-medium leading-normal",children:e}),d.jsx("p",{className:"text-gray-900 dark:text-white tracking-tight text-3xl font-bold leading-tight",children:t}),d.jsx("p",{className:`text-sm font-medium leading-normal ${n?"text-green-600 dark:text-primary":"text-red-500"}`,children:r})]}),nz=({name:e,count:t})=>d.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-gray-100 dark:border-white/5 last:border-0",children:[d.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e}),d.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t})]});function uT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=uT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ue(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=uT(e))&&(n&&(n+=" "),n+=t);return n}var az=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mb(e){if(typeof e!="string")return!1;var t=az;return t.includes(e)}var iz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sz=new Set(iz);function dT(e){return typeof e!="string"?!1:sz.has(e)}function fT(e){return typeof e=="string"&&e.startsWith("data-")}function Vr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(dT(r)||fT(r))&&(t[r]=e[r]);return t}function hs(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Vr(t)}return typeof e=="object"&&!Array.isArray(e)?Vr(e):null}function vr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(dT(r)||fT(r)||mb(r))&&(t[r]=e[r]);return t}function oz(e){return e==null?null:w.isValidElement(e)?vr(e.props):typeof e=="object"&&!Array.isArray(e)?vr(e):null}var lz=["children","width","height","viewBox","className","style","title","desc"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function cz(e,t){if(e==null)return{};var r,n,i=uz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pb=w.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:l,style:u,title:f,desc:m}=e,p=cz(e,lz),g=s||{width:n,height:i,x:0,y:0},y=Ue("recharts-surface",l);return w.createElement("svg",Qy({},vr(p),{className:y,width:n,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),w.createElement("title",null,f),w.createElement("desc",null,m),r)}),dz=["children","className"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(null,arguments)}function fz(e,t){if(e==null)return{};var r,n,i=hz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qt=w.forwardRef((e,t)=>{var{children:r,className:n}=e,i=fz(e,dz),s=Ue("recharts-layer",n);return w.createElement("g",Jy({className:s},vr(i),{ref:t}),r)}),hT=w.createContext(null),mz=()=>w.useContext(hT);function nt(e){return function(){return e}}const mT=Math.cos,Nf=Math.sin,Rn=Math.sqrt,Of=Math.PI,Oh=2*Of,Zy=Math.PI,e0=2*Zy,Zi=1e-6,pz=e0-Zi;function pT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function gz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pT;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class vz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pT:gz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,f=n-t,m=i-r,p=l-t,g=u-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Zi)if(!(Math.abs(g*f-m*p)>Zi)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,j=i-u,S=f*f+m*m,_=b*b+j*j,E=Math.sqrt(S),N=Math.sqrt(y),k=s*Math.tan((Zy-Math.acos((S+y-_)/(2*E*N)))/2),T=k/N,A=k/E;Math.abs(T-1)>Zi&&this._append`L${t+T*p},${r+T*g}`,this._append`A${s},${s},0,0,${+(g*b>p*j)},${this._x1=t+A*f},${this._y1=r+A*m}`}}arc(t,r,n,i,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),f=n*Math.sin(i),m=t+u,p=r+f,g=1^l,y=l?i-s:s-i;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Zi||Math.abs(this._y1-p)>Zi)&&this._append`L${m},${p}`,n&&(y<0&&(y=y%e0+e0),y>pz?this._append`A${n},${n},0,1,${g},${t-u},${r-f}A${n},${n},0,1,${g},${this._x1=m},${this._y1=p}`:y>Zi&&this._append`A${n},${n},0,${+(y>=Zy)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function gb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vz(t)}function vb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gT(e){this._context=e}gT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ah(e){return new gT(e)}function vT(e){return e[0]}function yT(e){return e[1]}function bT(e,t){var r=nt(!0),n=null,i=Ah,s=null,l=gb(u);e=typeof e=="function"?e:e===void 0?vT:nt(e),t=typeof t=="function"?t:t===void 0?yT:nt(t);function u(f){var m,p=(f=vb(f)).length,g,y=!1,b;for(n==null&&(s=i(b=l())),m=0;m<=p;++m)!(m<p&&r(g=f[m],m,f))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,m,f),+t(g,m,f));if(b)return s=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:nt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:nt(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:nt(!!f),u):r},u.curve=function(f){return arguments.length?(i=f,n!=null&&(s=i(n)),u):i},u.context=function(f){return arguments.length?(f==null?n=s=null:s=i(n=f),u):n},u}function Bd(e,t,r){var n=null,i=nt(!0),s=null,l=Ah,u=null,f=gb(m);e=typeof e=="function"?e:e===void 0?vT:nt(+e),t=typeof t=="function"?t:nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?yT:nt(+r);function m(g){var y,b,j,S=(g=vb(g)).length,_,E=!1,N,k=new Array(S),T=new Array(S);for(s==null&&(u=l(N=f())),y=0;y<=S;++y){if(!(y<S&&i(_=g[y],y,g))===E)if(E=!E)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=y-1;j>=b;--j)u.point(k[j],T[j]);u.lineEnd(),u.areaEnd()}E&&(k[y]=+e(_,y,g),T[y]=+t(_,y,g),u.point(n?+n(_,y,g):k[y],r?+r(_,y,g):T[y]))}if(N)return u=null,N+""||null}function p(){return bT().defined(i).curve(l).context(s)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:nt(+g),n=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:nt(+g),m):e},m.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:nt(+g),m):n},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:nt(+g),r=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:nt(+g),m):t},m.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:nt(+g),m):r},m.lineX0=m.lineY0=function(){return p().x(e).y(t)},m.lineY1=function(){return p().x(e).y(r)},m.lineX1=function(){return p().x(n).y(t)},m.defined=function(g){return arguments.length?(i=typeof g=="function"?g:nt(!!g),m):i},m.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),m):l},m.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),m):s},m}class xT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function yz(e){return new xT(e,!0)}function bz(e){return new xT(e,!1)}const yb={draw(e,t){const r=Rn(t/Of);e.moveTo(r,0),e.arc(0,0,r,0,Oh)}},xz={draw(e,t){const r=Rn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},wT=Rn(1/3),wz=wT*2,_z={draw(e,t){const r=Rn(t/wz),n=r*wT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},jz={draw(e,t){const r=Rn(t),n=-r/2;e.rect(n,n,r,r)}},Sz=.8908130915292852,_T=Nf(Of/10)/Nf(7*Of/10),kz=Nf(Oh/10)*_T,Ez=-mT(Oh/10)*_T,Nz={draw(e,t){const r=Rn(t*Sz),n=kz*r,i=Ez*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const l=Oh*s/5,u=mT(l),f=Nf(l);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*i,f*n+u*i)}e.closePath()}},Yg=Rn(3),Oz={draw(e,t){const r=-Rn(t/(Yg*3));e.moveTo(0,r*2),e.lineTo(-Yg*r,-r),e.lineTo(Yg*r,-r),e.closePath()}},ln=-.5,cn=Rn(3)/2,t0=1/Rn(12),Az=(t0/2+1)*3,Cz={draw(e,t){const r=Rn(t/Az),n=r/2,i=r*t0,s=n,l=r*t0+r,u=-s,f=l;e.moveTo(n,i),e.lineTo(s,l),e.lineTo(u,f),e.lineTo(ln*n-cn*i,cn*n+ln*i),e.lineTo(ln*s-cn*l,cn*s+ln*l),e.lineTo(ln*u-cn*f,cn*u+ln*f),e.lineTo(ln*n+cn*i,ln*i-cn*n),e.lineTo(ln*s+cn*l,ln*l-cn*s),e.lineTo(ln*u+cn*f,ln*f-cn*u),e.closePath()}};function Tz(e,t){let r=null,n=gb(i);e=typeof e=="function"?e:nt(e||yb),t=typeof t=="function"?t:nt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:nt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:nt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Af(){}function Cf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function jT(e){this._context=e}jT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pz(e){return new jT(e)}function ST(e){this._context=e}ST.prototype={areaStart:Af,areaEnd:Af,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dz(e){return new ST(e)}function kT(e){this._context=e}kT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mz(e){return new kT(e)}function ET(e){this._context=e}ET.prototype={areaStart:Af,areaEnd:Af,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Rz(e){return new ET(e)}function tk(e){return e<0?-1:1}function rk(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(s*i+l*n)/(n+i);return(tk(s)+tk(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function nk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Vg(e,t,r){var n=e._x0,i=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,i+u*t,s-u,l-u*r,s,l)}function Tf(e){this._context=e}Tf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vg(this,this._t0,nk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vg(this,nk(this,r=rk(this,e,t)),r);break;default:Vg(this,this._t0,r=rk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function NT(e){this._context=new OT(e)}(NT.prototype=Object.create(Tf.prototype)).point=function(e,t){Tf.prototype.point.call(this,t,e)};function OT(e){this._context=e}OT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function Iz(e){return new Tf(e)}function Lz(e){return new NT(e)}function AT(e){this._context=e}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ak(e),i=ak(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ak(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),l=new Array(r);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function $z(e){return new AT(e)}function Ch(e,t){this._context=e,this._t=t}Ch.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function zz(e){return new Ch(e,.5)}function Bz(e){return new Ch(e,0)}function Uz(e){return new Ch(e,1)}function To(e,t){if((l=e.length)>1)for(var r=1,n,i,s=e[t[0]],l,u=s.length;r<l;++r)for(i=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function r0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function qz(e,t){return e[t]}function Hz(e){const t=[];return t.key=e,t}function Kz(){var e=nt([]),t=r0,r=To,n=qz;function i(s){var l=Array.from(e.apply(this,arguments),Hz),u,f=l.length,m=-1,p;for(const g of s)for(u=0,++m;u<f;++u)(l[u][m]=[0,+n(g,l[u].key,m,s)]).data=g;for(u=0,p=vb(t(l));u<f;++u)l[p[u]].index=u;return r(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:nt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:nt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?r0:typeof s=="function"?s:nt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??To,i):r},i}function Gz(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,l;i<s;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}To(e,t)}}function Fz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}To(e,t)}}function Yz(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,l;n<s;++n){for(var u=0,f=0,m=0;u<l;++u){for(var p=e[t[u]],g=p[n][1]||0,y=p[n-1][1]||0,b=(g-y)/2,j=0;j<u;++j){var S=e[t[j]],_=S[n][1]||0,E=S[n-1][1]||0;b+=_-E}f+=g,m+=b*g}i[n-1][1]+=i[n-1][0]=r,f&&(r-=m/f)}i[n-1][1]+=i[n-1][0]=r,To(e,t)}}var Wg={},Xg={},ik;function Vz(){return ik||(ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Xg)),Xg}var Qg={},sk;function CT(){return sk||(sk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Qg)),Qg}var Jg={},ok;function bb(){return ok||(ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Jg)),Jg}var Zg={},ev={},lk;function Wz(){return lk||(lk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ev)),ev}var ck;function xb(){return ck||(ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wz(),r=bb();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,f="",m="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];m?g==="\\"&&u+1<l?(u++,f+=i[u]):g===m?m="":f+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}e.toPath=n})(Zg)),Zg}var uk;function wb(){return uk||(uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vz(),r=CT(),n=bb(),i=xb();function s(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const p=u[f];return p===void 0?r.isDeepKey(f)?s(u,i.toPath(f),m):m:p}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const p=u[f];return p===void 0?m:p}default:{if(Array.isArray(f))return l(u,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const p=u[f];return p===void 0?m:p}}}function l(u,f,m){if(f.length===0)return m;let p=u;for(let g=0;g<f.length;g++){if(p==null||t.isUnsafeProperty(f[g]))return m;p=p[f[g]]}return p===void 0?m:p}e.get=s})(Wg)),Wg}var tv,dk;function Xz(){return dk||(dk=1,tv=wb().get),tv}var Qz=Xz();const ms=Tn(Qz);var Xt=e=>e===0?0:e>0?1:-1,On=e=>typeof e=="number"&&e!=+e,ja=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,we=e=>(typeof e=="number"||e instanceof Number)&&!On(e),Yn=e=>we(e)||typeof e=="string",Jz=0,bc=e=>{var t=++Jz;return"".concat(e||"").concat(t)},ur=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&typeof t!="string")return n;var s;if(ja(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return On(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},TT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ut(e,t,r){return we(e)&&we(t)?e+r*(t-e):t}function PT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ms(n,t))===r)}var ht=e=>e===null||typeof e>"u",zc=e=>ht(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Zz(e){return e!=null}function Bc(){}var eB=["type","size","sizeType"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){tB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tB(e,t,r){return(t=rB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rB(e){var t=nB(e,"string");return typeof t=="symbol"?t:t+""}function nB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aB(e,t){if(e==null)return{};var r,n,i=iB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DT={symbolCircle:yb,symbolCross:xz,symbolDiamond:_z,symbolSquare:jz,symbolStar:Nz,symbolTriangle:Oz,symbolWye:Cz},sB=Math.PI/180,oB=e=>{var t="symbol".concat(zc(e));return DT[t]||yb},lB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*sB;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cB=(e,t)=>{DT["symbol".concat(zc(e))]=t},_b=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=aB(e,eB),s=hk(hk({},i),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=oB(l),b=Tz().type(y).size(lB(r,n,l)),j=b();if(j!==null)return j},{className:f,cx:m,cy:p}=s,g=vr(s);return we(m)&&we(p)&&we(r)?w.createElement("path",n0({},g,{className:Ue("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:u()})):null};_b.registerSymbol=cB;var MT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,jb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{mb(i)&&(n[i]=(s=>r[i](r,s)))}),n},uB=(e,t,r)=>n=>(e(t,r,n),null),Uc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];mb(i)&&typeof s=="function"&&(n||(n={}),n[i]=uB(s,t,r))}),n};function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(n){fB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fB(e,t,r){return(t=hB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=mB(e,"string");return typeof t=="symbol"?t:t+""}function mB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function It(e,t){var r=dB({},e),n=t,i=Object.keys(t),s=i.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(null,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){gB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gB(e,t,r){return(t=vB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vB(e){var t=yB(e,"string");return typeof t=="symbol"?t:t+""}function yB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dn=32,bB={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function xB(e){var{data:t,iconType:r,inactiveColor:n}=e,i=dn/2,s=dn/6,l=dn/3,u=t.inactive?n:t.color,f=r??t.type;if(f==="none")return null;if(f==="plainline"){var m;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:i,x2:dn,y2:i,className:"recharts-legend-icon"})}if(f==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(dn,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return w.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(dn/8,"h").concat(dn,"v").concat(dn*3/4,"h").concat(-dn,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var p=pB({},t);return delete p.legendIcon,w.cloneElement(t.legendIcon,p)}return w.createElement(_b,{fill:u,cx:i,cy:i,size:dn,sizeType:"diameter",type:f})}function wB(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:l}=e,u={x:0,y:0,width:dn,height:dn},f={display:n==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,g)=>{var y=p.formatter||i,b=Ue({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var j=p.inactive?s:p.color,S=y?y(p.value,p,g):p.value;return w.createElement("li",Pf({className:b,style:f,key:"legend-item-".concat(g)},Uc(e,p,g)),w.createElement(pb,{width:r,height:r,viewBox:u,style:m,"aria-label":"".concat(S," legend icon")},w.createElement(xB,{data:p,iconType:l,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},S))})}var _B=e=>{var t=It(e,bB),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(wB,Pf({},t,{payload:r})))},rv={},nv={},gk;function jB(){return gk||(gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(nv)),nv}var av={},vk;function RT(){return vk||(vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(av)),av}var iv={},sv={},ov={},yk;function SB(){return yk||(yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ov)),ov}var bk;function Sb(){return bk||(bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SB();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(sv)),sv}var lv={},xk;function kB(){return xk||(xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(lv)),lv}var wk;function EB(){return wk||(wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb(),r=kB();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(iv)),iv}var cv={},uv={},_k;function NB(){return _k||(_k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wb();function r(n){return function(i){return t.get(i,n)}}e.property=r})(uv)),uv}var dv={},fv={},hv={},mv={},jk;function IT(){return jk||(jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(mv)),mv}var pv={},Sk;function LT(){return Sk||(Sk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(pv)),pv}var gv={},kk;function $T(){return kk||(kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(gv)),gv}var Ek;function OB(){return Ek||(Ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT(),r=LT(),n=$T();function i(p,g,y){return typeof y!="function"?i(p,g,()=>{}):s(p,g,function b(j,S,_,E,N,k){const T=y(j,S,_,E,N,k);return T!==void 0?!!T:s(j,S,b,k)},new Map)}function s(p,g,y,b){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,b);case"function":return Object.keys(g).length>0?s(p,{...g},y,b):n.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.eq(p,g)}}function l(p,g,y,b){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,b);if(g instanceof Map)return u(p,g,y,b);if(g instanceof Set)return m(p,g,y,b);const j=Object.keys(g);if(p==null)return j.length===0;if(j.length===0)return!0;if(b!=null&&b.has(g))return b.get(g)===p;b==null||b.set(g,p);try{for(let S=0;S<j.length;S++){const _=j[S];if(!r.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!y(p[_],g[_],_,p,g,b))return!1}return!0}finally{b==null||b.delete(g)}}function u(p,g,y,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[j,S]of g.entries()){const _=p.get(j);if(y(_,S,j,p,g,b)===!1)return!1}return!0}function f(p,g,y,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const j=new Set;for(let S=0;S<g.length;S++){const _=g[S];let E=!1;for(let N=0;N<p.length;N++){if(j.has(N))continue;const k=p[N];let T=!1;if(y(k,_,S,p,g,b)&&(T=!0),T){j.add(N),E=!0;break}}if(!E)return!1}return!0}function m(p,g,y,b){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,b):!1}e.isMatchWith=i,e.isSetMatch=m})(hv)),hv}var Nk;function zT(){return Nk||(Nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OB();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(fv)),fv}var vv={},yv={},bv={},Ok;function AB(){return Ok||(Ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(bv)),bv}var xv={},Ak;function BT(){return Ak||(Ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(xv)),xv}var wv={},Ck;function UT(){return Ck||(Ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",b="[object Object]",j="[object Error]",S="[object DataView]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",N="[object Uint16Array]",k="[object Uint32Array]",T="[object BigUint64Array]",A="[object Int8Array]",D="[object Int16Array]",I="[object Int32Array]",W="[object BigInt64Array]",Y="[object Float32Array]",re="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=W,e.bigUint64ArrayTag=T,e.booleanTag=i,e.dataViewTag=S,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=Y,e.float64ArrayTag=re,e.functionTag=g,e.int16ArrayTag=D,e.int32ArrayTag=I,e.int8ArrayTag=A,e.mapTag=f,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=k,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=E})(wv)),wv}var _v={},Tk;function CB(){return Tk||(Tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(_v)),_v}var Pk;function qT(){return Pk||(Pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AB(),r=BT(),n=UT(),i=LT(),s=CB();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,y,b=new Map,j=void 0){const S=j==null?void 0:j(p,g,y,b);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const _=new Array(p.length);b.set(p,_);for(let E=0;E<p.length;E++)_[E]=u(p[E],E,y,b,j);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;b.set(p,_);for(const[E,N]of p)_.set(E,u(N,E,y,b,j));return _}if(p instanceof Set){const _=new Set;b.set(p,_);for(const E of p)_.add(u(E,void 0,y,b,j));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,_);for(let E=0;E<p.length;E++)_[E]=u(p[E],E,y,b,j);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,_),f(_,p,y,b,j),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return b.set(p,_),f(_,p,y,b,j),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return b.set(p,_),f(_,p,y,b,j),_}if(p instanceof Error){const _=new p.constructor;return b.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,y,b,j),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return b.set(p,_),f(_,p,y,b,j),_}if(p instanceof Number){const _=new Number(p.valueOf());return b.set(p,_),f(_,p,y,b,j),_}if(p instanceof String){const _=new String(p.valueOf());return b.set(p,_),f(_,p,y,b,j),_}if(typeof p=="object"&&m(p)){const _=Object.create(Object.getPrototypeOf(p));return b.set(p,_),f(_,p,y,b,j),_}return p}function f(p,g,y=p,b,j){const S=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<S.length;_++){const E=S[_],N=Object.getOwnPropertyDescriptor(p,E);(N==null||N.writable)&&(p[E]=u(g[E],E,y,b,j))}}function m(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(yv)),yv}var Dk;function TB(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(vv)),vv}var Mk;function PB(){return Mk||(Mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT(),r=TB();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(dv)),dv}var jv={},Sv={},kv={},Rk;function DB(){return Rk||(Rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),r=UT();function n(i,s){return t.cloneDeepWith(i,(l,u,f,m)=>{const p=s==null?void 0:s(l,u,f,m);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case r.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(kv)),kv}var Ik;function MB(){return Ik||(Ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DB();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Sv)),Sv}var Ev={},Nv={},Lk;function HT(){return Lk||(Lk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Nv)),Nv}var Ov={},$k;function RB(){return $k||($k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ov)),Ov}var zk;function IB(){return zk||(zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CT(),r=HT(),n=RB(),i=xb();function s(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let m=l;for(let p=0;p<f.length;p++){const g=f[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=s})(Ev)),Ev}var Bk;function LB(){return Bk||(Bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT(),r=bb(),n=MB(),i=wb(),s=IB();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(m){const p=i.get(m,u);return p===void 0?s.has(m,u):f===void 0?p===void 0:t.isMatch(p,f)}}e.matchesProperty=l})(jv)),jv}var Uk;function $B(){return Uk||(Uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RT(),r=NB(),n=PB(),i=LB();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(cv)),cv}var qk;function zB(){return qk||(qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jB(),r=RT(),n=EB(),i=$B();function s(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=s})(rv)),rv}var Av,Hk;function BB(){return Hk||(Hk=1,Av=zB().uniqBy),Av}var UB=BB();const Kk=Tn(UB);function KT(e,t,r){return t===!0?Kk(e,r):typeof t=="function"?Kk(e,t):e}var Cv={exports:{}},Tv={},Pv={exports:{}},Dv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk;function qB(){if(Gk)return Dv;Gk=1;var e=Uo();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,y){var b=y(),j=n({inst:{value:b,getSnapshot:y}}),S=j[0].inst,_=j[1];return s(function(){S.value=b,S.getSnapshot=y,f(S)&&_({inst:S})},[g,b,y]),i(function(){return f(S)&&_({inst:S}),g(function(){f(S)&&_({inst:S})})},[g]),l(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!r(g,b)}catch{return!0}}function m(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Dv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Dv}var Fk;function HB(){return Fk||(Fk=1,Pv.exports=qB()),Pv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk;function KB(){if(Yk)return Tv;Yk=1;var e=Uo(),t=HB();function r(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Tv.useSyncExternalStoreWithSelector=function(m,p,g,y,b){var j=s(null);if(j.current===null){var S={hasValue:!1,value:null};j.current=S}else S=j.current;j=u(function(){function E(D){if(!N){if(N=!0,k=D,D=y(D),b!==void 0&&S.hasValue){var I=S.value;if(b(I,D))return T=I}return T=D}if(I=T,n(k,D))return I;var W=y(D);return b!==void 0&&b(I,W)?(k=D,I):(k=D,T=W)}var N=!1,k,T,A=g===void 0?null:g;return[function(){return E(p())},A===null?void 0:function(){return E(A())}]},[p,g,y,b]);var _=i(m,j[0],j[1]);return l(function(){S.hasValue=!0,S.value=_},[_]),f(_),_},Tv}var Vk;function GB(){return Vk||(Vk=1,Cv.exports=KB()),Cv.exports}var FB=GB(),kb=w.createContext(null),YB=e=>e,at=()=>{var e=w.useContext(kb);return e?e.store.dispatch:YB},df=()=>{},VB=()=>df,WB=(e,t)=>e===t;function ve(e){var t=w.useContext(kb);return FB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:VB,t?t.store.getState:df,t?t.store.getState:df,t?e:df,WB)}function XB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function QB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function JB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Wk=e=>Array.isArray(e)?e:[e];function ZB(e){const t=Array.isArray(e[0])?e[0]:e;return JB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function eU(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var tU=class{constructor(e){this.value=e}deref(){return this.value}},rU=typeof WeakRef<"u"?WeakRef:tU,nU=0,Xk=1;function Ud(){return{s:nU,v:void 0,o:null,p:null}}function GT(e,t={}){let r=Ud();const{resultEqualityCheck:n}=t;let i,s=0;function l(){var g;let u=r;const{length:f}=arguments;for(let y=0,b=f;y<b;y++){const j=arguments[y];if(typeof j=="function"||typeof j=="object"&&j!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const _=S.get(j);_===void 0?(u=Ud(),S.set(j,u)):u=_}else{let S=u.p;S===null&&(u.p=S=new Map);const _=S.get(j);_===void 0?(u=Ud(),S.set(j,u)):u=_}}const m=u;let p;if(u.s===Xk)p=u.v;else if(p=e.apply(null,arguments),s++,n){const y=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;y!=null&&n(y,p)&&(p=y,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new rU(p):p}return m.s=Xk,m.v=p,p}return l.clearCache=()=>{r=Ud(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function aU(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,l=0,u,f={},m=i.pop();typeof m=="object"&&(f=m,m=i.pop()),XB(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...r,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:b=GT,argsMemoizeOptions:j=[]}=p,S=Wk(y),_=Wk(j),E=ZB(i),N=g(function(){return s++,m.apply(null,arguments)},...S),k=b(function(){l++;const A=eU(E,arguments);return u=N.apply(null,A),u},..._);return Object.assign(k,{resultFunc:m,memoizedResultFunc:N,dependencies:E,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var Z=aU(GT),iU=Object.assign((e,t=Z)=>{QB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,f)=>(l[r[f]]=u,l),{}))},{withTypes:()=>iU}),Mv={},Rv={},Iv={},Qk;function sU(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const l=t(n),u=t(i);if(l===u&&l===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(Iv)),Iv}var Lv={},$v={},Jk;function FT(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})($v)),$v}var Zk;function oU(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i})(Lv)),Lv}var eE;function lU(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sU(),r=oU(),n=xb();function i(s,l,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const m=(b,j)=>{let S=b;for(let _=0;_<j.length&&S!=null;++_)S=S[j[_]];return S},p=(b,j)=>j==null||b==null?j:typeof b=="object"&&"key"in b?Object.hasOwn(j,b.key)?j[b.key]:m(j,b.path):typeof b=="function"?b(j):Array.isArray(b)?m(j,b):typeof j=="object"?j[b]:j,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return s.map(b=>({original:b,criteria:g.map(j=>p(j,b))})).slice().sort((b,j)=>{for(let S=0;S<g.length;S++){const _=t.compareValues(b.criteria[S],j.criteria[S],u[S]);if(_!==0)return _}return 0}).map(b=>b.original)}e.orderBy=i})(Rv)),Rv}var zv={},tE;function cU(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),l=(u,f)=>{for(let m=0;m<u.length;m++){const p=u[m];Array.isArray(p)&&f<s?l(p,f+1):i.push(p)}};return l(r,0),i}e.flatten=t})(zv)),zv}var Bv={},rE;function YT(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT(),r=Sb(),n=IT(),i=$T();function s(l,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}e.isIterateeCall=s})(Bv)),Bv}var nE;function uU(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lU(),r=cU(),n=YT();function i(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=i})(Mv)),Mv}var Uv,aE;function dU(){return aE||(aE=1,Uv=uU().sortBy),Uv}var fU=dU();const Th=Tn(fU);var VT=e=>e.legend.settings,hU=e=>e.legend.size,mU=e=>e.legend.payload,pU=Z([mU,VT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Th(n,r):n});function gU(){return ve(pU)}var qd=1;function WT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>qd||Math.abs(l.left-t.left)>qd||Math.abs(l.top-t.top)>qd||Math.abs(l.width-t.width)>qd)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ir(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var vU=typeof Symbol=="function"&&Symbol.observable||"@@observable",iE=vU,qv=()=>Math.random().toString(36).substring(7).split("").join("."),yU={INIT:`@@redux/INIT${qv()}`,REPLACE:`@@redux/REPLACE${qv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qv()}`},Df=yU;function Eb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function XT(e,t,r){if(typeof e!="function")throw new Error(ir(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ir(1));return r(XT)(e,t)}let n=e,i=t,s=new Map,l=s,u=0,f=!1;function m(){l===s&&(l=new Map,s.forEach((_,E)=>{l.set(E,_)}))}function p(){if(f)throw new Error(ir(3));return i}function g(_){if(typeof _!="function")throw new Error(ir(4));if(f)throw new Error(ir(5));let E=!0;m();const N=u++;return l.set(N,_),function(){if(E){if(f)throw new Error(ir(6));E=!1,m(),l.delete(N),s=null}}}function y(_){if(!Eb(_))throw new Error(ir(7));if(typeof _.type>"u")throw new Error(ir(8));if(typeof _.type!="string")throw new Error(ir(17));if(f)throw new Error(ir(9));try{f=!0,i=n(i,_)}finally{f=!1}return(s=l).forEach(N=>{N()}),_}function b(_){if(typeof _!="function")throw new Error(ir(10));n=_,y({type:Df.REPLACE})}function j(){const _=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(ir(11));function N(){const T=E;T.next&&T.next(p())}return N(),{unsubscribe:_(N)}},[iE](){return this}}}return y({type:Df.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:b,[iE]:j}}function bU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Df.INIT})>"u")throw new Error(ir(12));if(typeof r(void 0,{type:Df.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function QT(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let i;try{bU(r)}catch(s){i=s}return function(l={},u){if(i)throw i;let f=!1;const m={};for(let p=0;p<n.length;p++){const g=n[p],y=r[g],b=l[g],j=y(b,u);if(typeof j>"u")throw u&&u.type,new Error(ir(14));m[g]=j,f=f||j!==b}return f=f||n.length!==Object.keys(l).length,f?m:l}}function Mf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function xU(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(ir(15))};const l={getState:i.getState,dispatch:(f,...m)=>s(f,...m)},u=e.map(f=>f(l));return s=Mf(...u)(i.dispatch),{...i,dispatch:s}}}function JT(e){return Eb(e)&&"type"in e&&typeof e.type=="string"}var ZT=Symbol.for("immer-nothing"),sE=Symbol.for("immer-draftable"),yr=Symbol.for("immer-state");function Sn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fr=Object,Po=Fr.getPrototypeOf,Rf="constructor",Ph="prototype",a0="configurable",If="enumerable",ff="writable",xc="value",Sa=e=>!!e&&!!e[yr];function An(e){var t;return e?e2(e)||Dh(e)||!!e[sE]||!!((t=e[Rf])!=null&&t[sE])||Mh(e)||Rh(e):!1}var wU=Fr[Ph][Rf].toString(),oE=new WeakMap;function e2(e){if(!e||!Nb(e))return!1;const t=Po(e);if(t===null||t===Fr[Ph])return!0;const r=Fr.hasOwnProperty.call(t,Rf)&&t[Rf];if(r===Object)return!0;if(!yo(r))return!1;let n=oE.get(r);return n===void 0&&(n=Function.toString.call(r),oE.set(r,n)),n===wU}function qc(e,t,r=!0){Hc(e)===0?(r?Reflect.ownKeys(e):Fr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Hc(e){const t=e[yr];return t?t.type_:Dh(e)?1:Mh(e)?2:Rh(e)?3:0}var lE=(e,t,r=Hc(e))=>r===2?e.has(t):Fr[Ph].hasOwnProperty.call(e,t),i0=(e,t,r=Hc(e))=>r===2?e.get(t):e[t],Lf=(e,t,r,n=Hc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function _U(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Dh=Array.isArray,Mh=e=>e instanceof Map,Rh=e=>e instanceof Set,Nb=e=>typeof e=="object",yo=e=>typeof e=="function",Hv=e=>typeof e=="boolean",ma=e=>e.copy_||e.base_,Ob=e=>e.modified_?e.copy_:e.base_;function s0(e,t){if(Mh(e))return new Map(e);if(Rh(e))return new Set(e);if(Dh(e))return Array[Ph].slice.call(e);const r=e2(e);if(t===!0||t==="class_only"&&!r){const n=Fr.getOwnPropertyDescriptors(e);delete n[yr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const l=i[s],u=n[l];u[ff]===!1&&(u[ff]=!0,u[a0]=!0),(u.get||u.set)&&(n[l]={[a0]:!0,[ff]:!0,[If]:u[If],[xc]:e[l]})}return Fr.create(Po(e),n)}else{const n=Po(e);if(n!==null&&r)return{...e};const i=Fr.create(n);return Fr.assign(i,e)}}function Ab(e,t=!1){return Ih(e)||Sa(e)||!An(e)||(Hc(e)>1&&Fr.defineProperties(e,{set:Hd,add:Hd,clear:Hd,delete:Hd}),Fr.freeze(e),t&&qc(e,(r,n)=>{Ab(n,!0)},!1)),e}function jU(){Sn(2)}var Hd={[xc]:jU};function Ih(e){return e===null||!Nb(e)?!0:Fr.isFrozen(e)}var $f="MapSet",o0="Patches",t2={};function Do(e){const t=t2[e];return t||Sn(0,e),t}var SU=e=>!!t2[e],wc,r2=()=>wc,kU=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:SU($f)?Do($f):void 0});function cE(e,t){t&&(e.patchPlugin_=Do(o0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function l0(e){c0(e),e.drafts_.forEach(EU),e.drafts_=null}function c0(e){e===wc&&(wc=e.parent_)}var uE=e=>wc=kU(wc,e);function EU(e){const t=e[yr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[yr].modified_&&(l0(t),Sn(4)),An(e)&&(e=fE(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[yr].base_,e,t)}else e=fE(t,r);return NU(t,e,!0),l0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ZT?e:void 0}function fE(e,t){if(Ih(t))return t;const r=t[yr];if(!r)return Cb(t,e.handledSet_,e);if(!Lh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);i2(r,e)}return r.copy_}function NU(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ab(t,r)}function n2(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Lh=(e,t)=>e.scope_===t,OU=[];function a2(e,t,r,n){const i=ma(e),s=e.type_;if(n!==void 0&&i0(i,n,s)===t){Lf(i,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;qc(i,(f,m)=>{if(Sa(m)){const p=u.get(m)||[];p.push(f),u.set(m,p)}})}const l=e.draftLocations_.get(t)??OU;for(const u of l)Lf(i,u,r,s)}function AU(e,t,r){e.callbacks_.push(function(i){var u;const s=t;if(!s||!Lh(s,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(s);const l=Ob(s);a2(e,s.draft_??s,l,r),i2(s,i)})}function i2(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}n2(e)}}function CU(e,t,r){const{scope_:n}=e;if(Sa(r)){const i=r[yr];Lh(i,n)&&i.callbacks_.push(function(){hf(e);const l=Ob(i);a2(e,r,l,t)})}else An(r)&&e.callbacks_.push(function(){const s=ma(e);i0(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Cb(i0(e.copy_,t,e.type_),n.handledSet_,n)})}function Cb(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Sa(e)||t.has(e)||!An(e)||Ih(e)||(t.add(e),qc(e,(n,i)=>{if(Sa(i)){const s=i[yr];if(Lh(s,r)){const l=Ob(s);Lf(e,n,l,e.type_),n2(s)}}else An(i)&&Cb(i,t,r)})),e}function TU(e,t){const r=Dh(e),n={type_:r?1:0,scope_:t?t.scope_:r2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=Tb;r&&(i=[n],s=_c);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return n.draft_=u,n.revoke_=l,[u,n]}var Tb={get(e,t){if(t===yr)return e;const r=ma(e);if(!lE(r,t,e.type_))return PU(e,r,t);const n=r[t];if(e.finalized_||!An(n))return n;if(n===Kv(e.base_,t)){hf(e);const i=e.type_===1?+t:t,s=d0(e.scope_,n,e,i);return e.copy_[i]=s}return n},has(e,t){return t in ma(e)},ownKeys(e){return Reflect.ownKeys(ma(e))},set(e,t,r){const n=s2(ma(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Kv(ma(e),t),s=i==null?void 0:i[yr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(_U(r,i)&&(r!==void 0||lE(e.base_,t,e.type_)))return!0;hf(e),u0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),CU(e,t,r)),!0},deleteProperty(e,t){return hf(e),Kv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),u0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ma(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[ff]:!0,[a0]:e.type_!==1||t!=="length",[If]:n[If],[xc]:r[t]}},defineProperty(){Sn(11)},getPrototypeOf(e){return Po(e.base_)},setPrototypeOf(){Sn(12)}},_c={};qc(Tb,(e,t)=>{_c[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});_c.deleteProperty=function(e,t){return _c.set.call(this,e,t,void 0)};_c.set=function(e,t,r){return Tb.set.call(this,e[0],t,r,e[0])};function Kv(e,t){const r=e[yr];return(r?ma(r):e)[t]}function PU(e,t,r){var i;const n=s2(t,r);return n?xc in n?n[xc]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function s2(e,t){if(!(t in e))return;let r=Po(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Po(r)}}function u0(e){e.modified_||(e.modified_=!0,e.parent_&&u0(e.parent_))}function hf(e){e.copy_||(e.assigned_=new Map,e.copy_=s0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var DU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(yo(r)&&!yo(n)){const l=n;n=r;const u=this;return function(m=l,...p){return u.produce(m,g=>n.call(this,g,...p))}}yo(n)||Sn(6),i!==void 0&&!yo(i)&&Sn(7);let s;if(An(r)){const l=uE(this),u=d0(l,r,void 0);let f=!0;try{s=n(u),f=!1}finally{f?l0(l):c0(l)}return cE(l,i),dE(s,l)}else if(!r||!Nb(r)){if(s=n(r),s===void 0&&(s=r),s===ZT&&(s=void 0),this.autoFreeze_&&Ab(s,!0),i){const l=[],u=[];Do(o0).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else Sn(1,r)},this.produceWithPatches=(r,n)=>{if(yo(r))return(u,...f)=>this.produceWithPatches(u,m=>r(m,...f));let i,s;return[this.produce(r,n,(u,f)=>{i=u,s=f}),i,s]},Hv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Hv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Hv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){An(t)||Sn(8),Sa(t)&&(t=Nn(t));const r=uE(this),n=d0(r,t,void 0);return n[yr].isManual_=!0,c0(r),n}finishDraft(t,r){const n=t&&t[yr];(!n||!n.isManual_)&&Sn(9);const{scope_:i}=n;return cE(i,r),dE(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=Do(o0).applyPatches_;return Sa(t)?i(t,r):this.produce(t,s=>i(s,r))}};function d0(e,t,r,n){const[i,s]=Mh(t)?Do($f).proxyMap_(t,r):Rh(t)?Do($f).proxySet_(t,r):TU(t,r);return((r==null?void 0:r.scope_)??r2()).drafts_.push(i),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?AU(r,s,n):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:m}=f;s.modified_&&m&&m.generatePatches_(s,[],f)}),i}function Nn(e){return Sa(e)||Sn(10,e),o2(e)}function o2(e){if(!An(e)||Ih(e))return e;const t=e[yr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=s0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=s0(e,!0);return qc(r,(i,s)=>{Lf(r,i,o2(s))},n),t&&(t.finalized_=!1),r}var MU=new DU,l2=MU.produce;function c2(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var RU=c2(),IU=c2,LU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mf:Mf.apply(null,arguments)};function hn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Yr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>JT(n)&&n.type===e,r}var u2=class fc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fc.prototype)}static get[Symbol.species](){return fc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fc(...t[0].concat(this)):new fc(...t.concat(this))}};function hE(e){return An(e)?l2(e,()=>{}):e}function Kd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function $U(e){return typeof e=="boolean"}var zU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new u2;return r&&($U(r)?l.push(RU):l.push(IU(r.extraArgument))),l},d2="RTK_autoBatch",ct=()=>e=>({payload:e,meta:{[d2]:!0}}),mE=e=>t=>{setTimeout(t,e)},f2=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mE(10):e.type==="callback"?e.queueNotification:mE(e.timeout),m=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>i&&p(),y=n.subscribe(g);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[d2]),s=!i,s&&(l||(l=!0,f(m))),n.dispatch(p)}finally{i=!0}}})},BU=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new u2(e);return n&&i.push(f2(typeof n=="object"?n:void 0)),i};function UU(e){const t=zU(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Eb(r))u=QT(r);else throw new Error(Yr(1));let f;typeof n=="function"?f=n(t):f=t();let m=Mf;i&&(m=LU({trace:!1,...typeof i=="object"&&i}));const p=xU(...f),g=BU(p);let y=typeof l=="function"?l(g):g();const b=m(...y);return XT(u,s,b)}function h2(e){const t={},r=[];let n;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(Yr(28));if(u in t)throw new Error(Yr(29));return t[u]=l,i},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return r.push({matcher:s,reducer:l}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function qU(e){return typeof e=="function"}function HU(e,t){let[r,n,i]=h2(t),s;if(qU(e))s=()=>hE(e());else{const u=hE(e);s=()=>u}function l(u=s(),f){let m=[r[f.type],...n.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[i]),m.reduce((p,g)=>{if(g)if(Sa(p)){const b=g(p,f);return b===void 0?p:b}else{if(An(p))return l2(p,y=>g(y,f));{const y=g(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return l.getInitialState=s,l}var KU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",GU=(e=21)=>{let t="",r=e;for(;r--;)t+=KU[Math.random()*64|0];return t},FU=Symbol.for("rtk-slice-createasyncthunk");function YU(e,t){return`${e}/${t}`}function VU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[FU];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(Yr(11));const u=(typeof i.reducers=="function"?i.reducers(XU()):i.reducers)||{},f=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(T,A){const D=typeof T=="string"?T:T.type;if(!D)throw new Error(Yr(12));if(D in m.sliceCaseReducersByType)throw new Error(Yr(13));return m.sliceCaseReducersByType[D]=A,p},addMatcher(T,A){return m.sliceMatchers.push({matcher:T,reducer:A}),p},exposeAction(T,A){return m.actionCreators[T]=A,p},exposeCaseReducer(T,A){return m.sliceCaseReducersByName[T]=A,p}};f.forEach(T=>{const A=u[T],D={reducerName:T,type:YU(s,T),createNotation:typeof i.reducers=="function"};JU(A)?e6(D,A,p,t):QU(D,A,p)});function g(){const[T={},A=[],D=void 0]=typeof i.extraReducers=="function"?h2(i.extraReducers):[i.extraReducers],I={...T,...m.sliceCaseReducersByType};return HU(i.initialState,W=>{for(let Y in I)W.addCase(Y,I[Y]);for(let Y of m.sliceMatchers)W.addMatcher(Y.matcher,Y.reducer);for(let Y of A)W.addMatcher(Y.matcher,Y.reducer);D&&W.addDefaultCase(D)})}const y=T=>T,b=new Map,j=new WeakMap;let S;function _(T,A){return S||(S=g()),S(T,A)}function E(){return S||(S=g()),S.getInitialState()}function N(T,A=!1){function D(W){let Y=W[T];return typeof Y>"u"&&A&&(Y=Kd(j,D,E)),Y}function I(W=y){const Y=Kd(b,A,()=>new WeakMap);return Kd(Y,W,()=>{const re={};for(const[U,P]of Object.entries(i.selectors??{}))re[U]=WU(P,W,()=>Kd(j,W,E),A);return re})}return{reducerPath:T,getSelectors:I,get selectors(){return I(D)},selectSlice:D}}const k={name:s,reducer:_,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:E,...N(l),injectInto(T,{reducerPath:A,...D}={}){const I=A??l;return T.inject({reducerPath:I,reducer:_},D),{...k,...N(I,!0)}}};return k}}function WU(e,t,r,n){function i(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return i.unwrapped=e,i}var Cr=VU();function XU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function QU({type:e,reducerName:t,createNotation:r},n,i){let s,l;if("reducer"in n){if(r&&!ZU(n))throw new Error(Yr(17));s=n.reducer,l=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?hn(e,l):hn(e))}function JU(e){return e._reducerDefinitionType==="asyncThunk"}function ZU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function e6({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Yr(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:f,settled:m,options:p}=r,g=i(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),f&&n.addCase(g.rejected,f),m&&n.addMatcher(g.settled,m),n.exposeCaseReducer(t,{fulfilled:l||Gd,pending:u||Gd,rejected:f||Gd,settled:m||Gd})}function Gd(){}var t6="task",m2="listener",p2="completed",Pb="cancelled",r6=`task-${Pb}`,n6=`task-${p2}`,f0=`${m2}-${Pb}`,a6=`${m2}-${p2}`,$h=class{constructor(e){Tg(this,"name","TaskAbortError");Tg(this,"message");this.code=e,this.message=`${t6} ${Pb} (reason: ${e})`}},Db=(e,t)=>{if(typeof e!="function")throw new TypeError(Yr(32))},zf=()=>{},g2=(e,t=zf)=>(e.catch(t),e),v2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},us=e=>{if(e.aborted){const{reason:t}=e;throw new $h(t)}};function y2(e,t){let r=zf;return new Promise((n,i)=>{const s=()=>i(new $h(e.reason));if(e.aborted){s();return}r=v2(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=zf})}var i6=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof $h?"cancelled":"rejected",error:r}}finally{t==null||t()}},Bf=e=>t=>g2(y2(e,t).then(r=>(us(e),r))),b2=e=>{const t=Bf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ko}=Object,pE={},zh="listenerMiddleware",s6=(e,t)=>{const r=n=>v2(e,()=>cs(n,e.reason));return(n,i)=>{Db(n);const s=new AbortController;r(s);const l=i6(async()=>{us(e),us(s.signal);const u=await n({pause:Bf(s.signal),delay:b2(s.signal),signal:s.signal});return us(s.signal),u},()=>cs(s,n6));return i!=null&&i.autoJoin&&t.push(l.catch(zf)),{result:Bf(e)(l),cancel(){cs(s,r6)}}}},o6=(e,t)=>{const r=async(n,i)=>{us(t);let s=()=>{};const u=[new Promise((f,m)=>{let p=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),m()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await y2(t,Promise.race(u));return us(t),f}finally{s()}};return(n,i)=>g2(r(n,i))},x2=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=hn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Yr(21));return Db(s),{predicate:i,type:t,effect:s}},w2=ko(e=>{const{type:t,predicate:r,effect:n}=x2(e);return{id:GU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Yr(22))}}},{withTypes:()=>w2}),gE=(e,t)=>{const{type:r,effect:n,predicate:i}=x2(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},h0=e=>{e.pending.forEach(t=>{cs(t,f0)})},l6=(e,t)=>()=>{for(const r of t.keys())h0(r);e.clear()},vE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},_2=ko(hn(`${zh}/add`),{withTypes:()=>_2}),c6=hn(`${zh}/removeAll`),j2=ko(hn(`${zh}/remove`),{withTypes:()=>j2}),u6=(...e)=>{console.error(`${zh}/error`,...e)},Kc=(e={})=>{const t=new Map,r=new Map,n=b=>{const j=r.get(b)??0;r.set(b,j+1)},i=b=>{const j=r.get(b)??1;j===1?r.delete(b):r.set(b,j-1)},{extra:s,onError:l=u6}=e;Db(l);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),j=>{b.unsubscribe(),j!=null&&j.cancelActive&&h0(b)}),f=b=>{const j=gE(t,b)??w2(b);return u(j)};ko(f,{withTypes:()=>f});const m=b=>{const j=gE(t,b);return j&&(j.unsubscribe(),b.cancelActive&&h0(j)),!!j};ko(m,{withTypes:()=>m});const p=async(b,j,S,_)=>{const E=new AbortController,N=o6(f,E.signal),k=[];try{b.pending.add(E),n(b),await Promise.resolve(b.effect(j,ko({},S,{getOriginalState:_,condition:(T,A)=>N(T,A).then(Boolean),take:N,delay:b2(E.signal),pause:Bf(E.signal),extra:s,signal:E.signal,fork:s6(E.signal,k),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((T,A,D)=>{T!==E&&(cs(T,f0),D.delete(T))})},cancel:()=>{cs(E,f0),b.pending.delete(E)},throwIfCancelled:()=>{us(E.signal)}})))}catch(T){T instanceof $h||vE(l,T,{raisedBy:"effect"})}finally{await Promise.all(k),cs(E,a6),i(b),b.pending.delete(E)}},g=l6(t,r);return{middleware:b=>j=>S=>{if(!JT(S))return j(S);if(_2.match(S))return f(S.payload);if(c6.match(S)){g();return}if(j2.match(S))return m(S.payload);let _=b.getState();const E=()=>{if(_===pE)throw new Error(Yr(23));return _};let N;try{if(N=j(S),t.size>0){const k=b.getState(),T=Array.from(t.values());for(const A of T){let D=!1;try{D=A.predicate(S,k,_)}catch(I){D=!1,vE(l,I,{raisedBy:"predicate"})}D&&p(A,S,b,E)}}}finally{_=pE}return N},startListening:f,stopListening:m,clearListeners:g}};function Yr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var d6={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},S2=Cr({name:"chartLayout",initialState:d6,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:f6,setLayout:h6,setChartSize:m6,setScale:p6}=S2.actions,g6=S2.reducer;function k2(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){v6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v6(e,t,r){return(t=y6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6(e){var t=b6(e,"string");return typeof t=="symbol"?t:t+""}function b6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function et(e,t,r){return ht(e)||ht(t)?r:Yn(t)?ms(e,t,r):typeof t=="function"?t(e):r}var x6=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&we(e[s]))return xo(xo({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&we(e[l]))return xo(xo({},e),{},{[l]:e[l]+(i||0)})}return e},Si=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",E2=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var i,s,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===r&&(s=!0),u.coordinate));return i||l.push(t),s||l.push(r),l},N2=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:y,axisType:b}=e;if(!l)return null;var j=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/j:0;if(S=b==="angleAxis"&&s&&s.length>=2?Xt(s[0]-s[1])*2*S:S,g||y){var _=(g||y||[]).map((E,N)=>{var k=n?n.indexOf(E):E;return{coordinate:l(k)+S,value:E,offset:S,index:N}});return _.filter(E=>!On(E.coordinate))}return f&&m?m.map((E,N)=>({coordinate:l(E)+S,value:E,index:N,offset:S})):l.ticks&&p!=null?l.ticks(p).map((E,N)=>({coordinate:l(E)+S,value:E,offset:S,index:N})):l.domain().map((E,N)=>({coordinate:l(E)+S,value:n?n[E]:E,index:N,offset:S}))},bE=1e-4,w6=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-bE,s=Math.max(n[0],n[1])+bE,l=e(t[0]),u=e(t[r-1]);(l<i||l>s||u<i||u>s)&&e.domain([t[0],t[r-1]])}},_6=(e,t)=>{if(!t||t.length!==2||!we(t[0])||!we(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!we(e[0])||e[0]<r)&&(i[0]=r),(!we(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},j6=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,l=0;l<t;++l){var u=On(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=i,e[l][r][1]=i+u,i=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1])}},S6=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var l=On(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},k6={sign:j6,expand:Gz,none:To,silhouette:Fz,wiggle:Yz,positive:S6},E6=(e,t,r)=>{var n=k6[r],i=Kz().keys(t).value((s,l)=>Number(et(s,l,0))).order(r0).offset(n);return i(e)};function N6(e){return e==null?void 0:String(e)}function xE(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(i[t.dataKey])){var u=PT(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var f=et(i,ht(l)?t.dataKey:l);return ht(f)?null:t.scale(f)}var wE=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var u=et(s,t.dataKey,t.scale.domain()[l]);return ht(u)?null:t.scale(u)-i/2+n},O6=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},A6=e=>{var t=e.flat(2).filter(we);return[Math.min(...t),Math.max(...t)]},C6=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],T6=(e,t,r)=>{if(e!=null)return C6(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:l}=s,u=l.reduce((f,m)=>{var p=k2(m,t,r),g=A6(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},_E=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mo=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Th(t,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var f=i[l],m=i[l-1];s=Math.min((f.coordinate||0)-(m.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function SE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return xo(xo({},t),{},{dataKey:r,payload:n,value:i,name:s})}function Fo(e,t){if(e)return String(e);if(typeof t=="string")return t}var P6=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},D6=(e,t)=>t==="centric"?e.angle:e.radius,Pa=e=>e.layout.width,Da=e=>e.layout.height,M6=e=>e.layout.scale,O2=e=>e.layout.margin,Bh=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Uh=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),A2="data-recharts-item-index",C2="data-recharts-item-data-key",Gc=60;function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){R6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R6(e,t,r){return(t=I6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I6(e){var t=L6(e,"string");return typeof t=="symbol"?t:t+""}function L6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $6=e=>e.brush.height;function z6(e){var t=Uh(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Gc;return r+i}return r},0)}function B6(e){var t=Uh(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Gc;return r+i}return r},0)}function U6(e){var t=Bh(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function q6(e){var t=Bh(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ut=Z([Pa,Da,O2,$6,z6,B6,U6,q6,VT,hU],(e,t,r,n,i,s,l,u,f,m)=>{var p={left:(r.left||0)+i,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},y=Fd(Fd({},g),p),b=y.bottom;y.bottom+=n,y=x6(y,f,m);var j=e-y.left-y.right,S=t-y.top-y.bottom;return Fd(Fd({brushBottom:b},y),{},{width:Math.max(j,0),height:Math.max(S,0)})}),H6=Z(Ut,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Mb=Z(Pa,Da,(e,t)=>({x:0,y:0,width:e,height:t})),K6=w.createContext(null),dr=()=>w.useContext(K6)!=null,qh=e=>e.brush,Hh=Z([qh,Ut,O2],(e,t,r)=>({height:e.height,x:we(e.x)?e.x:t.left,y:we(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:we(e.width)?e.width:t.width})),Gv={},Fv={},Yv={},EE;function G6(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let l,u=null;const f=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),p=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{m&&p(),S()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},j=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{j(),l=void 0,u=null},_=()=>{p()},E=function(...N){if(i!=null&&i.aborted)return;l=this,u=N;const k=y==null;b(),f&&k&&p()};return E.schedule=b,E.cancel=S,E.flush=_,i==null||i.addEventListener("abort",S,{once:!0}),E}e.debounce=t})(Yv)),Yv}var NE;function F6(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G6();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:f}=s,m=Array(2);l&&(m[0]="leading"),u&&(m[1]="trailing");let p,g=null;const y=t.debounce(function(...S){p=n.apply(this,S),g=null},i,{edges:m}),b=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=n.apply(this,S),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,S),p)},j=()=>(y.flush(),p);return b.cancel=y.cancel,b.flush=j,b}e.debounce=r})(Fv)),Fv}var OE;function Y6(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F6();function r(n,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,i,{leading:l,maxWait:i,trailing:u})}e.throttle=r})(Gv)),Gv}var Vv,AE;function V6(){return AE||(AE=1,Vv=Y6().throttle),Vv}var W6=V6();const X6=Tn(W6);var Uf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>i[l++]))}},T2=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:l}=r,u=ja(n)?e:Number(n),f=ja(i)?t:Number(i);return s&&s>0&&(u?f=u/s:f&&(u=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},Q6={width:0,height:0,overflow:"visible"},J6={width:0,overflowX:"visible"},Z6={height:0,overflowY:"visible"},eq={},tq=e=>{var{width:t,height:r}=e,n=ja(t),i=ja(r);return n&&i?Q6:n?J6:i?Z6:eq};function rq(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function Et(e){return Number.isFinite(e)}function Vn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(null,arguments)}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P2=w.createContext({width:-1,height:-1});function sq(e){return Vn(e.width)&&Vn(e.height)}function D2(e){var{children:t,width:r,height:n}=e,i=w.useMemo(()=>({width:r,height:n}),[r,n]);return sq(i)?w.createElement(P2.Provider,{value:i},t):null}var Rb=()=>w.useContext(P2),oq=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:f,children:m,debounce:p=0,id:g,className:y,onResize:b,style:j={}}=e,S=w.useRef(null),_=w.useRef();_.current=b,w.useImperativeHandle(t,()=>S.current);var[E,N]=w.useState({containerWidth:n.width,containerHeight:n.height}),k=w.useCallback((W,Y)=>{N(re=>{var U=Math.round(W),P=Math.round(Y);return re.containerWidth===U&&re.containerHeight===P?re:{containerWidth:U,containerHeight:P}})},[]);w.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Bc;var W=P=>{var B,{width:K,height:q}=P[0].contentRect;k(K,q),(B=_.current)===null||B===void 0||B.call(_,K,q)};p>0&&(W=X6(W,p,{trailing:!0,leading:!1}));var Y=new ResizeObserver(W),{width:re,height:U}=S.current.getBoundingClientRect();return k(re,U),Y.observe(S.current),()=>{Y.disconnect()}},[k,p]);var{containerWidth:T,containerHeight:A}=E;Uf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:I}=T2(T,A,{width:i,height:s,aspect:r,maxHeight:f});return Uf(D!=null&&D>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,I,i,s,l,u,r),w.createElement("div",{id:g?"".concat(g):void 0,className:Ue("recharts-responsive-container",y),style:TE(TE({},j),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:f}),ref:S},w.createElement("div",{style:tq({width:i,height:s})},w.createElement(D2,{width:D,height:I},m)))}),mf=w.forwardRef((e,t)=>{var r=Rb();if(Vn(r.width)&&Vn(r.height))return e.children;var{width:n,height:i}=rq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=T2(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return we(s)&&we(l)?w.createElement(D2,{width:s,height:l},e.children):w.createElement(oq,m0({},e,{width:n,height:i,ref:t}))});function M2(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Kh=()=>{var e,t=dr(),r=ve(H6),n=ve(Hh),i=(e=ve(qh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},lq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},R2=()=>{var e;return(e=ve(Ut))!==null&&e!==void 0?e:lq},Ib=()=>ve(Pa),Lb=()=>ve(Da),cq=()=>ve(e=>e.layout.margin),$e=e=>e.layout.layoutType,Fc=()=>ve($e),uq=()=>{var e=Fc();return e!==void 0},Gh=e=>{var t=at(),r=dr(),{width:n,height:i}=e,s=Rb(),l=n,u=i;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:i),w.useEffect(()=>{!r&&Vn(l)&&Vn(u)&&t(m6({width:l,height:u}))},[t,r,l,u]),null},I2=Symbol.for("immer-nothing"),PE=Symbol.for("immer-draftable"),Wr=Symbol.for("immer-state");function kn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jc=Object.getPrototypeOf;function Ro(e){return!!e&&!!e[Wr]}function ps(e){var t;return e?L2(e)||Array.isArray(e)||!!e[PE]||!!((t=e.constructor)!=null&&t[PE])||Yc(e)||Yh(e):!1}var dq=Object.prototype.constructor.toString(),DE=new WeakMap;function L2(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=DE.get(r);return n===void 0&&(n=Function.toString.call(r),DE.set(r,n)),n===dq}function qf(e,t,r=!0){Fh(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Fh(e){const t=e[Wr];return t?t.type_:Array.isArray(e)?1:Yc(e)?2:Yh(e)?3:0}function p0(e,t){return Fh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $2(e,t,r){const n=Fh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function fq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Yc(e){return e instanceof Map}function Yh(e){return e instanceof Set}function es(e){return e.copy_||e.base_}function g0(e,t){if(Yc(e))return new Map(e);if(Yh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=L2(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Wr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const l=i[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(jc(e),n)}else{const n=jc(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function $b(e,t=!1){return Vh(e)||Ro(e)||!ps(e)||(Fh(e)>1&&Object.defineProperties(e,{set:Yd,add:Yd,clear:Yd,delete:Yd}),Object.freeze(e),t&&Object.values(e).forEach(r=>$b(r,!0))),e}function hq(){kn(2)}var Yd={value:hq};function Vh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var mq={};function gs(e){const t=mq[e];return t||kn(0,e),t}var Sc;function z2(){return Sc}function pq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ME(e,t){t&&(gs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function v0(e){y0(e),e.drafts_.forEach(gq),e.drafts_=null}function y0(e){e===Sc&&(Sc=e.parent_)}function RE(e){return Sc=pq(Sc,e)}function gq(e){const t=e[Wr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function IE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Wr].modified_&&(v0(t),kn(4)),ps(e)&&(e=Hf(t,e),t.parent_||Kf(t,e)),t.patches_&&gs("Patches").generateReplacementPatches_(r[Wr].base_,e,t.patches_,t.inversePatches_)):e=Hf(t,r,[]),v0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==I2?e:void 0}function Hf(e,t,r){if(Vh(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Wr];if(!i)return qf(t,(s,l)=>LE(e,i,t,s,l,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Kf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),qf(l,(f,m)=>LE(e,i,s,f,m,r,u),n),Kf(e,s,!1),r&&e.patches_&&gs("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function LE(e,t,r,n,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=Vh(i);if(!(u&&!l)){if(Ro(i)){const f=s&&t&&t.type_!==3&&!p0(t.assigned_,n)?s.concat(n):void 0,m=Hf(e,i,f);if($2(r,n,m),Ro(m))e.canAutoFreeze_=!1;else return}else l&&r.add(i);if(ps(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&u)return;Hf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Yc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Kf(e,i)}}}function Kf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$b(t,r)}function vq(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:z2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=zb;r&&(i=[n],s=kc);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return n.draft_=u,n.revoke_=l,u}var zb={get(e,t){if(t===Wr)return e;const r=es(e);if(!p0(r,t))return yq(e,r,t);const n=r[t];return e.finalized_||!ps(n)?n:n===Wv(e.base_,t)?(Xv(e),e.copy_[t]=x0(n,e)):n},has(e,t){return t in es(e)},ownKeys(e){return Reflect.ownKeys(es(e))},set(e,t,r){const n=B2(es(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Wv(es(e),t),s=i==null?void 0:i[Wr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(fq(r,i)&&(r!==void 0||p0(e.base_,t)))return!0;Xv(e),b0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Wv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xv(e),b0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=es(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){kn(11)},getPrototypeOf(e){return jc(e.base_)},setPrototypeOf(){kn(12)}},kc={};qf(zb,(e,t)=>{kc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});kc.deleteProperty=function(e,t){return kc.set.call(this,e,t,void 0)};kc.set=function(e,t,r){return zb.set.call(this,e[0],t,r,e[0])};function Wv(e,t){const r=e[Wr];return(r?es(r):e)[t]}function yq(e,t,r){var i;const n=B2(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function B2(e,t){if(!(t in e))return;let r=jc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jc(r)}}function b0(e){e.modified_||(e.modified_=!0,e.parent_&&b0(e.parent_))}function Xv(e){e.copy_||(e.copy_=g0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...m){return l.produce(f,p=>r.call(this,p,...m))}}typeof r!="function"&&kn(6),n!==void 0&&typeof n!="function"&&kn(7);let i;if(ps(t)){const s=RE(this),l=x0(t,void 0);let u=!0;try{i=r(l),u=!1}finally{u?v0(s):y0(s)}return ME(s,n),IE(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===I2&&(i=void 0),this.autoFreeze_&&$b(i,!0),n){const s=[],l=[];gs("Patches").generateReplacementPatches_(t,i,s,l),n(s,l)}return i}else kn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let n,i;return[this.produce(t,r,(l,u)=>{n=l,i=u}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ps(e)||kn(8),Ro(e)&&(e=xq(e));const t=RE(this),r=x0(e,void 0);return r[Wr].isManual_=!0,y0(t),r}finishDraft(e,t){const r=e&&e[Wr];(!r||!r.isManual_)&&kn(9);const{scope_:n}=r;return ME(n,t),IE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=gs("Patches").applyPatches_;return Ro(e)?n(e,t):this.produce(e,i=>n(i,t))}};function x0(e,t){const r=Yc(e)?gs("MapSet").proxyMap_(e,t):Yh(e)?gs("MapSet").proxySet_(e,t):vq(e,t);return(t?t.scope_:z2()).drafts_.push(r),r}function xq(e){return Ro(e)||kn(10,e),U2(e)}function U2(e){if(!ps(e)||Vh(e))return e;const t=e[Wr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=g0(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=g0(e,!0);return qf(r,(i,s)=>{$2(r,i,U2(s))},n),t&&(t.finalized_=!1),r}var wq=new bq;wq.produce;var _q={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},q2=Cr({name:"legend",initialState:_q,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ct()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Nn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:ct()},removeLegendPayload:{reducer(e,t){var r=Nn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ct()}}}),{setLegendSize:$E,setLegendSettings:jq,addLegendPayload:H2,replaceLegendPayload:K2,removeLegendPayload:G2}=q2.actions,Sq=q2.reducer,kq=["contextPayload"];function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w0.apply(null,arguments)}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aq(e,t){if(e==null)return{};var r,n,i=Cq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tq(e){return e.value}function Pq(e){var{contextPayload:t}=e,r=Aq(e,kq),n=KT(t,e.payloadUniqBy,Tq),i=Io(Io({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,i):typeof e.content=="function"?w.createElement(e.content,i):w.createElement(_B,i)}function Dq(e,t,r,n,i,s){var{layout:l,align:u,verticalAlign:f}=t,m,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?m={left:((n||0)-s.width)/2}:m=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?p={top:((i||0)-s.height)/2}:p=f==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Io(Io({},m),p)}function Mq(e){var t=at();return w.useEffect(()=>{t(jq(e))},[t,e]),null}function Rq(e){var t=at();return w.useEffect(()=>(t($E(e)),()=>{t($E({width:0,height:0}))}),[t,e]),null}function Iq(e,t,r,n){return e==="vertical"&&we(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var Lq={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function F2(e){var t=It(e,Lq),r=gU(),n=mz(),i=cq(),{width:s,height:l,wrapperStyle:u,portal:f}=t,[m,p]=WT([r]),g=Ib(),y=Lb();if(g==null||y==null)return null;var b=g-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),j=Iq(t.layout,l,s,b),S=f?u:Io(Io({position:"absolute",width:(j==null?void 0:j.width)||s||"auto",height:(j==null?void 0:j.height)||l||"auto"},Dq(u,t,i,g,y,m)),u),_=f??n;if(_==null||r==null)return null;var E=w.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},w.createElement(Mq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&w.createElement(Rq,{width:m.width,height:m.height}),w.createElement(Pq,w0({},t,j,{margin:i,chartWidth:g,chartHeight:y,contextPayload:r})));return ob.createPortal(E,_)}F2.displayName="Legend";function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_0.apply(null,arguments)}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){$q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $q(e,t,r){return(t=zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uq(e){return Array.isArray(e)&&Yn(e[0])&&Yn(e[1])?e.join(" ~ "):e}var qq=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:y=!1}=e,b=()=>{if(s&&s.length){var A={padding:0,margin:0},D=(u?Th(s,u):s).map((I,W)=>{if(I.type==="none")return null;var Y=I.formatter||l||Uq,{value:re,name:U}=I,P=re,B=U;if(Y){var K=Y(re,U,I,W,s);if(Array.isArray(K))[P,B]=K;else if(K!=null)P=K;else return null}var q=Qv({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:q},Yn(B)?w.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Yn(B)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},P),w.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:A},D)}return null},j=Qv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),S=Qv({margin:0},i),_=!ht(p),E=_?p:"",N=Ue("recharts-default-tooltip",f),k=Ue("recharts-tooltip-label",m);_&&g&&s!==void 0&&s!==null&&(E=g(p,s));var T=y?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",_0({className:N,style:j},T),w.createElement("p",{className:k,style:S},w.isValidElement(E)?E:"".concat(E)),b())},tc="recharts-tooltip-wrapper",Hq={visibility:"hidden"};function Kq(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ue(tc,{["".concat(tc,"-right")]:we(r)&&t&&we(t.x)&&r>=t.x,["".concat(tc,"-left")]:we(r)&&t&&we(t.x)&&r<t.x,["".concat(tc,"-bottom")]:we(n)&&t&&we(t.y)&&n>=t.y,["".concat(tc,"-top")]:we(n)&&t&&we(t.y)&&n<t.y})}function UE(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(s&&we(s[n]))return s[n];var p=r[n]-u-(i>0?i:0),g=r[n]+i;if(t[n])return l[n]?p:g;var y=f[n];if(y==null)return 0;if(l[n]){var b=p,j=y;return b<j?Math.max(g,y):Math.max(p,y)}if(m==null)return 0;var S=g+u,_=y+m;return S>_?Math.max(p,y):Math.max(g,y)}function Gq(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Fq(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:f}=e,m,p,g;return l.height>0&&l.width>0&&r?(p=UE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=UE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),m=Gq({translateX:p,translateY:g,useTranslate3d:u})):m=Hq,{cssProperties:m,cssClasses:Kq({translateX:p,translateY:g,coordinate:r})}}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0(e,t,r){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=Vq(e,"string");return typeof t=="symbol"?t:t+""}function Vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Wq extends w.PureComponent{constructor(){super(...arguments),j0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),j0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:f,offset:m,position:p,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:j,lastBoundingBox:S,innerRef:_,hasPortalFromProps:E}=this.props,{cssClasses:N,cssProperties:k}=Fq({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:b}),T=E?{}:Vd(Vd({transition:f&&t?"transform ".concat(n,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),A=Vd(Vd({},T),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:A,ref:_},s)}}var Y2=()=>{var e;return(e=ve(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(null,arguments)}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GE={curveBasisClosed:Dz,curveBasisOpen:Mz,curveBasis:Pz,curveBumpX:yz,curveBumpY:bz,curveLinearClosed:Rz,curveLinear:Ah,curveMonotoneX:Iz,curveMonotoneY:Lz,curveNatural:$z,curveStep:zz,curveStepAfter:Uz,curveStepBefore:Bz},Gf=e=>Et(e.x)&&Et(e.y),FE=e=>e.base!=null&&Gf(e.base)&&Gf(e),rc=e=>e.x,nc=e=>e.y,Zq=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(zc(e));return(r==="curveMonotone"||r==="curveBump")&&t?GE["".concat(r).concat(t==="vertical"?"Y":"X")]:GE[r]||Ah},e8=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,l=Zq(t,i),u=s?r.filter(Gf):r,f;if(Array.isArray(n)){var m=r.map((b,j)=>KE(KE({},b),{},{base:n[j]}));i==="vertical"?f=Bd().y(nc).x1(rc).x0(b=>b.base.x):f=Bd().x(rc).y1(nc).y0(b=>b.base.y);var p=f.defined(FE).curve(l),g=s?m.filter(FE):m;return p(g)}i==="vertical"&&we(n)?f=Bd().y(nc).x1(rc).x0(n):we(n)?f=Bd().x(rc).y1(nc).y0(n):f=bT().x(rc).y(nc);var y=f.defined(Gf).curve(l);return y(u)},Bb=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?e8(e):n;return w.createElement("path",S0({},Vr(e),jb(e),{className:Ue("recharts-curve",t),d:s===null?void 0:s,ref:i}))},t8=["x","y","top","left","width","height","className"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){n8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n8(e,t,r){return(t=a8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a8(e){var t=i8(e,"string");return typeof t=="symbol"?t:t+""}function i8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s8(e,t){if(e==null)return{};var r,n,i=o8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function o8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l8=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),c8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:l=0,className:u}=e,f=s8(e,t8),m=r8({x:t,y:r,top:n,left:i,width:s,height:l},f);return!we(t)||!we(r)||!we(s)||!we(l)||!we(n)||!we(i)?null:w.createElement("path",k0({},vr(m),{className:Ue("recharts-cross",u),d:l8(t,r,s,l,n,i)}))};function u8(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){d8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8(e,t,r){return(t=f8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8(e){var t=h8(e,"string");return typeof t=="symbol"?t:t+""}function h8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),V2=(e,t,r)=>e.map(n=>"".concat(m8(n)," ").concat(t,"ms ").concat(r)).join(","),p8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Ec=(e,t)=>Object.keys(t).reduce((r,n)=>WE(WE({},r),{},{[n]:e(n,t[n])}),{});function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){g8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t,r){return(t=v8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8(e){var t=y8(e,"string");return typeof t=="symbol"?t:t+""}function y8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ff=(e,t,r)=>e+(t-e)*r,E0=e=>{var{from:t,to:r}=e;return t!==r},W2=(e,t,r)=>{var n=Ec((i,s)=>{if(E0(s)){var[l,u]=e(s.from,s.to,s.velocity);return Bt(Bt({},s),{},{from:l,velocity:u})}return s},t);return r<1?Ec((i,s)=>E0(s)?Bt(Bt({},s),{},{velocity:Ff(s.velocity,n[i].velocity,r),from:Ff(s.from,n[i].from,r)}):s,t):W2(e,n,r-1)};function b8(e,t,r,n,i,s){var l,u=n.reduce((y,b)=>Bt(Bt({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>Ec((y,b)=>b.from,u),m=()=>!Object.values(u).filter(E0).length,p=null,g=y=>{l||(l=y);var b=y-l,j=b/r.dt;u=W2(r,u,j),i(Bt(Bt(Bt({},e),t),f())),l=y,m()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function x8(e,t,r,n,i,s,l){var u=null,f=i.reduce((g,y)=>Bt(Bt({},g),{},{[y]:[e[y],t[y]]}),{}),m,p=g=>{m||(m=g);var y=(g-m)/n,b=Ec((S,_)=>Ff(..._,r(y)),f);if(s(Bt(Bt(Bt({},e),t),b)),y<1)u=l.setTimeout(p);else{var j=Ec((S,_)=>Ff(..._,r(1)),f);s(Bt(Bt(Bt({},e),t),j))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const w8=(e,t,r,n,i,s)=>{var l=p8(e,t);return r==null?()=>(i(Bt(Bt({},e),t)),()=>{}):r.isStepper===!0?b8(e,t,r,l,i,s):x8(e,t,r,n,l,i,s)};var Yf=1e-4,X2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Q2=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),QE=(e,t)=>r=>{var n=X2(e,t);return Q2(n,r)},_8=(e,t)=>r=>{var n=X2(e,t),i=[...n.map((s,l)=>s*l).slice(1),0];return Q2(i,r)},j8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return r.length===4?r:[0,0,1,1]},S8=(e,t,r,n)=>{var i=QE(e,r),s=QE(t,n),l=_8(e,r),u=m=>m>1?1:m<0?0:m,f=m=>{for(var p=m>1?1:m,g=p,y=0;y<8;++y){var b=i(g)-p,j=l(g);if(Math.abs(b-p)<Yf||j<Yf)return s(g);g=u(g-b/j)}return s(g)};return f.isStepper=!1,f},JE=function(){return S8(...j8(...arguments))},k8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(l,u,f)=>{var m=-(l-u)*r,p=f*n,g=f+(m-p)*i/1e3,y=f*i/1e3+l;return Math.abs(y-u)<Yf&&Math.abs(g)<Yf?[u,0]:[y,g]};return s.isStepper=!0,s.dt=i,s},E8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JE(e);case"spring":return k8();default:if(e.split("(")[0]==="cubic-bezier")return JE(e)}return typeof e=="function"?e:null};function N8(e){var t,r=()=>null,n=!1,i=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...m]=u;if(typeof f=="number"){i=e.setTimeout(s.bind(null,m),f);return}s(f),i=e.setTimeout(s.bind(null,m));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,i&&(i(),i=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class O8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function A8(){return N8(new O8)}var C8=w.createContext(A8);function T8(e,t){var r=w.useContext(C8);return w.useMemo(()=>t??r(e),[e,t,r])}var P8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Vc={devToolsEnabled:!1,isSsr:P8()},D8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ZE={t:0},Jv={t:1};function Wc(e){var t=It(e,D8),{isActive:r,canBegin:n,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:f,children:m}=t,p=r==="auto"?!Vc.isSsr:r,g=T8(t.animationId,t.animationManager),[y,b]=w.useState(p?ZE:Jv),j=w.useRef(null);return w.useEffect(()=>{p||b(Jv)},[p]),w.useEffect(()=>{if(!p||!n)return Bc;var S=w8(ZE,Jv,E8(s),i,b,g.getTimeoutController()),_=()=>{j.current=S()};return g.start([f,l,_,i,u]),()=>{g.stop(),j.current&&j.current(),u()}},[p,n,i,s,l,f,u,g]),m(y.t)}function Xc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(bc(t)),n=w.useRef(e);return n.current!==e&&(r.current=bc(t),n.current=e),r.current}var M8=["radius"],R8=["radius"];function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){I8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8(e,t,r){return(t=L8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=$8(e,"string");return typeof t=="symbol"?t:t+""}function $8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(null,arguments)}function rN(e,t){if(e==null)return{};var r,n,i=z8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function z8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nN=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,f=n>=0&&r>=0||n<0&&r<0?1:0,m;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,y=4;g<y;g++)p[g]=i[g]>s?s:i[g];m="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+u*p[0],",").concat(t)),m+="L ".concat(e+r-u*p[1],",").concat(t),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(t+l*p[1])),m+="L ".concat(e+r,",").concat(t+n-l*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-u*p[2],",").concat(t+n)),m+="L ".concat(e+u*p[3],",").concat(t+n),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+n-l*p[3])),m+="Z"}else if(s>0&&i===+i&&i>0){var b=Math.min(s,i);m="M ".concat(e,",").concat(t+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+u*b,",").concat(t,`
            L `).concat(e+r-u*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+r,",").concat(t+l*b,`
            L `).concat(e+r,",").concat(t+n-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+r-u*b,",").concat(t+n,`
            L `).concat(e+u*b,",").concat(t+n,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+n-l*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},aN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J2=e=>{var t=It(e,aN),r=w.useRef(null),[n,i]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var L=r.current.getTotalLength();L&&i(L)}catch{}},[]);var{x:s,y:l,width:u,height:f,radius:m,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:b,isAnimationActive:j,isUpdateAnimationActive:S}=t,_=w.useRef(u),E=w.useRef(f),N=w.useRef(s),k=w.useRef(l),T=w.useMemo(()=>({x:s,y:l,width:u,height:f,radius:m}),[s,l,u,f,m]),A=Xc(T,"rectangle-");if(s!==+s||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var D=Ue("recharts-rectangle",p);if(!S){var I=vr(t),{radius:W}=I,Y=rN(I,M8);return w.createElement("path",Vf({},Y,{radius:typeof m=="number"?m:void 0,className:D,d:nN(s,l,u,f,m)}))}var re=_.current,U=E.current,P=N.current,B=k.current,K="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),M=V2(["strokeDasharray"],y,typeof g=="string"?g:aN.animationEasing);return w.createElement(Wc,{animationId:A,key:A,canBegin:n>0,duration:y,easing:g,isActive:S,begin:b},L=>{var V=ut(re,u,L),X=ut(U,f,L),ce=ut(P,s,L),R=ut(B,l,L);r.current&&(_.current=V,E.current=X,N.current=ce,k.current=R);var G;j?L>0?G={transition:M,strokeDasharray:q}:G={strokeDasharray:K}:G={strokeDasharray:q};var H=vr(t),{radius:se}=H,he=rN(H,R8);return w.createElement("path",Vf({},he,{radius:typeof m=="number"?m:void 0,className:D,d:nN(ce,R,V,X,m),ref:r,style:tN(tN({},G),t.style)}))})};function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){B8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B8(e,t,r){return(t=U8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U8(e){var t=q8(e,"string");return typeof t=="symbol"?t:t+""}function q8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wf=Math.PI/180,H8=e=>e*180/Math.PI,Dt=(e,t,r,n)=>({x:e+Math.cos(-Wf*n)*r,y:t+Math.sin(-Wf*n)*r}),Z2=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},K8=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},G8=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,l=K8({x:r,y:n},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-i)/l,f=Math.acos(u);return n>s&&(f=2*Math.PI-f),{radius:l,angle:H8(f),angleInRadian:f}},F8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},Y8=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(i,s);return e+l*360},V8=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=G8({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:m}=F8(t),p=s,g;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=f}return g?sN(sN({},t),{},{radius:i,angle:Y8(p,t)}):null};function eP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,l=Dt(t,r,n,i),u=Dt(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(null,arguments)}var W8=(e,t)=>{var r=Xt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Wd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,m=u*(l?1:-1)+n,p=Math.asin(u/m)/Wf,g=f?i:i+s*p,y=Dt(t,r,m,g),b=Dt(t,r,n,g),j=f?i-s*p:i,S=Dt(t,r,m*Math.cos(p*Wf),j);return{center:y,circleTangency:b,lineTangency:S,theta:p}},tP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:l}=e,u=W8(s,l),f=s+u,m=Dt(t,r,i,s),p=Dt(t,r,i,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var y=Dt(t,r,n,s),b=Dt(t,r,n,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},X8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:m}=e,p=Xt(m-f),{circleTangency:g,lineTangency:y,theta:b}=Wd({cx:t,cy:r,radius:i,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:j,lineTangency:S,theta:_}=Wd({cx:t,cy:r,radius:i,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:u}),E=u?Math.abs(f-m):Math.abs(f-m)-b-_;if(E<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):tP({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:f,endAngle:m});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(n>0){var{circleTangency:k,lineTangency:T,theta:A}=Wd({cx:t,cy:r,radius:n,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:D,lineTangency:I,theta:W}=Wd({cx:t,cy:r,radius:n,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),Y=u?Math.abs(f-m):Math.abs(f-m)-A-W;if(Y<0&&s===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},Q8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rP=e=>{var t=It(e,Q8),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:p,className:g}=t;if(s<i||m===p)return null;var y=Ue("recharts-sector",g),b=s-i,j=ur(l,b,0,!0),S;return j>0&&Math.abs(m-p)<360?S=X8({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(j,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:p}):S=tP({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:m,endAngle:p}),w.createElement("path",N0({},vr(t),{className:y,d:S}))};function J8(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(MT(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:l,angle:u}=t,f=Dt(n,i,s,u),m=Dt(n,i,l,u);return[{x:f.x,y:f.y},{x:m.x,y:m.y}]}return eP(t)}}var Zv={},ey={},ty={},oN;function Z8(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ty)),ty}var lN;function e9(){return lN||(lN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z8();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ey)),ey}var cN;function t9(){return cN||(cN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT(),r=e9();function n(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),l=l===void 0?i<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=i,i+=l;return f}e.range=n})(Zv)),Zv}var ry,uN;function r9(){return uN||(uN=1,ry=t9().range),ry}var n9=r9();const nP=Tn(n9);function vi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function a9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ub(e){let t,r,n;e.length!==2?(t=vi,r=(u,f)=>vi(e(u),f),n=(u,f)=>e(u)-f):(t=e===vi||e===a9?e:i9,r=e,n=e);function i(u,f,m=0,p=u.length){if(m<p){if(t(f,f)!==0)return p;do{const g=m+p>>>1;r(u[g],f)<0?m=g+1:p=g}while(m<p)}return m}function s(u,f,m=0,p=u.length){if(m<p){if(t(f,f)!==0)return p;do{const g=m+p>>>1;r(u[g],f)<=0?m=g+1:p=g}while(m<p)}return m}function l(u,f,m=0,p=u.length){const g=i(u,f,m,p-1);return g>m&&n(u[g-1],f)>-n(u[g],f)?g-1:g}return{left:i,center:l,right:s}}function i9(){return 0}function aP(e){return e===null?NaN:+e}function*s9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const o9=Ub(vi),Qc=o9.right;Ub(aP).center;class dN extends Map{constructor(t,r=u9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(fN(this,t))}has(t){return super.has(fN(this,t))}set(t,r){return super.set(l9(this,t),r)}delete(t){return super.delete(c9(this,t))}}function fN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function l9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function c9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function u9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function d9(e=vi){if(e===vi)return iP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const f9=Math.sqrt(50),h9=Math.sqrt(10),m9=Math.sqrt(2);function Xf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),l=s>=f9?10:s>=h9?5:s>=m9?2:1;let u,f,m;return i<0?(m=Math.pow(10,-i)/l,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,i)*l,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=r&&r<2?Xf(e,t,r*2):[u,f,m]}function O0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,l]=n?Xf(t,e,r):Xf(e,t,r);if(!(s>=i))return[];const u=s-i+1,f=new Array(u);if(n)if(l<0)for(let m=0;m<u;++m)f[m]=(s-m)/-l;else for(let m=0;m<u;++m)f[m]=(s-m)*l;else if(l<0)for(let m=0;m<u;++m)f[m]=(i+m)/-l;else for(let m=0;m<u;++m)f[m]=(i+m)*l;return f}function A0(e,t,r){return t=+t,e=+e,r=+r,Xf(e,t,r)[2]}function C0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?A0(t,e,r):A0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function hN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function mN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?iP:d9(i);n>r;){if(n-r>600){const f=n-r+1,m=t-r+1,p=Math.log(f),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(f-g)/f)*(m-f/2<0?-1:1),b=Math.max(r,Math.floor(t-m*g/f+y)),j=Math.min(n,Math.floor(t+(f-m)*g/f+y));sP(e,t,b,j,i)}const s=e[t];let l=r,u=n;for(ac(e,r,t),i(e[n],s)>0&&ac(e,r,n);l<u;){for(ac(e,l,u),++l,--u;i(e[l],s)<0;)++l;for(;i(e[u],s)>0;)--u}i(e[r],s)===0?ac(e,r,u):(++u,ac(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function ac(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function p9(e,t,r){if(e=Float64Array.from(s9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return mN(e);if(t>=1)return hN(e);var n,i=(n-1)*t,s=Math.floor(i),l=hN(sP(e,s).subarray(0,s+1)),u=mN(e.subarray(s+1));return l+(u-l)*(i-s)}}function g9(e,t,r=aP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(i-s)}}function v9(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ma(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const T0=Symbol("implicit");function qb(){var e=new dN,t=[],r=[],n=T0;function i(s){let l=e.get(s);if(l===void 0){if(n!==T0)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new dN;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return qb(t,r).unknown(n)},gn.apply(i,arguments),i}function Hb(){var e=qb().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,l,u=!1,f=0,m=0,p=.5;delete e.unknown;function g(){var y=t().length,b=i<n,j=b?i:n,S=b?n:i;s=(S-j)/Math.max(1,y-f+m*2),u&&(s=Math.floor(s)),j+=(S-j-s*(y-f))*p,l=s*(1-f),u&&(j=Math.round(j),l=Math.round(l));var _=v9(y).map(function(E){return j+s*E});return r(b?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,g()):[n,i]},e.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(u=!!y,g()):u},e.padding=function(y){return arguments.length?(f=Math.min(1,m=+y),g()):f},e.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},e.paddingOuter=function(y){return arguments.length?(m=+y,g()):m},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return Hb(t(),[n,i]).round(u).paddingInner(f).paddingOuter(m).align(p)},gn.apply(g(),arguments)}function oP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oP(t())},e}function y9(){return oP(Hb.apply(null,arguments).paddingInner(1))}function Kb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jc(){}var Nc=.7,Qf=1/Nc,Eo="\\s*([+-]?\\d+)\\s*",Oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b9=/^#([0-9a-f]{3,8})$/,x9=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),w9=new RegExp(`^rgb\\(${Fn},${Fn},${Fn}\\)$`),_9=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${Oc}\\)$`),j9=new RegExp(`^rgba\\(${Fn},${Fn},${Fn},${Oc}\\)$`),S9=new RegExp(`^hsl\\(${Oc},${Fn},${Fn}\\)$`),k9=new RegExp(`^hsla\\(${Oc},${Fn},${Fn},${Oc}\\)$`),pN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kb(Jc,Ac,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gN,formatHex:gN,formatHex8:E9,formatHsl:N9,formatRgb:vN,toString:vN});function gN(){return this.rgb().formatHex()}function E9(){return this.rgb().formatHex8()}function N9(){return cP(this).formatHsl()}function vN(){return this.rgb().formatRgb()}function Ac(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=b9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?yN(t):r===3?new Or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=x9.exec(e))?new Or(t[1],t[2],t[3],1):(t=w9.exec(e))?new Or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_9.exec(e))?Xd(t[1],t[2],t[3],t[4]):(t=j9.exec(e))?Xd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S9.exec(e))?wN(t[1],t[2]/100,t[3]/100,1):(t=k9.exec(e))?wN(t[1],t[2]/100,t[3]/100,t[4]):pN.hasOwnProperty(e)?yN(pN[e]):e==="transparent"?new Or(NaN,NaN,NaN,0):null}function yN(e){return new Or(e>>16&255,e>>8&255,e&255,1)}function Xd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Or(e,t,r,n)}function O9(e){return e instanceof Jc||(e=Ac(e)),e?(e=e.rgb(),new Or(e.r,e.g,e.b,e.opacity)):new Or}function P0(e,t,r,n){return arguments.length===1?O9(e):new Or(e,t,r,n??1)}function Or(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Kb(Or,P0,lP(Jc,{brighter(e){return e=e==null?Qf:Math.pow(Qf,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Or(ds(this.r),ds(this.g),ds(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bN,formatHex:bN,formatHex8:A9,formatRgb:xN,toString:xN}));function bN(){return`#${ss(this.r)}${ss(this.g)}${ss(this.b)}`}function A9(){return`#${ss(this.r)}${ss(this.g)}${ss(this.b)}${ss((isNaN(this.opacity)?1:this.opacity)*255)}`}function xN(){const e=Jf(this.opacity);return`${e===1?"rgb(":"rgba("}${ds(this.r)}, ${ds(this.g)}, ${ds(this.b)}${e===1?")":`, ${e})`}`}function Jf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ss(e){return e=ds(e),(e<16?"0":"")+e.toString(16)}function wN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new En(e,t,r,n)}function cP(e){if(e instanceof En)return new En(e.h,e.s,e.l,e.opacity);if(e instanceof Jc||(e=Ac(e)),!e)return new En;if(e instanceof En)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-i,f=(s+i)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=f<.5?s+i:2-s-i,l*=60):u=f>0&&f<1?0:l,new En(l,u,f,e.opacity)}function C9(e,t,r,n){return arguments.length===1?cP(e):new En(e,t,r,n??1)}function En(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Kb(En,C9,lP(Jc,{brighter(e){return e=e==null?Qf:Math.pow(Qf,e),new En(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new En(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Or(ny(e>=240?e-240:e+120,i,n),ny(e,i,n),ny(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new En(_N(this.h),Qd(this.s),Qd(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jf(this.opacity);return`${e===1?"hsl(":"hsla("}${_N(this.h)}, ${Qd(this.s)*100}%, ${Qd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _N(e){return e=(e||0)%360,e<0?e+360:e}function Qd(e){return Math.max(0,Math.min(1,e||0))}function ny(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gb=e=>()=>e;function T9(e,t){return function(r){return e+r*t}}function P9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function D9(e){return(e=+e)==1?uP:function(t,r){return r-t?P9(t,r,e):Gb(isNaN(t)?r:t)}}function uP(e,t){var r=t-e;return r?T9(e,r):Gb(isNaN(e)?t:e)}const jN=(function e(t){var r=D9(t);function n(i,s){var l=r((i=P0(i)).r,(s=P0(s)).r),u=r(i.g,s.g),f=r(i.b,s.b),m=uP(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=f(p),i.opacity=m(p),i+""}}return n.gamma=e,n})(1);function M9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function R9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function I9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)i[l]=Yo(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=i[l](u);return s}}function L9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $9(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Yo(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var D0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ay=new RegExp(D0.source,"g");function z9(e){return function(){return e}}function B9(e){return function(t){return e(t)+""}}function U9(e,t){var r=D0.lastIndex=ay.lastIndex=0,n,i,s,l=-1,u=[],f=[];for(e=e+"",t=t+"";(n=D0.exec(e))&&(i=ay.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Zf(n,i)})),r=ay.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?B9(f[0].x):z9(t):(t=f.length,function(m){for(var p=0,g;p<t;++p)u[(g=f[p]).i]=g.x(m);return u.join("")})}function Yo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Gb(t):(r==="number"?Zf:r==="string"?(n=Ac(t))?(t=n,jN):U9:t instanceof Ac?jN:t instanceof Date?L9:R9(t)?M9:Array.isArray(t)?I9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$9:Zf)(e,t)}function Fb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function q9(e,t){t===void 0&&(t=e,e=Yo);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function H9(e){return function(){return e}}function eh(e){return+e}var SN=[0,1];function gr(e){return e}function M0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:H9(isNaN(t)?NaN:.5)}function K9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function G9(e,t,r){var n=e[0],i=e[1],s=t[0],l=t[1];return i<n?(n=M0(i,n),s=r(l,s)):(n=M0(n,i),s=r(s,l)),function(u){return s(n(u))}}function F9(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=M0(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var f=Qc(e,u,1,n)-1;return s[f](i[f](u))}}function Zc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wh(){var e=SN,t=SN,r=Yo,n,i,s,l=gr,u,f,m;function p(){var y=Math.min(e.length,t.length);return l!==gr&&(l=K9(e[0],e[y-1])),u=y>2?F9:G9,f=m=null,g}function g(y){return y==null||isNaN(y=+y)?s:(f||(f=u(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(i((m||(m=u(t,e.map(n),Zf)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,eh),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=Fb,p()},g.clamp=function(y){return arguments.length?(l=y?!0:gr,p()):l!==gr},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,b){return n=y,i=b,p()}}function Yb(){return Wh()(gr,gr)}function Y9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function th(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Lo(e){return e=th(Math.abs(e)),e?e[1]:NaN}function V9(e,t){return function(r,n){for(var i=r.length,s=[],l=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(i-=u,i+u)),!((f+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function W9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var X9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cc(e){if(!(t=X9.exec(e)))throw new Error("invalid format: "+e);var t;return new Vb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cc.prototype=Vb.prototype;function Vb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q9(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var dP;function J9(e,t){var r=th(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(dP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+th(e,Math.max(0,t+s-1))[0]}function kN(e,t){var r=th(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const EN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Y9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kN(e*100,t),r:kN,s:J9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function NN(e){return e}var ON=Array.prototype.map,AN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Z9(e){var t=e.grouping===void 0||e.thousands===void 0?NN:V9(ON.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?NN:W9(ON.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(g){g=Cc(g);var y=g.fill,b=g.align,j=g.sign,S=g.symbol,_=g.zero,E=g.width,N=g.comma,k=g.precision,T=g.trim,A=g.type;A==="n"?(N=!0,A="g"):EN[A]||(k===void 0&&(k=12),T=!0,A="g"),(_||y==="0"&&b==="=")&&(_=!0,y="0",b="=");var D=S==="$"?r:S==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",I=S==="$"?n:/[%p]/.test(A)?l:"",W=EN[A],Y=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function re(U){var P=D,B=I,K,q,M;if(A==="c")B=W(U)+B,U="";else{U=+U;var L=U<0||1/U<0;if(U=isNaN(U)?f:W(Math.abs(U),k),T&&(U=Q9(U)),L&&+U==0&&j!=="+"&&(L=!1),P=(L?j==="("?j:u:j==="-"||j==="("?"":j)+P,B=(A==="s"?AN[8+dP/3]:"")+B+(L&&j==="("?")":""),Y){for(K=-1,q=U.length;++K<q;)if(M=U.charCodeAt(K),48>M||M>57){B=(M===46?i+U.slice(K+1):U.slice(K))+B,U=U.slice(0,K);break}}}N&&!_&&(U=t(U,1/0));var V=P.length+U.length+B.length,X=V<E?new Array(E-V+1).join(y):"";switch(N&&_&&(U=t(X+U,X.length?E-B.length:1/0),X=""),b){case"<":U=P+U+B+X;break;case"=":U=P+X+U+B;break;case"^":U=X.slice(0,V=X.length>>1)+P+U+B+X.slice(V);break;default:U=X+P+U+B;break}return s(U)}return re.toString=function(){return g+""},re}function p(g,y){var b=m((g=Cc(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(Lo(y)/3)))*3,S=Math.pow(10,-j),_=AN[8+j/3];return function(E){return b(S*E)+_}}return{format:m,formatPrefix:p}}var Jd,Wb,fP;eH({thousands:",",grouping:[3],currency:["$",""]});function eH(e){return Jd=Z9(e),Wb=Jd.format,fP=Jd.formatPrefix,Jd}function tH(e){return Math.max(0,-Lo(Math.abs(e)))}function rH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lo(t)/3)))*3-Lo(Math.abs(e)))}function nH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lo(t)-Lo(e))+1}function hP(e,t,r,n){var i=C0(e,t,r),s;switch(n=Cc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=rH(i,l))&&(n.precision=s),fP(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=nH(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=tH(i))&&(n.precision=s-(n.type==="%")*2);break}}return Wb(n)}function ki(e){var t=e.domain;return e.ticks=function(r){var n=t();return O0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return hP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,l=n[i],u=n[s],f,m,p=10;for(u<l&&(m=l,l=u,u=m,m=i,i=s,s=m);p-- >0;){if(m=A0(l,u,r),m===f)return n[i]=l,n[s]=u,t(n);if(m>0)l=Math.floor(l/m)*m,u=Math.ceil(u/m)*m;else if(m<0)l=Math.ceil(l*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function mP(){var e=Yb();return e.copy=function(){return Zc(e,mP())},gn.apply(e,arguments),ki(e)}function pP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,eh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return pP(e).unknown(t)},e=arguments.length?Array.from(e,eh):[0,1],ki(r)}function gP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],l;return s<i&&(l=r,r=n,n=l,l=i,i=s,s=l),e[r]=t.floor(i),e[n]=t.ceil(s),e}function CN(e){return Math.log(e)}function TN(e){return Math.exp(e)}function aH(e){return-Math.log(-e)}function iH(e){return-Math.exp(-e)}function sH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oH(e){return e===10?sH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PN(e){return(t,r)=>-e(-t,r)}function Xb(e){const t=e(CN,TN),r=t.domain;let n=10,i,s;function l(){return i=lH(n),s=oH(n),r()[0]<0?(i=PN(i),s=PN(s),e(aH,iH)):e(CN,TN),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const f=r();let m=f[0],p=f[f.length-1];const g=p<m;g&&([m,p]=[p,m]);let y=i(m),b=i(p),j,S;const _=u==null?10:+u;let E=[];if(!(n%1)&&b-y<_){if(y=Math.floor(y),b=Math.ceil(b),m>0){for(;y<=b;++y)for(j=1;j<n;++j)if(S=y<0?j/s(-y):j*s(y),!(S<m)){if(S>p)break;E.push(S)}}else for(;y<=b;++y)for(j=n-1;j>=1;--j)if(S=y>0?j/s(-y):j*s(y),!(S<m)){if(S>p)break;E.push(S)}E.length*2<_&&(E=O0(m,p,_))}else E=O0(y,b,Math.min(b-y,_)).map(s);return g?E.reverse():E},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=Cc(f)).precision==null&&(f.trim=!0),f=Wb(f)),u===1/0)return f;const m=Math.max(1,n*u/t.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*n<n-.5&&(g*=n),g<=m?f(p):""}},t.nice=()=>r(gP(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function vP(){const e=Xb(Wh()).domain([1,10]);return e.copy=()=>Zc(e,vP()).base(e.base()),gn.apply(e,arguments),e}function DN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function MN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Qb(e){var t=1,r=e(DN(t),MN(t));return r.constant=function(n){return arguments.length?e(DN(t=+n),MN(t)):t},ki(r)}function yP(){var e=Qb(Wh());return e.copy=function(){return Zc(e,yP()).constant(e.constant())},gn.apply(e,arguments)}function RN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uH(e){return e<0?-e*e:e*e}function Jb(e){var t=e(gr,gr),r=1;function n(){return r===1?e(gr,gr):r===.5?e(cH,uH):e(RN(r),RN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ki(t)}function Zb(){var e=Jb(Wh());return e.copy=function(){return Zc(e,Zb()).exponent(e.exponent())},gn.apply(e,arguments),e}function dH(){return Zb.apply(null,arguments).exponent(.5)}function IN(e){return Math.sign(e)*e*e}function fH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bP(){var e=Yb(),t=[0,1],r=!1,n;function i(s){var l=fH(e(s));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(s){return e.invert(IN(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,eh)).map(IN)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return bP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},gn.apply(i,arguments),ki(i)}function xP(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=g9(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Qc(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(vi),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return xP().domain(e).range(t).unknown(n)},gn.apply(s,arguments)}function wP(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Qc(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(r=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var m=i.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return wP().domain([e,t]).range(i).unknown(s)},gn.apply(ki(l),arguments)}function _P(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Qc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return _P().domain(e).range(t).unknown(r)},gn.apply(i,arguments)}const iy=new Date,sy=new Date;function qt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const f=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return f;let m;do f.push(m=new Date(+s)),t(s,u),e(s);while(m<s&&s<l);return f},i.filter=s=>qt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(i.count=(s,l)=>(iy.setTime(+s),sy.setTime(+l),e(iy),e(sy),Math.floor(r(iy,sy))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?l=>n(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const rh=qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rh);rh.range;const va=1e3,fn=va*60,ya=fn*60,ka=ya*24,ex=ka*7,LN=ka*30,oy=ka*365,os=qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*va)},(e,t)=>(t-e)/va,e=>e.getUTCSeconds());os.range;const tx=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*va)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getMinutes());tx.range;const rx=qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getUTCMinutes());rx.range;const nx=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*va-e.getMinutes()*fn)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getHours());nx.range;const ax=qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCHours());ax.range;const eu=qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fn)/ka,e=>e.getDate()-1);eu.range;const Xh=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ka,e=>e.getUTCDate()-1);Xh.range;const jP=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ka,e=>Math.floor(e/ka));jP.range;function ws(e){return qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*fn)/ex)}const Qh=ws(0),nh=ws(1),hH=ws(2),mH=ws(3),$o=ws(4),pH=ws(5),gH=ws(6);Qh.range;nh.range;hH.range;mH.range;$o.range;pH.range;gH.range;function _s(e){return qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ex)}const Jh=_s(0),ah=_s(1),vH=_s(2),yH=_s(3),zo=_s(4),bH=_s(5),xH=_s(6);Jh.range;ah.range;vH.range;yH.range;zo.range;bH.range;xH.range;const ix=qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ix.range;const sx=qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sx.range;const Ea=qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ea.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ea.range;const Na=qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Na.range;function SP(e,t,r,n,i,s){const l=[[os,1,va],[os,5,5*va],[os,15,15*va],[os,30,30*va],[s,1,fn],[s,5,5*fn],[s,15,15*fn],[s,30,30*fn],[i,1,ya],[i,3,3*ya],[i,6,6*ya],[i,12,12*ya],[n,1,ka],[n,2,2*ka],[r,1,ex],[t,1,LN],[t,3,3*LN],[e,1,oy]];function u(m,p,g){const y=p<m;y&&([m,p]=[p,m]);const b=g&&typeof g.range=="function"?g:f(m,p,g),j=b?b.range(m,+p+1):[];return y?j.reverse():j}function f(m,p,g){const y=Math.abs(p-m)/g,b=Ub(([,,_])=>_).right(l,y);if(b===l.length)return e.every(C0(m/oy,p/oy,g));if(b===0)return rh.every(Math.max(C0(m,p,g),1));const[j,S]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return j.every(S)}return[u,f]}const[wH,_H]=SP(Na,sx,Jh,jP,ax,rx),[jH,SH]=SP(Ea,ix,Qh,eu,nx,tx);function ly(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ic(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function kH(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,m=sc(i),p=oc(i),g=sc(s),y=oc(s),b=sc(l),j=oc(l),S=sc(u),_=oc(u),E=sc(f),N=oc(f),k={a:L,A:V,b:X,B:ce,c:null,d:HN,e:HN,f:VH,g:a7,G:s7,H:GH,I:FH,j:YH,L:kP,m:WH,M:XH,p:R,q:G,Q:FN,s:YN,S:QH,u:JH,U:ZH,V:e7,w:t7,W:r7,x:null,X:null,y:n7,Y:i7,Z:o7,"%":GN},T={a:H,A:se,b:he,B:le,c:null,d:KN,e:KN,f:d7,g:w7,G:j7,H:l7,I:c7,j:u7,L:NP,m:f7,M:h7,p:ne,q:me,Q:FN,s:YN,S:m7,u:p7,U:g7,V:v7,w:y7,W:b7,x:null,X:null,y:x7,Y:_7,Z:S7,"%":GN},A={a:re,A:U,b:P,B,c:K,d:UN,e:UN,f:UH,g:BN,G:zN,H:qN,I:qN,j:LH,L:BH,m:IH,M:$H,p:Y,q:RH,Q:HH,s:KH,S:zH,u:CH,U:TH,V:PH,w:AH,W:DH,x:q,X:M,y:BN,Y:zN,Z:MH,"%":qH};k.x=D(r,k),k.X=D(n,k),k.c=D(t,k),T.x=D(r,T),T.X=D(n,T),T.c=D(t,T);function D(ee,ge){return function(Oe){var de=[],vt=-1,Pe=0,wt=ee.length,_t,vn,Oi;for(Oe instanceof Date||(Oe=new Date(+Oe));++vt<wt;)ee.charCodeAt(vt)===37&&(de.push(ee.slice(Pe,vt)),(vn=$N[_t=ee.charAt(++vt)])!=null?_t=ee.charAt(++vt):vn=_t==="e"?" ":"0",(Oi=ge[_t])&&(_t=Oi(Oe,vn)),de.push(_t),Pe=vt+1);return de.push(ee.slice(Pe,vt)),de.join("")}}function I(ee,ge){return function(Oe){var de=ic(1900,void 0,1),vt=W(de,ee,Oe+="",0),Pe,wt;if(vt!=Oe.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ge&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Pe=cy(ic(de.y,0,1)),wt=Pe.getUTCDay(),Pe=wt>4||wt===0?ah.ceil(Pe):ah(Pe),Pe=Xh.offset(Pe,(de.V-1)*7),de.y=Pe.getUTCFullYear(),de.m=Pe.getUTCMonth(),de.d=Pe.getUTCDate()+(de.w+6)%7):(Pe=ly(ic(de.y,0,1)),wt=Pe.getDay(),Pe=wt>4||wt===0?nh.ceil(Pe):nh(Pe),Pe=eu.offset(Pe,(de.V-1)*7),de.y=Pe.getFullYear(),de.m=Pe.getMonth(),de.d=Pe.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),wt="Z"in de?cy(ic(de.y,0,1)).getUTCDay():ly(ic(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(wt+5)%7:de.w+de.U*7-(wt+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,cy(de)):ly(de)}}function W(ee,ge,Oe,de){for(var vt=0,Pe=ge.length,wt=Oe.length,_t,vn;vt<Pe;){if(de>=wt)return-1;if(_t=ge.charCodeAt(vt++),_t===37){if(_t=ge.charAt(vt++),vn=A[_t in $N?ge.charAt(vt++):_t],!vn||(de=vn(ee,Oe,de))<0)return-1}else if(_t!=Oe.charCodeAt(de++))return-1}return de}function Y(ee,ge,Oe){var de=m.exec(ge.slice(Oe));return de?(ee.p=p.get(de[0].toLowerCase()),Oe+de[0].length):-1}function re(ee,ge,Oe){var de=b.exec(ge.slice(Oe));return de?(ee.w=j.get(de[0].toLowerCase()),Oe+de[0].length):-1}function U(ee,ge,Oe){var de=g.exec(ge.slice(Oe));return de?(ee.w=y.get(de[0].toLowerCase()),Oe+de[0].length):-1}function P(ee,ge,Oe){var de=E.exec(ge.slice(Oe));return de?(ee.m=N.get(de[0].toLowerCase()),Oe+de[0].length):-1}function B(ee,ge,Oe){var de=S.exec(ge.slice(Oe));return de?(ee.m=_.get(de[0].toLowerCase()),Oe+de[0].length):-1}function K(ee,ge,Oe){return W(ee,t,ge,Oe)}function q(ee,ge,Oe){return W(ee,r,ge,Oe)}function M(ee,ge,Oe){return W(ee,n,ge,Oe)}function L(ee){return l[ee.getDay()]}function V(ee){return s[ee.getDay()]}function X(ee){return f[ee.getMonth()]}function ce(ee){return u[ee.getMonth()]}function R(ee){return i[+(ee.getHours()>=12)]}function G(ee){return 1+~~(ee.getMonth()/3)}function H(ee){return l[ee.getUTCDay()]}function se(ee){return s[ee.getUTCDay()]}function he(ee){return f[ee.getUTCMonth()]}function le(ee){return u[ee.getUTCMonth()]}function ne(ee){return i[+(ee.getUTCHours()>=12)]}function me(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ge=D(ee+="",k);return ge.toString=function(){return ee},ge},parse:function(ee){var ge=I(ee+="",!1);return ge.toString=function(){return ee},ge},utcFormat:function(ee){var ge=D(ee+="",T);return ge.toString=function(){return ee},ge},utcParse:function(ee){var ge=I(ee+="",!0);return ge.toString=function(){return ee},ge}}}var $N={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,EH=/^%/,NH=/[\\^$*+?|[\]().{}]/g;function qe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function OH(e){return e.replace(NH,"\\$&")}function sc(e){return new RegExp("^(?:"+e.map(OH).join("|")+")","i")}function oc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function AH(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function CH(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TH(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function PH(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DH(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function zN(e,t,r){var n=Jt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function BN(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function MH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function RH(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function IH(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function UN(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function LH(e,t,r){var n=Jt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function qN(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $H(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function zH(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BH(e,t,r){var n=Jt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function UH(e,t,r){var n=Jt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qH(e,t,r){var n=EH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function HH(e,t,r){var n=Jt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KH(e,t,r){var n=Jt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function HN(e,t){return qe(e.getDate(),t,2)}function GH(e,t){return qe(e.getHours(),t,2)}function FH(e,t){return qe(e.getHours()%12||12,t,2)}function YH(e,t){return qe(1+eu.count(Ea(e),e),t,3)}function kP(e,t){return qe(e.getMilliseconds(),t,3)}function VH(e,t){return kP(e,t)+"000"}function WH(e,t){return qe(e.getMonth()+1,t,2)}function XH(e,t){return qe(e.getMinutes(),t,2)}function QH(e,t){return qe(e.getSeconds(),t,2)}function JH(e){var t=e.getDay();return t===0?7:t}function ZH(e,t){return qe(Qh.count(Ea(e)-1,e),t,2)}function EP(e){var t=e.getDay();return t>=4||t===0?$o(e):$o.ceil(e)}function e7(e,t){return e=EP(e),qe($o.count(Ea(e),e)+(Ea(e).getDay()===4),t,2)}function t7(e){return e.getDay()}function r7(e,t){return qe(nh.count(Ea(e)-1,e),t,2)}function n7(e,t){return qe(e.getFullYear()%100,t,2)}function a7(e,t){return e=EP(e),qe(e.getFullYear()%100,t,2)}function i7(e,t){return qe(e.getFullYear()%1e4,t,4)}function s7(e,t){var r=e.getDay();return e=r>=4||r===0?$o(e):$o.ceil(e),qe(e.getFullYear()%1e4,t,4)}function o7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qe(t/60|0,"0",2)+qe(t%60,"0",2)}function KN(e,t){return qe(e.getUTCDate(),t,2)}function l7(e,t){return qe(e.getUTCHours(),t,2)}function c7(e,t){return qe(e.getUTCHours()%12||12,t,2)}function u7(e,t){return qe(1+Xh.count(Na(e),e),t,3)}function NP(e,t){return qe(e.getUTCMilliseconds(),t,3)}function d7(e,t){return NP(e,t)+"000"}function f7(e,t){return qe(e.getUTCMonth()+1,t,2)}function h7(e,t){return qe(e.getUTCMinutes(),t,2)}function m7(e,t){return qe(e.getUTCSeconds(),t,2)}function p7(e){var t=e.getUTCDay();return t===0?7:t}function g7(e,t){return qe(Jh.count(Na(e)-1,e),t,2)}function OP(e){var t=e.getUTCDay();return t>=4||t===0?zo(e):zo.ceil(e)}function v7(e,t){return e=OP(e),qe(zo.count(Na(e),e)+(Na(e).getUTCDay()===4),t,2)}function y7(e){return e.getUTCDay()}function b7(e,t){return qe(ah.count(Na(e)-1,e),t,2)}function x7(e,t){return qe(e.getUTCFullYear()%100,t,2)}function w7(e,t){return e=OP(e),qe(e.getUTCFullYear()%100,t,2)}function _7(e,t){return qe(e.getUTCFullYear()%1e4,t,4)}function j7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?zo(e):zo.ceil(e),qe(e.getUTCFullYear()%1e4,t,4)}function S7(){return"+0000"}function GN(){return"%"}function FN(e){return+e}function YN(e){return Math.floor(+e/1e3)}var fo,AP,CP;k7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function k7(e){return fo=kH(e),AP=fo.format,fo.parse,CP=fo.utcFormat,fo.utcParse,fo}function E7(e){return new Date(e)}function N7(e){return e instanceof Date?+e:+new Date(+e)}function ox(e,t,r,n,i,s,l,u,f,m){var p=Yb(),g=p.invert,y=p.domain,b=m(".%L"),j=m(":%S"),S=m("%I:%M"),_=m("%I %p"),E=m("%a %d"),N=m("%b %d"),k=m("%B"),T=m("%Y");function A(D){return(f(D)<D?b:u(D)<D?j:l(D)<D?S:s(D)<D?_:n(D)<D?i(D)<D?E:N:r(D)<D?k:T)(D)}return p.invert=function(D){return new Date(g(D))},p.domain=function(D){return arguments.length?y(Array.from(D,N7)):y().map(E7)},p.ticks=function(D){var I=y();return e(I[0],I[I.length-1],D??10)},p.tickFormat=function(D,I){return I==null?A:m(I)},p.nice=function(D){var I=y();return(!D||typeof D.range!="function")&&(D=t(I[0],I[I.length-1],D??10)),D?y(gP(I,D)):p},p.copy=function(){return Zc(p,ox(e,t,r,n,i,s,l,u,f,m))},p}function O7(){return gn.apply(ox(jH,SH,Ea,ix,Qh,eu,nx,tx,os,AP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function A7(){return gn.apply(ox(wH,_H,Na,sx,Jh,Xh,ax,rx,os,CP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zh(){var e=0,t=1,r,n,i,s,l=gr,u=!1,f;function m(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(s(g)-r)*i,u?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(g){return arguments.length?(u=!!g,m):u},m.interpolator=function(g){return arguments.length?(l=g,m):l};function p(g){return function(y){var b,j;return arguments.length?([b,j]=y,l=g(b,j),m):[l(0),l(1)]}}return m.range=p(Yo),m.rangeRound=p(Fb),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return s=g,r=g(e),n=g(t),i=r===n?0:1/(n-r),m}}function Ei(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TP(){var e=ki(Zh()(gr));return e.copy=function(){return Ei(e,TP())},Ma.apply(e,arguments)}function PP(){var e=Xb(Zh()).domain([1,10]);return e.copy=function(){return Ei(e,PP()).base(e.base())},Ma.apply(e,arguments)}function DP(){var e=Qb(Zh());return e.copy=function(){return Ei(e,DP()).constant(e.constant())},Ma.apply(e,arguments)}function lx(){var e=Jb(Zh());return e.copy=function(){return Ei(e,lx()).exponent(e.exponent())},Ma.apply(e,arguments)}function C7(){return lx.apply(null,arguments).exponent(.5)}function MP(){var e=[],t=gr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(vi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>p9(e,s/n))},r.copy=function(){return MP(t).domain(e)},Ma.apply(r,arguments)}function em(){var e=0,t=.5,r=1,n=1,i,s,l,u,f,m=gr,p,g=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+p(S))-s)*(n*S<n*s?u:f),m(g?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([e,t,r]=S,i=p(e=+e),s=p(t=+t),l=p(r=+r),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,b):[e,t,r]},b.clamp=function(S){return arguments.length?(g=!!S,b):g},b.interpolator=function(S){return arguments.length?(m=S,b):m};function j(S){return function(_){var E,N,k;return arguments.length?([E,N,k]=_,m=q9(S,[E,N,k]),b):[m(0),m(.5),m(1)]}}return b.range=j(Yo),b.rangeRound=j(Fb),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return p=S,i=S(e),s=S(t),l=S(r),u=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),n=s<i?-1:1,b}}function RP(){var e=ki(em()(gr));return e.copy=function(){return Ei(e,RP())},Ma.apply(e,arguments)}function IP(){var e=Xb(em()).domain([.1,1,10]);return e.copy=function(){return Ei(e,IP()).base(e.base())},Ma.apply(e,arguments)}function LP(){var e=Qb(em());return e.copy=function(){return Ei(e,LP()).constant(e.constant())},Ma.apply(e,arguments)}function cx(){var e=Jb(em());return e.copy=function(){return Ei(e,cx()).exponent(e.exponent())},Ma.apply(e,arguments)}function T7(){return cx.apply(null,arguments).exponent(.5)}const hc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hb,scaleDiverging:RP,scaleDivergingLog:IP,scaleDivergingPow:cx,scaleDivergingSqrt:T7,scaleDivergingSymlog:LP,scaleIdentity:pP,scaleImplicit:T0,scaleLinear:mP,scaleLog:vP,scaleOrdinal:qb,scalePoint:y9,scalePow:Zb,scaleQuantile:xP,scaleQuantize:wP,scaleRadial:bP,scaleSequential:TP,scaleSequentialLog:PP,scaleSequentialPow:lx,scaleSequentialQuantile:MP,scaleSequentialSqrt:C7,scaleSequentialSymlog:DP,scaleSqrt:dH,scaleSymlog:yP,scaleThreshold:_P,scaleTime:O7,scaleUtc:A7,tickFormat:hP},Symbol.toStringTag,{value:"Module"}));var Ni=e=>e.chartData,ux=Z([Ni],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),tm=(e,t,r,n)=>n?ux(e):Ni(e);function bi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Et(t)&&Et(r))return!0}return!1}function VN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $P(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Et(r))i=r;else if(typeof r=="function")return;if(Et(n))s=n;else if(typeof n=="function")return;var l=[i,s];if(bi(l))return l}}function P7(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(bi(n))return VN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(we(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&_E.test(i)){var f=_E.exec(i);if(f==null||t==null)l=void 0;else{var m=+f[1];l=t[0]-m}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(we(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&jE.test(s)){var p=jE.exec(s);if(p==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t==null?void 0:t[1];var y=[l,u];if(bi(y))return t==null?y:VN(y,t,r)}}}var Vo=1e9,D7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fx,dt=!0,mn="[DecimalError] ",fs=mn+"Invalid argument: ",dx=mn+"Exponent out of range: ",Wo=Math.floor,ts=Math.pow,M7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gr,Wt=1e7,ot=7,zP=9007199254740991,ih=Wo(zP/ot),ye={};ye.absoluteValue=ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ye.comparedTo=ye.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ye.dividedBy=ye.div=function(e){return xa(this,new this.constructor(e))};ye.dividedToIntegerBy=ye.idiv=function(e){var t=this,r=t.constructor;return tt(xa(t,new r(e),0,1),r.precision)};ye.equals=ye.eq=function(e){return!this.cmp(e)};ye.exponent=function(){return Rt(this)};ye.greaterThan=ye.gt=function(e){return this.cmp(e)>0};ye.greaterThanOrEqualTo=ye.gte=function(e){return this.cmp(e)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(e){return this.cmp(e)<0};ye.lessThanOrEqualTo=ye.lte=function(e){return this.cmp(e)<1};ye.logarithm=ye.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Gr))throw Error(mn+"NaN");if(r.s<1)throw Error(mn+(r.s?"NaN":"-Infinity"));return r.eq(Gr)?new n(0):(dt=!1,t=xa(Tc(r,s),Tc(e,s),s),dt=!0,tt(t,i))};ye.minus=ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qP(t,e):BP(t,(e.s=-e.s,e))};ye.modulo=ye.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(mn+"NaN");return r.s?(dt=!1,t=xa(r,e,0,1).times(e),dt=!0,r.minus(t)):tt(new n(r),i)};ye.naturalExponential=ye.exp=function(){return UP(this)};ye.naturalLogarithm=ye.ln=function(){return Tc(this)};ye.negated=ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ye.plus=ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BP(t,e):qP(t,(e.s=-e.s,e))};ye.precision=ye.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fs+e);if(t=Rt(i)+1,n=i.d.length-1,r=n*ot+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ye.squareRoot=ye.sqrt=function(){var e,t,r,n,i,s,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(mn+"NaN")}for(e=Rt(u),dt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Gn(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Wo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(i.toString()),r=f.precision,i=l=r+3;;)if(s=n,n=s.plus(xa(u,s,l+2)).times(.5),Gn(s.d).slice(0,l)===(t=Gn(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(tt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return dt=!0,tt(n,r)};ye.times=ye.mul=function(e){var t,r,n,i,s,l,u,f,m,p=this,g=p.constructor,y=p.d,b=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,f=y.length,m=b.length,f<m&&(s=y,y=b,b=s,l=f,f=m,m=l),s=[],l=f+m,n=l;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,i=f+n;i>n;)u=s[i]+b[n]*y[i-n-1]+t,s[i--]=u%Wt|0,t=u/Wt|0;s[i]=(s[i]+t)%Wt|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,dt?tt(e,g.precision):e};ye.toDecimalPlaces=ye.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Wn(e,0,Vo),t===void 0?t=n.rounding:Wn(t,0,8),tt(r,e+Rt(r)+1,t))};ye.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=vs(n,!0):(Wn(e,0,Vo),t===void 0?t=i.rounding:Wn(t,0,8),n=tt(new i(n),e+1,t),r=vs(n,!0,e+1)),r};ye.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?vs(i):(Wn(e,0,Vo),t===void 0?t=s.rounding:Wn(t,0,8),n=tt(new s(i),e+Rt(i)+1,t),r=vs(n.abs(),!1,e+Rt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ye.toInteger=ye.toint=function(){var e=this,t=e.constructor;return tt(new t(e),Rt(e)+1,t.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(e){var t,r,n,i,s,l,u=this,f=u.constructor,m=12,p=+(e=new f(e));if(!e.s)return new f(Gr);if(u=new f(u),!u.s){if(e.s<1)throw Error(mn+"Infinity");return u}if(u.eq(Gr))return u;if(n=f.precision,e.eq(Gr))return tt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=p<0?-p:p)<=zP){for(i=new f(Gr),t=Math.ceil(n/ot+4),dt=!1;r%2&&(i=i.times(u),XN(i.d,t)),r=Wo(r/2),r!==0;)u=u.times(u),XN(u.d,t);return dt=!0,e.s<0?new f(Gr).div(i):tt(i,n)}}else if(s<0)throw Error(mn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,dt=!1,i=e.times(Tc(u,n+m)),dt=!0,i=UP(i),i.s=s,i};ye.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Rt(i),n=vs(i,r<=s.toExpNeg||r>=s.toExpPos)):(Wn(e,1,Vo),t===void 0?t=s.rounding:Wn(t,0,8),i=tt(new s(i),e,t),r=Rt(i),n=vs(i,e<=r||r<=s.toExpNeg,e)),n};ye.toSignificantDigits=ye.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Wn(e,1,Vo),t===void 0?t=n.rounding:Wn(t,0,8)),tt(new n(r),e,t)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rt(e),r=e.constructor;return vs(e,t<=r.toExpNeg||t>=r.toExpPos)};function BP(e,t){var r,n,i,s,l,u,f,m,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),dt?tt(t,g):t;if(f=e.d,m=t.d,l=e.e,i=t.e,f=f.slice(),s=l-i,s){for(s<0?(n=f,s=-s,u=m.length):(n=m,i=l,u=f.length),l=Math.ceil(g/ot),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=m.length,u-s<0&&(s=u,n=m,m=f,f=n),r=0;s;)r=(f[--s]=f[s]+m[s]+r)/Wt|0,f[s]%=Wt;for(r&&(f.unshift(r),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,dt?tt(t,g):t}function Wn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(fs+e)}function Gn(e){var t,r,n,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)n=e[t]+"",r=ot-n.length,r&&(s+=di(r)),s+=n;l=e[t],n=l+"",r=ot-n.length,r&&(s+=di(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var xa=(function(){function e(n,i){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+l,n[u]=s%Wt|0,l=s/Wt|0;return l&&n.unshift(l),n}function t(n,i,s,l){var u,f;if(s!=l)f=s>l?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=i[u]){f=n[u]>i[u]?1:-1;break}return f}function r(n,i,s){for(var l=0;s--;)n[s]-=l,l=n[s]<i[s]?1:0,n[s]=l*Wt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,l){var u,f,m,p,g,y,b,j,S,_,E,N,k,T,A,D,I,W,Y=n.constructor,re=n.s==i.s?1:-1,U=n.d,P=i.d;if(!n.s)return new Y(n);if(!i.s)throw Error(mn+"Division by zero");for(f=n.e-i.e,I=P.length,A=U.length,b=new Y(re),j=b.d=[],m=0;P[m]==(U[m]||0);)++m;if(P[m]>(U[m]||0)&&--f,s==null?N=s=Y.precision:l?N=s+(Rt(n)-Rt(i))+1:N=s,N<0)return new Y(0);if(N=N/ot+2|0,m=0,I==1)for(p=0,P=P[0],N++;(m<A||p)&&N--;m++)k=p*Wt+(U[m]||0),j[m]=k/P|0,p=k%P|0;else{for(p=Wt/(P[0]+1)|0,p>1&&(P=e(P,p),U=e(U,p),I=P.length,A=U.length),T=I,S=U.slice(0,I),_=S.length;_<I;)S[_++]=0;W=P.slice(),W.unshift(0),D=P[0],P[1]>=Wt/2&&++D;do p=0,u=t(P,S,I,_),u<0?(E=S[0],I!=_&&(E=E*Wt+(S[1]||0)),p=E/D|0,p>1?(p>=Wt&&(p=Wt-1),g=e(P,p),y=g.length,_=S.length,u=t(g,S,y,_),u==1&&(p--,r(g,I<y?W:P,y))):(p==0&&(u=p=1),g=P.slice()),y=g.length,y<_&&g.unshift(0),r(S,g,_),u==-1&&(_=S.length,u=t(P,S,I,_),u<1&&(p++,r(S,I<_?W:P,_))),_=S.length):u===0&&(p++,S=[0]),j[m++]=p,u&&S[0]?S[_++]=U[T]||0:(S=[U[T]],_=1);while((T++<A||S[0]!==void 0)&&N--)}return j[0]||j.shift(),b.e=f,tt(b,l?s+Rt(b)+1:s)}})();function UP(e,t){var r,n,i,s,l,u,f=0,m=0,p=e.constructor,g=p.precision;if(Rt(e)>16)throw Error(dx+Rt(e));if(!e.s)return new p(Gr);for(dt=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),m+=5;for(n=Math.log(ts(2,m))/Math.LN10*2+5|0,u+=n,r=i=s=new p(Gr),p.precision=u;;){if(i=tt(i.times(e),u),r=r.times(++f),l=s.plus(xa(i,r,u)),Gn(l.d).slice(0,u)===Gn(s.d).slice(0,u)){for(;m--;)s=tt(s.times(s),u);return p.precision=g,t==null?(dt=!0,tt(s,g)):s}s=l}}function Rt(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function uy(e,t,r){if(t>e.LN10.sd())throw dt=!0,r&&(e.precision=r),Error(mn+"LN10 precision limit exceeded");return tt(new e(e.LN10),t)}function di(e){for(var t="";e--;)t+="0";return t}function Tc(e,t){var r,n,i,s,l,u,f,m,p,g=1,y=10,b=e,j=b.d,S=b.constructor,_=S.precision;if(b.s<1)throw Error(mn+(b.s?"NaN":"-Infinity"));if(b.eq(Gr))return new S(0);if(t==null?(dt=!1,m=_):m=t,b.eq(10))return t==null&&(dt=!0),uy(S,m);if(m+=y,S.precision=m,r=Gn(j),n=r.charAt(0),s=Rt(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Gn(b.d),n=r.charAt(0),g++;s=Rt(b),n>1?(b=new S("0."+r),s++):b=new S(n+"."+r.slice(1))}else return f=uy(S,m+2,_).times(s+""),b=Tc(new S(n+"."+r.slice(1)),m-y).plus(f),S.precision=_,t==null?(dt=!0,tt(b,_)):b;for(u=l=b=xa(b.minus(Gr),b.plus(Gr),m),p=tt(b.times(b),m),i=3;;){if(l=tt(l.times(p),m),f=u.plus(xa(l,new S(i),m)),Gn(f.d).slice(0,m)===Gn(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(uy(S,m+2,_).times(s+""))),u=xa(u,new S(g),m),S.precision=_,t==null?(dt=!0,tt(u,_)):u;u=f,i+=2}}function WN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Wo(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ot;n<i;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),dt&&(e.e>ih||e.e<-ih))throw Error(dx+r)}else e.s=0,e.e=0,e.d=[0];return e}function tt(e,t,r){var n,i,s,l,u,f,m,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=ot,i=t,m=g[p=0];else{if(p=Math.ceil((n+1)/ot),s=g.length,p>=s)return e;for(m=s=g[p],l=1;s>=10;s/=10)l++;n%=ot,i=n-ot+l}if(r!==void 0&&(s=ts(10,l-i-1),u=m/s%10|0,f=t<0||g[p+1]!==void 0||m%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?i>0?m/ts(10,l-i):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=Rt(e),g.length=1,t=t-s-1,g[0]=ts(10,(ot-t%ot)%ot),e.e=Wo(-t/ot)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=ts(10,ot-n),g[p]=i>0?(m/ts(10,l-i)%ts(10,i)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Wt&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=Wt)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(dt&&(e.e>ih||e.e<-ih))throw Error(dx+Rt(e));return e}function qP(e,t){var r,n,i,s,l,u,f,m,p,g,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),dt?tt(t,b):t;if(f=e.d,g=t.d,n=t.e,m=e.e,f=f.slice(),l=m-n,l){for(p=l<0,p?(r=f,l=-l,u=g.length):(r=g,n=m,u=f.length),i=Math.max(Math.ceil(b/ot),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=f.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){p=f[i]<g[i];break}l=0}for(p&&(r=f,f=g,g=r,t.s=-t.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(s=i;s&&f[--s]===0;)f[s]=Wt-1;--f[s],f[i]+=Wt}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,dt?tt(t,b):t):new y(0)}function vs(e,t,r){var n,i=Rt(e),s=Gn(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+di(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+di(-i-1)+s,r&&(n=r-l)>0&&(s+=di(n))):i>=l?(s+=di(i+1-l),r&&(n=r-i-1)>0&&(s=s+"."+di(n))):((n=i+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(s+="."),s+=di(n))),e.s<0?"-"+s:s}function XN(e,t){if(e.length>t)return e.length=t,!0}function HP(e){var t,r,n;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(fs+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return WN(l,s.toString())}else if(typeof s!="string")throw Error(fs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,M7.test(s))WN(l,s);else throw Error(fs+s)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=HP,i.config=i.set=R7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function R7(e){if(!e||typeof e!="object")throw Error(mn+"Object expected");var t,r,n,i=["precision",1,Vo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Wo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(fs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fs+r+": "+n);return this}var fx=HP(D7);Gr=new fx(1);const Ye=fx;var I7=e=>e,KP={},GP=e=>e===KP,QN=e=>function t(){return arguments.length===0||arguments.length===1&&GP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},FP=(e,t)=>e===1?t:QN(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(l=>l!==KP).length;return s>=e?t(...n):FP(e-s,QN(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var m=n.map(p=>GP(p)?u.shift():p);return t(...m,...u)}))}),L7=e=>FP(e.length,e),R0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},$7=L7((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),z7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return I7;var i=r.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),s(...arguments))}},I0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function YP(e){var t;return e===0?t=1:t=Math.floor(new Ye(e).abs().log(10).toNumber())+1,t}function VP(e,t,r){for(var n=new Ye(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var WP=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},XP=(e,t,r)=>{if(e.lte(0))return new Ye(0);var n=YP(e.toNumber()),i=new Ye(10).pow(n),s=e.div(i),l=n!==1?.05:.1,u=new Ye(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=u.mul(i);return t?new Ye(f.toNumber()):new Ye(Math.ceil(f.toNumber()))},B7=(e,t,r)=>{var n=new Ye(1),i=new Ye(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Ye(10).pow(YP(e)-1),i=new Ye(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Ye(Math.floor(e)))}else e===0?i=new Ye(Math.floor((t-1)/2)):r||(i=new Ye(Math.floor(e)));var l=Math.floor((t-1)/2),u=z7($7(f=>i.add(new Ye(f-l).mul(n)).toNumber()),R0);return u(0,t)},QP=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ye(0),tickMin:new Ye(0),tickMax:new Ye(0)};var l=XP(new Ye(r).sub(t).div(n-1),i,s),u;t<=0&&r>=0?u=new Ye(0):(u=new Ye(t).add(r).div(2),u=u.sub(new Ye(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),m=Math.ceil(new Ye(r).sub(u).div(l).toNumber()),p=f+m+1;return p>n?QP(t,r,n,i,s+1):(p<n&&(m=r>0?m+(n-p):m,f=r>0?f:f+(n-p)),{step:l,tickMin:u.sub(new Ye(f).mul(l)),tickMax:u.add(new Ye(m).mul(l))})},U7=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=WP([r,n]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...R0(0,i-1).map(()=>1/0)]:[...R0(0,i-1).map(()=>-1/0),f];return r>n?I0(m):m}if(u===f)return B7(u,i,s);var{step:p,tickMin:g,tickMax:y}=QP(u,f,l,s,0),b=VP(g,y.add(new Ye(.1).mul(p)),p);return r>n?I0(b):b},q7=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=WP([n,i]);if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var f=Math.max(r,2),m=XP(new Ye(u).sub(l).div(f-1),s,0),p=[...VP(new Ye(l),new Ye(u),m),u];return s===!1&&(p=p.map(g=>Math.round(g))),n>i?I0(p):p},JP=e=>e.rootProps.maxBarSize,H7=e=>e.rootProps.barGap,ZP=e=>e.rootProps.barCategoryGap,K7=e=>e.rootProps.barSize,tu=e=>e.rootProps.stackOffset,eD=e=>e.rootProps.reverseStackOrder,hx=e=>e.options.chartName,mx=e=>e.rootProps.syncId,tD=e=>e.rootProps.syncMethod,px=e=>e.options.eventEmitter,Mt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},pa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},rm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},G7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pa.angleAxisId,includeHidden:!1,name:void 0,reversed:pa.reversed,scale:pa.scale,tick:pa.tick,tickCount:void 0,ticks:void 0,type:pa.type,unit:void 0},F7={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:qr.type,unit:void 0},Y7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},V7={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:"category",unit:void 0},gx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Y7:G7,vx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?V7:F7,nm=e=>e.polarOptions,yx=Z([Pa,Da,Ut],Z2),rD=Z([nm,yx],(e,t)=>{if(e!=null)return ur(e.innerRadius,t,0)}),nD=Z([nm,yx],(e,t)=>{if(e!=null)return ur(e.outerRadius,t,t*.8)}),W7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},aD=Z([nm],W7);Z([gx,aD],rm);var iD=Z([yx,rD,nD],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Z([vx,iD],rm);var sD=Z([$e,nm,rD,nD,Pa,Da],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:f,endAngle:m}=t;return{cx:ur(l,i,i/2),cy:ur(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:m,clockWise:!1}}}),mt=(e,t)=>t,ru=(e,t,r)=>r;function bx(e){return e==null?void 0:e.id}function oD(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,l=new Map;return e.forEach(u=>{var f,m=(f=u.data)!==null&&f!==void 0?f:n;if(!(m==null||m.length===0)){var p=bx(u);m.forEach((g,y)=>{var b=s==null||i?y:String(et(g,s,null)),j=et(g,u.dataKey,0),S;l.has(b)?S=l.get(b):S={},Object.assign(S,{[p]:j}),l.set(b,S)})}}),Array.from(l.values())}function am(e){return e.stackId!=null&&e.dataKey!=null}var im=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function sm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function X7(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ht=e=>{var t=$e(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Xo=e=>e.tooltip.settings.axisId;function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return(t=J7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=Z7(e,"string");return typeof t=="symbol"?t:t+""}function Z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L0=[0,"auto"],Yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lD=(e,t)=>e.cartesianAxis.xAxis[t],Ra=(e,t)=>{var r=lD(e,t);return r??Yt},Vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:L0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gc},cD=(e,t)=>e.cartesianAxis.yAxis[t],Ia=(e,t)=>{var r=cD(e,t);return r??Vt},eK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??eK},gt=(e,t,r)=>{switch(t){case"xAxis":return Ra(e,r);case"yAxis":return Ia(e,r);case"zAxis":return xx(e,r);case"angleAxis":return gx(e,r);case"radiusAxis":return vx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tK=(e,t,r)=>{switch(t){case"xAxis":return Ra(e,r);case"yAxis":return Ia(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nu=(e,t,r)=>{switch(t){case"xAxis":return Ra(e,r);case"yAxis":return Ia(e,r);case"angleAxis":return gx(e,r);case"radiusAxis":return vx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function wx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var om=e=>e.graphicalItems.cartesianItems,rK=Z([mt,ru],wx),_x=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),au=Z([om,gt,rK],_x,{memoizeOptions:{resultEqualityCheck:sm}}),dD=Z([au],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(am)),fD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),nK=Z([au],fD),jx=e=>e.map(t=>t.data).filter(Boolean).flat(1),aK=Z([au],jx,{memoizeOptions:{resultEqualityCheck:sm}}),Sx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},kx=Z([aK,tm],Sx),Ex=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:et(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:et(i,n)}))):e.map(n=>({value:n})),lm=Z([kx,gt,au],Ex);function hD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function pf(e){if(Yn(e)||e instanceof Date){var t=Number(e);if(Et(t))return t}}function ZN(e){if(Array.isArray(e)){var t=[pf(e[0]),pf(e[1])];return bi(t)?t:void 0}var r=pf(e);if(r!=null)return[r,r]}function Oa(e){return e.map(pf).filter(Zz)}function iK(e,t,r){return!r||typeof t!="number"||On(t)?[]:r.length?Oa(r.flatMap(n=>{var i=et(e,n.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Et(s)||!Et(l)))return[t-s,t+l]})):[]}var Kt=e=>{var t=Ht(e),r=Xo(e);return nu(e,t,r)},iu=Z([Kt],e=>e==null?void 0:e.dataKey),sK=Z([dD,tm,Kt],oD),mD=(e,t,r,n)=>{var i={},s=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,f]=l,m=n?[...f].reverse():f,p=m.map(bx);return[u,{stackedData:E6(e,p,r),graphicalItems:m}]}))},$0=Z([sK,dD,tu,eD],mD),pD=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=T6(e,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},oK=Z([gt],e=>e.allowDataOverflow),Nx=e=>{var t;if(e==null||!("domain"in e))return L0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Oa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:L0},Ox=Z([gt],Nx),Ax=Z([Ox,oK],$P),lK=Z([$0,Ni,mt,Ax],pD,{memoizeOptions:{resultEqualityCheck:im}}),cm=e=>e.errorBars,cK=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>hD(r,n)),oh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},Cx=(e,t,r,n,i)=>{var s,l;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var m,p,g=(m=n[f.id])===null||m===void 0?void 0:m.filter(E=>hD(i,E)),y=et(u,(p=t.dataKey)!==null&&p!==void 0?p:f.dataKey),b=iK(u,y,g);if(b.length>=2){var j=Math.min(...b),S=Math.max(...b);(s==null||j<s)&&(s=j),(l==null||S>l)&&(l=S)}var _=ZN(y);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var f=ZN(et(u,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Et(s)&&Et(l))return[s,l]},uK=Z([kx,gt,nK,cm,mt],Cx,{memoizeOptions:{resultEqualityCheck:im}});function dK(e){var{value:t}=e;if(Yn(t)||t instanceof Date)return t}var fK=(e,t,r)=>{var n=e.map(dK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&TT(n))?nP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},gD=e=>e.referenceElements.dots,Qo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),hK=Z([gD,mt,ru],Qo),vD=e=>e.referenceElements.areas,mK=Z([vD,mt,ru],Qo),yD=e=>e.referenceElements.lines,pK=Z([yD,mt,ru],Qo),bD=(e,t)=>{var r=Oa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gK=Z(hK,mt,bD),xD=(e,t)=>{var r=Oa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vK=Z([mK,mt],xD);function yK(e){var t;if(e.x!=null)return Oa([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Oa(r)}function bK(e){var t;if(e.y!=null)return Oa([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Oa(r)}var wD=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?yK(n):bK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xK=Z([pK,mt],wD),wK=Z(gK,xK,vK,(e,t,r)=>oh(e,r,t)),Tx=(e,t,r,n,i,s,l,u)=>{if(r!=null)return r;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",m=f?oh(n,s,i):oh(s,i);return P7(t,m,e.allowDataOverflow)},_K=Z([gt,Ox,Ax,lK,uK,wK,$e,mt],Tx,{memoizeOptions:{resultEqualityCheck:im}}),jK=[0,1],Px=(e,t,r,n,i,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,m=Si(t,s);if(m&&u==null){var p;return nP(0,(p=r==null?void 0:r.length)!==null&&p!==void 0?p:0)}return f==="category"?fK(n,e,m):i==="expand"?jK:l}},Dx=Z([gt,$e,kx,lm,tu,mt,_K],Px),_D=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(zc(s));return u in hc?u:"point"}}},Jo=Z([gt,$e,uD,hx,mt],_D);function SK(e){if(e!=null){if(e in hc)return hc[e]();var t="scale".concat(zc(e));if(t in hc)return hc[t]()}}function Mx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=SK(t);if(i!=null){var s=i.domain(r).range(n);return w6(s),s}}}var Rx=(e,t,r)=>{var n=Nx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&bi(e))return U7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&bi(e))return q7(e,t.tickCount,t.allowDecimals)}},Ix=Z([Dx,nu,Jo],Rx),Lx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&bi(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],l=t[1],u=r[r.length-1];return[Math.min(i,s),Math.max(l,u)]}return t},kK=Z([gt,Dx,Ix,mt],Lx),EK=Z(lm,gt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Oa(e.map(u=>u.value))).sort((u,f)=>u-f);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/i}}),jD=Z(EK,$e,ZP,Ut,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Et(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=ur(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),NK=(e,t)=>{var r=Ra(e,t);return r==null||typeof r.padding!="string"?0:jD(e,"xAxis",t,r.padding)},OK=(e,t)=>{var r=Ia(e,t);return r==null||typeof r.padding!="string"?0:jD(e,"yAxis",t,r.padding)},AK=Z(Ra,NK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),CK=Z(Ia,OK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),TK=Z([Ut,AK,Hh,qh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),PK=Z([Ut,$e,CK,Hh,qh,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:l}=i;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),su=(e,t,r,n)=>{var i;switch(t){case"xAxis":return TK(e,r,n);case"yAxis":return PK(e,r,n);case"zAxis":return(i=xx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return aD(e);case"radiusAxis":return iD(e,r);default:return}},SD=Z([gt,su],rm),Zo=Z([gt,Jo,kK,SD],Mx);Z([au,cm,mt],cK);function kD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var um=(e,t)=>t,dm=(e,t,r)=>r,DK=Z(Bh,um,dm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kD)),MK=Z(Uh,um,dm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kD)),ED=(e,t)=>({width:e.width,height:t.height}),RK=(e,t)=>{var r=typeof t.width=="number"?t.width:Gc;return{width:r,height:e.height}},ND=Z(Ut,Ra,ED),IK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},LK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},$K=Z(Da,Ut,DK,um,dm,(e,t,r,n,i)=>{var s={},l;return r.forEach(u=>{var f=ED(t,u);l==null&&(l=IK(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;s[u.id]=l-Number(m)*f.height,l+=(m?-1:1)*f.height}),s}),zK=Z(Pa,Ut,MK,um,dm,(e,t,r,n,i)=>{var s={},l;return r.forEach(u=>{var f=RK(t,u);l==null&&(l=LK(t,n,e));var m=n==="left"&&!i||n==="right"&&i;s[u.id]=l-Number(m)*f.width,l+=(m?-1:1)*f.width}),s}),BK=(e,t)=>{var r=Ra(e,t);if(r!=null)return $K(e,r.orientation,r.mirror)},UK=Z([Ut,Ra,BK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),qK=(e,t)=>{var r=Ia(e,t);if(r!=null)return zK(e,r.orientation,r.mirror)},HK=Z([Ut,Ia,qK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),OD=Z(Ut,Ia,(e,t)=>{var r=typeof t.width=="number"?t.width:Gc;return{width:r,height:e.height}}),eO=(e,t,r)=>{switch(t){case"xAxis":return ND(e,r).width;case"yAxis":return OD(e,r).height;default:return}},AD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=r,u=Si(e,n),f=t.map(m=>m.value);if(l&&u&&s==="category"&&i&&TT(f))return f}},$x=Z([$e,lm,gt,mt],AD),CD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,l=Si(e,n);if(l&&(i==="number"||s!=="auto"))return t.map(u=>u.value)}},zx=Z([$e,lm,nu,mt],CD),tO=Z([$e,tK,Jo,Zo,$x,zx,su,Ix,mt],(e,t,r,n,i,s,l,u,f)=>{if(t!=null){var m=Si(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:u,range:l,realScaleType:r,scale:n}}}),KK=(e,t,r,n,i,s,l,u,f)=>{if(!(t==null||n==null)){var m=Si(e,f),{type:p,ticks:g,tickCount:y}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=p==="category"&&n.bandwidth?n.bandwidth()/b:0;j=f==="angleAxis"&&s!=null&&s.length>=2?Xt(s[0]-s[1])*2*j:j;var S=g||i;if(S){var _=S.map((E,N)=>{var k=l?l.indexOf(E):E;return{index:N,coordinate:n(k)+j,value:E,offset:j}});return _.filter(E=>Et(E.coordinate))}return m&&u?u.map((E,N)=>({coordinate:n(E)+j,value:E,index:N,offset:j})).filter(E=>Et(E.coordinate)):n.ticks?n.ticks(y).map(E=>({coordinate:n(E)+j,value:E,offset:j})):n.domain().map((E,N)=>({coordinate:n(E)+j,value:l?l[E]:E,index:N,offset:j}))}},TD=Z([$e,nu,Jo,Zo,Ix,su,$x,zx,mt],KK),GK=(e,t,r,n,i,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Si(e,l),{tickCount:f}=t,m=0;return m=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Xt(n[0]-n[1])*2*m:m,u&&s?s.map((p,g)=>({coordinate:r(p)+m,value:p,index:g,offset:m})):r.ticks?r.ticks(f).map(p=>({coordinate:r(p)+m,value:p,offset:m})):r.domain().map((p,g)=>({coordinate:r(p)+m,value:i?i[p]:p,index:g,offset:m}))}},xi=Z([$e,nu,Zo,su,$x,zx,mt],GK),wi=Z(gt,Zo,(e,t)=>{if(!(e==null||t==null))return sh(sh({},e),{},{scale:t})}),FK=Z([gt,Jo,Dx,SD],Mx);Z((e,t,r)=>xx(e,r),FK,(e,t)=>{if(!(e==null||t==null))return sh(sh({},e),{},{scale:t})});var YK=Z([$e,Bh,Uh],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),PD=e=>e.options.defaultTooltipEventType,DD=e=>e.options.validateTooltipEventTypes;function MD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Bx(e,t){var r=PD(e),n=DD(e);return MD(t,r,n)}function VK(e){return ve(t=>Bx(t,e))}var RD=(e,t)=>{var r,n=Number(t);if(!(On(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},WK=e=>e.tooltip.settings,pi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},XK={itemInteraction:{click:pi,hover:pi},axisInteraction:{click:pi,hover:pi},keyboardInteraction:pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ID=Cr({name:"tooltip",initialState:XK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ct()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Nn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:ct()},removeTooltipEntrySettings:{reducer(e,t){var r=Nn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ct()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:QK,replaceTooltipEntrySettings:JK,removeTooltipEntrySettings:ZK,setTooltipSettingsState:eG,setActiveMouseOverItemIndex:LD,mouseLeaveItem:tG,mouseLeaveChart:$D,setActiveClickItemIndex:rG,setMouseOverAxisIndex:zD,setMouseClickAxisIndex:nG,setSyncInteraction:z0,setKeyboardInteraction:B0}=ID.actions,aG=ID.reducer;function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cG(e){return e.index!=null}var BD=(e,t,r,n)=>{if(t==null)return pi;var i=lG(e,t,r);if(i==null)return pi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(cG(i)){if(s)return Zd(Zd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Zd(Zd({},pi),{},{coordinate:i.coordinate})};function uG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function dG(e,t){var r=uG(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),l=Math.max(n,i);return r>=s&&r<=l}function fG(e,t,r){if(r==null||t==null)return!0;var n=et(e,t);return n==null||!bi(r)?!0:dG(n,r)}var Ux=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!Et(s))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(l,Math.min(s,u)),m=t[f];return m==null||fG(m,r,n)?String(f):null},UD=(e,t,r,n,i,s,l,u)=>{if(!(s==null||u==null)){var f=l[0],m=f==null?void 0:u(f.positions,s);if(m!=null)return m;var p=i==null?void 0:i[Number(s)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:p.coordinate}}}},qD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},ou=e=>e.options.tooltipPayloadSearcher,el=e=>e.tooltip;function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return(t=mG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=pG(e,"string");return typeof t=="symbol"?t:t+""}function pG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gG(e,t){return e??t}var HD=(e,t,r,n,i,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:p}=r,g=[];return e.reduce((y,b)=>{var j,{dataDefinedOnItem:S,settings:_}=b,E=gG(S,u),N=Array.isArray(E)?k2(E,m,p):E,k=(j=_==null?void 0:_.dataKey)!==null&&j!==void 0?j:n,T=_==null?void 0:_.nameKey,A;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?A=PT(N,n,i):A=s(N,t,f,T),Array.isArray(A))A.forEach(I=>{var W=aO(aO({},_),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});y.push(SE({tooltipEntrySettings:W,dataKey:I.dataKey,payload:I.payload,value:et(I.payload,I.dataKey),name:I.name}))});else{var D;y.push(SE({tooltipEntrySettings:_,dataKey:k,payload:A,value:et(A,k),name:(D=et(A,T))!==null&&D!==void 0?D:_==null?void 0:_.name}))}return y},g)}},qx=Z([Kt,$e,uD,hx,Ht],_D),vG=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),yG=Z([Ht,Xo],wx),lu=Z([vG,Kt,yG],_x,{memoizeOptions:{resultEqualityCheck:sm}}),bG=Z([lu],e=>e.filter(am)),xG=Z([lu],jx,{memoizeOptions:{resultEqualityCheck:sm}}),tl=Z([xG,Ni],Sx),wG=Z([bG,Ni,Kt],oD),Hx=Z([tl,Kt,lu],Ex),KD=Z([Kt],Nx),_G=Z([Kt],e=>e.allowDataOverflow),GD=Z([KD,_G],$P),jG=Z([lu],e=>e.filter(am)),SG=Z([wG,jG,tu,eD],mD),kG=Z([SG,Ni,Ht,GD],pD),EG=Z([lu],fD),NG=Z([tl,Kt,EG,cm,Ht],Cx,{memoizeOptions:{resultEqualityCheck:im}}),OG=Z([gD,Ht,Xo],Qo),AG=Z([OG,Ht],bD),CG=Z([vD,Ht,Xo],Qo),TG=Z([CG,Ht],xD),PG=Z([yD,Ht,Xo],Qo),DG=Z([PG,Ht],wD),MG=Z([AG,DG,TG],oh),RG=Z([Kt,KD,GD,kG,NG,MG,$e,Ht],Tx),cu=Z([Kt,$e,tl,Hx,tu,Ht,RG],Px),IG=Z([cu,Kt,qx],Rx),LG=Z([Kt,cu,IG,Ht],Lx),FD=e=>{var t=Ht(e),r=Xo(e),n=!1;return su(e,t,r,n)},YD=Z([Kt,FD],rm),VD=Z([Kt,qx,LG,YD],Mx),$G=Z([$e,Hx,Kt,Ht],AD),zG=Z([$e,Hx,Kt,Ht],CD),BG=(e,t,r,n,i,s,l,u)=>{if(t){var{type:f}=t,m=Si(e,u);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Xt(i[0]-i[1])*2*g:g,m&&l?l.map((y,b)=>({coordinate:n(y)+g,value:y,index:b,offset:g})):n.domain().map((y,b)=>({coordinate:n(y)+g,value:s?s[y]:y,index:b,offset:g}))}}},La=Z([$e,Kt,qx,VD,FD,$G,zG,Ht],BG),Kx=Z([PD,DD,WK],(e,t,r)=>MD(r.shared,e,t)),WD=e=>e.tooltip.settings.trigger,Gx=e=>e.tooltip.settings.defaultIndex,uu=Z([el,Kx,WD,Gx],BD),_i=Z([uu,tl,iu,cu],Ux),XD=Z([La,_i],RD),Fx=Z([uu],e=>{if(e)return e.dataKey}),UG=Z([uu],e=>{if(e)return e.graphicalItemId}),QD=Z([el,Kx,WD,Gx],qD),qG=Z([Pa,Da,$e,Ut,La,Gx,QD,ou],UD),HG=Z([uu,qG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),KG=Z([uu],e=>e.active),GG=Z([QD,_i,Ni,iu,XD,ou,Kx],HD),FG=Z([GG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){YG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YG(e,t,r){return(t=VG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=WG(e,"string");return typeof t=="symbol"?t:t+""}function WG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XG=()=>ve(Kt),QG=()=>{var e=XG(),t=ve(La),r=ve(VD);return Mo(!e||!r?void 0:sO(sO({},e),{},{scale:r}),t)};function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){JG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JG(e,t,r){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=eF(e,"string");return typeof t=="symbol"?t:t+""}function eF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tF=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},rF=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:l}=n;return ho(ho(ho({},n),Dt(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:f}=n;return ho(ho(ho({},n),Dt(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nF(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var JD=(e,t,r,n,i)=>{var s,l=-1,u=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var m=f>0?r[f-1].coordinate:r[u-1].coordinate,p=r[f].coordinate,g=f>=u-1?r[0].coordinate:r[f+1].coordinate,y=void 0;if(Xt(p-m)!==Xt(g-p)){var b=[];if(Xt(g-p)===Xt(i[1]-i[0])){y=g;var j=p+i[1]-i[0];b[0]=Math.min(j,(j+m)/2),b[1]=Math.max(j,(j+m)/2)}else{y=m;var S=g+i[1]-i[0];b[0]=Math.min(p,(S+p)/2),b[1]=Math.max(p,(S+p)/2)}var _=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){({index:l}=r[f]);break}}else{var E=Math.min(m,g),N=Math.max(m,g);if(e>(E+p)/2&&e<=(N+p)/2){({index:l}=r[f]);break}}}else if(t){for(var k=0;k<u;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<u-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===u-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:l}=t[k]);break}}return l},aF=()=>ve(hx),Yx=(e,t)=>t,ZD=(e,t,r)=>r,Vx=(e,t,r,n)=>n,iF=Z(La,e=>Th(e,t=>t.coordinate)),Wx=Z([el,Yx,ZD,Vx],BD),Xx=Z([Wx,tl,iu,cu],Ux),sF=(e,t,r)=>{if(t!=null){var n=el(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},eM=Z([el,Yx,ZD,Vx],qD),lh=Z([Pa,Da,$e,Ut,La,Vx,eM,ou],UD),oF=Z([Wx,lh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),tM=Z([La,Xx],RD),lF=Z([eM,Xx,Ni,iu,tM,ou,Yx],HD),cF=Z([Wx,Xx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),uF=(e,t,r,n,i,s,l)=>{if(!(!e||!r||!n||!i)&&nF(e,l)){var u=P6(e,t),f=JD(u,s,i,r,n),m=tF(t,i,f,e);return{activeIndex:String(f),activeCoordinate:m}}},dF=(e,t,r,n,i,s,l)=>{if(!(!e||!n||!i||!s||!r)){var u=V8(e,r);if(u){var f=D6(u,t),m=JD(f,l,s,n,i),p=rF(t,s,m,u);return{activeIndex:String(m),activeCoordinate:p}}}},fF=(e,t,r,n,i,s,l,u)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?uF(e,t,n,i,s,l,u):dF(e,t,r,n,i,s,l)},hF=Z(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),mF=Z(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Mt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:X7}});function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){pF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pF(e,t,r){return(t=gF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gF(e){var t=vF(e,"string");return typeof t=="symbol"?t:t+""}function vF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yF={},bF={zIndexMap:Object.values(Mt).reduce((e,t)=>cO(cO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),yF)},xF=new Set(Object.values(Mt));function wF(e){return xF.has(e)}var rM=Cr({name:"zIndex",initialState:bF,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ct()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!wF(r)&&delete e.zIndexMap[r])},prepare:ct()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:ct()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:ct()}}}),{registerZIndexPortal:_F,unregisterZIndexPortal:jF,registerZIndexPortalId:SF,unregisterZIndexPortalId:kF}=rM.actions,EF=rM.reducer;function Tr(e){var{zIndex:t,children:r}=e,n=uq(),i=n&&t!==void 0&&t!==0,s=dr(),l=at();w.useLayoutEffect(()=>i?(l(_F({zIndex:t})),()=>{l(jF({zIndex:t}))}):Bc,[l,t,i]);var u=ve(m=>hF(m,t,s));if(!i)return r;if(!u)return null;var f=document.getElementById(u);return f?ob.createPortal(r,f):null}function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(null,arguments)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){NF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NF(e,t,r){return(t=OF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=AF(e,"string");return typeof t=="symbol"?t:t+""}function AF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CF(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function TF(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:m,chartName:p}=e,g=r,y=n,b=i;if(!f||!g||p!=="ScatterChart"&&m!=="axis")return null;var j,S,_;if(p==="ScatterChart")j=g,S=c8,_=Mt.cursorLine;else if(p==="BarChart")j=u8(u,g,s,l),S=J2,_=Mt.cursorRectangle;else if(u==="radial"&&MT(g)){var{cx:E,cy:N,radius:k,startAngle:T,endAngle:A}=eP(g);j={cx:E,cy:N,startAngle:T,endAngle:A,innerRadius:k,outerRadius:k},S=rP,_=Mt.cursorLine}else j={points:J8(u,g,s)},S=Bb,_=Mt.cursorLine;var D=typeof f=="object"&&"className"in f?f.className:void 0,I=ef(ef(ef(ef({stroke:"#ccc",pointerEvents:"none"},s),j),hs(f)),{},{payload:y,payloadIndex:b,className:Ue("recharts-tooltip-cursor",D)});return w.createElement(Tr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},w.createElement(CF,{cursor:f,cursorComp:S,cursorProps:I}))}function PF(e){var t=QG(),r=R2(),n=Fc(),i=aF();return t==null||r==null||n==null||i==null?null:w.createElement(TF,U0({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var nM=w.createContext(null),DF=()=>w.useContext(nM),dy={exports:{}},dO;function MF(){return dO||(dO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,m,p){this.fn=f,this.context=m,this.once=p||!1}function s(f,m,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||f,y),j=r?r+m:m;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],b]:f._events[j].push(b):(f._events[j]=b,f._eventsCount++),f}function l(f,m){--f._eventsCount===0?f._events=new n:delete f._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)t.call(p,g)&&m.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},u.prototype.listeners=function(m){var p=r?r+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,j=new Array(b);y<b;y++)j[y]=g[y].fn;return j},u.prototype.listenerCount=function(m){var p=r?r+m:m,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(m,p,g,y,b,j){var S=r?r+m:m;if(!this._events[S])return!1;var _=this._events[S],E=arguments.length,N,k;if(_.fn){switch(_.once&&this.removeListener(m,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,y),!0;case 5:return _.fn.call(_.context,p,g,y,b),!0;case 6:return _.fn.call(_.context,p,g,y,b,j),!0}for(k=1,N=new Array(E-1);k<E;k++)N[k-1]=arguments[k];_.fn.apply(_.context,N)}else{var T=_.length,A;for(k=0;k<T;k++)switch(_[k].once&&this.removeListener(m,_[k].fn,void 0,!0),E){case 1:_[k].fn.call(_[k].context);break;case 2:_[k].fn.call(_[k].context,p);break;case 3:_[k].fn.call(_[k].context,p,g);break;case 4:_[k].fn.call(_[k].context,p,g,y);break;default:if(!N)for(A=1,N=new Array(E-1);A<E;A++)N[A-1]=arguments[A];_[k].fn.apply(_[k].context,N)}}return!0},u.prototype.on=function(m,p,g){return s(this,m,p,g,!1)},u.prototype.once=function(m,p,g){return s(this,m,p,g,!0)},u.prototype.removeListener=function(m,p,g,y){var b=r?r+m:m;if(!this._events[b])return this;if(!p)return l(this,b),this;var j=this._events[b];if(j.fn)j.fn===p&&(!y||j.once)&&(!g||j.context===g)&&l(this,b);else{for(var S=0,_=[],E=j.length;S<E;S++)(j[S].fn!==p||y&&!j[S].once||g&&j[S].context!==g)&&_.push(j[S]);_.length?this._events[b]=_.length===1?_[0]:_:l(this,b)}return this},u.prototype.removeAllListeners=function(m){var p;return m?(p=r?r+m:m,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(dy)),dy.exports}var RF=MF();const IF=Tn(RF);var Pc=new IF,q0="recharts.syncEvent.tooltip",fO="recharts.syncEvent.brush";function aM(e,t){if(t){var r=Number.parseInt(t,10);if(!On(r))return e==null?void 0:e[r]}}var LF={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iM=Cr({name:"options",initialState:LF,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$F=iM.reducer,{createEventEmitter:zF}=iM.actions;function BF(e){return e.tooltip.syncInteraction}var UF={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},sM=Cr({name:"chartData",initialState:UF,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:hO,setDataStartEndIndexes:qF,setComputedData:wre}=sM.actions,HF=sM.reducer,KF=["x","y"];function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){GF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GF(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=YF(e,"string");return typeof t=="symbol"?t:t+""}function YF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VF(e,t){if(e==null)return{};var r,n,i=WF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XF(){var e=ve(mx),t=ve(px),r=at(),n=ve(tD),i=ve(La),s=Fc(),l=Kh(),u=ve(f=>f.rootProps.className);w.useEffect(()=>{if(e==null)return Bc;var f=(m,p,g)=>{if(t!==g&&e===m){if(n==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:j,y:S}=b,_=VF(b,KF),{x:E,y:N,width:k,height:T}=p.payload.sourceViewBox,A=mo(mo({},_),{},{x:l.x+(k?(j-E)/k:0)*l.width,y:l.y+(T?(S-N)/T:0)*l.height});r(mo(mo({},p),{},{payload:mo(mo({},p.payload),{},{coordinate:A})}))}else r(p);return}if(i!=null){var D;if(typeof n=="function"){var I={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},W=n(i,I);D=i[W]}else n==="value"&&(D=i.find(M=>String(M.value)===p.payload.label));var{coordinate:Y}=p.payload;if(D==null||p.payload.active===!1||Y==null||l==null){r(z0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:re,y:U}=Y,P=Math.min(re,l.x+l.width),B=Math.min(U,l.y+l.height),K={x:s==="horizontal"?D.coordinate:P,y:s==="horizontal"?B:D.coordinate},q=z0({active:p.payload.active,coordinate:K,dataKey:p.payload.dataKey,index:String(D.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(q)}}};return Pc.on(q0,f),()=>{Pc.off(q0,f)}},[u,r,t,e,n,i,s,l])}function QF(){var e=ve(mx),t=ve(px),r=at();w.useEffect(()=>{if(e==null)return Bc;var n=(i,s,l)=>{t!==l&&e===i&&r(qF(s))};return Pc.on(fO,n),()=>{Pc.off(fO,n)}},[r,t,e])}function JF(){var e=at();w.useEffect(()=>{e(zF())},[e]),XF(),QF()}function ZF(e,t,r,n,i,s){var l=ve(b=>sF(b,e,t)),u=ve(px),f=ve(mx),m=ve(tD),p=ve(BF),g=p==null?void 0:p.active,y=Kh();w.useEffect(()=>{if(!g&&f!=null&&u!=null){var b=z0({active:s,coordinate:r,dataKey:l,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});Pc.emit(q0,f,b,u)}},[g,r,l,i,n,u,f,m,s,y])}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){eY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eY(e,t,r){return(t=tY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=rY(e,"string");return typeof t=="symbol"?t:t+""}function rY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nY(e){return e.dataKey}function aY(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(qq,t)}var vO=[],iY={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function oM(e){var t,r,n=It(e,iY),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:f,filterNull:m,isAnimationActive:p,offset:g,payloadUniqBy:y,position:b,reverseDirection:j,useTranslate3d:S,wrapperStyle:_,cursor:E,shared:N,trigger:k,defaultIndex:T,portal:A,axisId:D}=n,I=at(),W=typeof T=="number"?String(T):T;w.useEffect(()=>{I(eG({shared:N,trigger:k,axisId:D,active:i,defaultIndex:W}))},[I,N,k,D,i,W]);var Y=Kh(),re=Y2(),U=VK(N),{activeIndex:P,isActive:B}=(t=ve(ne=>cF(ne,U,k,W)))!==null&&t!==void 0?t:{},K=ve(ne=>lF(ne,U,k,W)),q=ve(ne=>tM(ne,U,k,W)),M=ve(ne=>oF(ne,U,k,W)),L=K,V=DF(),X=(r=i??B)!==null&&r!==void 0?r:!1,[ce,R]=WT([L,X]),G=U==="axis"?q:void 0;ZF(U,k,M,G,P,X);var H=A??V;if(H==null||Y==null||U==null)return null;var se=L??vO;X||(se=vO),m&&se.length&&(se=KT(se.filter(ne=>ne.value!=null&&(ne.hide!==!0||n.includeHidden)),y,nY));var he=se.length>0,le=w.createElement(Wq,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:X,coordinate:M,hasPayload:he,offset:g,position:b,reverseDirection:j,useTranslate3d:S,viewBox:Y,wrapperStyle:_,lastBoundingBox:ce,innerRef:R,hasPortalFromProps:!!A},aY(f,gO(gO({},n),{},{payload:se,label:G,active:X,activeIndex:P,coordinate:M,accessibilityLayer:re})));return w.createElement(w.Fragment,null,ob.createPortal(le,H),X&&w.createElement(PF,{cursor:E,tooltipEventType:U,coordinate:M,payload:se,index:P}))}var Bo=e=>null;Bo.displayName="Cell";function sY(e,t,r){return(t=oY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oY(e){var t=lY(e,"string");return typeof t=="symbol"?t:t+""}function lY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cY{constructor(t){sY(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){dY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dY(e,t,r){return(t=fY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mY={cacheSize:2e3,enableCache:!0},lM=uY({},mY),bO=new cY(lM.cacheSize),pY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xO="recharts_measurement_span";function gY(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var wO=(e,t)=>{try{var r=document.getElementById(xO);r||(r=document.createElement("span"),r.setAttribute("id",xO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,pY,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},pc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vc.isSsr)return{width:0,height:0};if(!lM.enableCache)return wO(t,r);var n=gY(t,r),i=bO.get(n);if(i)return i;var s=wO(t,r);return bO.set(n,s),s},_O=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bY=Object.keys(cM),wo="NaN";function xY(e,t){return e*cM[t]}class Nr{static parse(t){var r,[,n,i]=(r=yY.exec(t))!==null&&r!==void 0?r:[];return new Nr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,On(t)&&(this.unit=""),r!==""&&!vY.test(r)&&(this.num=NaN,this.unit=""),bY.includes(r)&&(this.num=xY(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Nr(NaN,""):new Nr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Nr(NaN,""):new Nr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nr(NaN,""):new Nr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nr(NaN,""):new Nr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return On(this.num)}}function uM(e){if(e.includes(wo))return wo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=_O.exec(t))!==null&&r!==void 0?r:[],l=Nr.parse(n??""),u=Nr.parse(s??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return wo;t=t.replace(_O,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,p,g,y]=(m=jO.exec(t))!==null&&m!==void 0?m:[],b=Nr.parse(p??""),j=Nr.parse(y??""),S=g==="+"?b.add(j):b.subtract(j);if(S.isNaN())return wo;t=t.replace(jO,S.toString())}return t}var SO=/\(([^()]*)\)/;function wY(e){for(var t=e,r;(r=SO.exec(t))!=null;){var[,n]=r;t=t.replace(SO,uM(n))}return t}function _Y(e){var t=e.replace(/\s+/g,"");return t=wY(t),t=uM(t),t}function jY(e){try{return _Y(e)}catch{return wo}}function fy(e){var t=jY(e.slice(5,-1));return t===wo?"":t}var SY=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kY=["dx","dy","angle","className","breakAll"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(null,arguments)}function kO(e,t){if(e==null)return{};var r,n,i=EY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dM=/[ \f\n\r\t\v\u2028\u2029]+/,fM=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];ht(t)||(r?i=t.toString().split(""):i=t.toString().split(dM));var s=i.map(u=>({word:u,width:pc(u,n).width})),l=r?0:pc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function NY(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var hM=(e,t,r,n)=>e.reduce((i,s)=>{var{word:l,width:u}=s,f=i[i.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(l),f.width+=u+r;else{var m={words:[l],width:u};i.push(m)}return i},[]),mM=e=>e.reduce((t,r)=>t.width>r.width?t:r),OY="",EO=(e,t,r,n,i,s,l,u)=>{var f=e.slice(0,t),m=fM({breakAll:r,style:n,children:f+OY});if(!m)return[!1,[]];var p=hM(m.wordsWithComputedWidth,s,l,u),g=p.length>i||mM(p).width>Number(s);return[g,p]},AY=(e,t,r,n,i)=>{var{maxLines:s,children:l,style:u,breakAll:f}=e,m=we(s),p=String(l),g=hM(t,n,r,i);if(!m||i)return g;var y=g.length>s||mM(g).width>Number(n);if(!y)return g;for(var b=0,j=p.length-1,S=0,_;b<=j&&S<=p.length-1;){var E=Math.floor((b+j)/2),N=E-1,[k,T]=EO(p,N,f,u,s,n,r,i),[A]=EO(p,E,f,u,s,n,r,i);if(!k&&!A&&(b=E+1),k&&A&&(j=E-1),!k&&A){_=T;break}S++}return _||g},NO=e=>{var t=ht(e)?[]:e.toString().split(dM);return[{words:t,width:void 0}]},CY=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:l}=e;if((t||r)&&!Vc.isSsr){var u,f,m=fM({breakAll:s,children:n,style:i});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;u=p,f=g}else return NO(n);return AY({breakAll:s,children:n,maxLines:l,style:i},u,f,t,!!r)}return NO(n)},pM="#808080",TY={angle:0,breakAll:!1,capHeight:"0.71em",fill:pM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fm=w.forwardRef((e,t)=>{var r=It(e,TY),{x:n,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:f,textAnchor:m,verticalAnchor:p}=r,g=kO(r,SY),y=w.useMemo(()=>CY({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:b,dy:j,angle:S,className:_,breakAll:E}=g,N=kO(g,kY);if(!Yn(n)||!Yn(i)||y.length===0)return null;var k=Number(n)+(we(b)?b:0),T=Number(i)+(we(j)?j:0);if(!Et(k)||!Et(T))return null;var A;switch(p){case"start":A=fy("calc(".concat(l,")"));break;case"middle":A=fy("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:A=fy("calc(".concat(y.length-1," * -").concat(s,")"));break}var D=[];if(f){var I=y[0].width,{width:W}=g;D.push("scale(".concat(we(W)&&we(I)?W/I:1,")"))}return S&&D.push("rotate(".concat(S,", ").concat(k,", ").concat(T,")")),D.length&&(N.transform=D.join(" ")),w.createElement("text",H0({},vr(N),{ref:t,x:k,y:T,className:Ue("recharts-text",_),textAnchor:m,fill:u.includes("url")?pM:u}),y.map((Y,re)=>{var U=Y.words.join(E?"":" ");return w.createElement("tspan",{x:k,dy:re===0?A:s,key:"".concat(U,"-").concat(re)},U)}))});fm.displayName="Text";var PY=["labelRef"];function DY(e,t){if(e==null)return{};var r,n,i=MY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){RY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RY(e,t,r){return(t=IY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IY(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(null,arguments)}var gM=w.createContext(null),$Y=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:l,children:u}=e,f=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:l}),[t,r,n,i,s,l]);return w.createElement(gM.Provider,{value:f},u)},vM=()=>{var e=w.useContext(gM),t=Kh();return e||M2(t)},zY=w.createContext(null),BY=()=>{var e=w.useContext(zY),t=ve(sD);return e||t},UY=e=>{var{value:t,formatter:r}=e,n=ht(e.children)?t:e.children;return typeof r=="function"?r(n):n},Qx=e=>e!=null&&typeof e=="function",qY=(e,t)=>{var r=Xt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},HY=(e,t,r,n,i)=>{var{offset:s,className:l}=e,{cx:u,cy:f,innerRadius:m,outerRadius:p,startAngle:g,endAngle:y,clockWise:b}=i,j=(m+p)/2,S=qY(g,y),_=S>=0?1:-1,E,N;switch(t){case"insideStart":E=g+_*s,N=b;break;case"insideEnd":E=y-_*s,N=!b;break;case"end":E=y+_*s,N=b;break;default:throw new Error("Unsupported position ".concat(t))}N=S<=0?N:!N;var k=Dt(u,f,j,E),T=Dt(u,f,j,E+(N?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(N?0:1,`,
    `).concat(T.x,",").concat(T.y),D=ht(e.id)?bc("recharts-radial-line-"):e.id;return w.createElement("text",ga({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:D,d:A})),w.createElement("textPath",{xlinkHref:"#".concat(D)},r))},KY=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:f}=e,m=(u+f)/2;if(r==="outside"){var{x:p,y:g}=Dt(n,i,l+t,m);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:b,y:j}=Dt(n,i,y,m);return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},K0=e=>"cx"in e&&we(e.cx),GY=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!K0(r)&&(s=r);var{x:l,y:u,upperWidth:f,lowerWidth:m,height:p}=t,g=l,y=l+(f-m)/2,b=(g+y)/2,j=(f+m)/2,S=g+f/2,_=p>=0?1:-1,E=_*n,N=_>0?"end":"start",k=_>0?"start":"end",T=f>=0?1:-1,A=T*n,D=T>0?"end":"start",I=T>0?"start":"end";if(i==="top"){var W={x:g+f/2,y:u-E,textAnchor:"middle",verticalAnchor:N};return kt(kt({},W),s?{height:Math.max(u-s.y,0),width:f}:{})}if(i==="bottom"){var Y={x:y+m/2,y:u+p+E,textAnchor:"middle",verticalAnchor:k};return kt(kt({},Y),s?{height:Math.max(s.y+s.height-(u+p),0),width:m}:{})}if(i==="left"){var re={x:b-A,y:u+p/2,textAnchor:D,verticalAnchor:"middle"};return kt(kt({},re),s?{width:Math.max(re.x-s.x,0),height:p}:{})}if(i==="right"){var U={x:b+j+A,y:u+p/2,textAnchor:I,verticalAnchor:"middle"};return kt(kt({},U),s?{width:Math.max(s.x+s.width-U.x,0),height:p}:{})}var P=s?{width:j,height:p}:{};return i==="insideLeft"?kt({x:b+A,y:u+p/2,textAnchor:I,verticalAnchor:"middle"},P):i==="insideRight"?kt({x:b+j-A,y:u+p/2,textAnchor:D,verticalAnchor:"middle"},P):i==="insideTop"?kt({x:g+f/2,y:u+E,textAnchor:"middle",verticalAnchor:k},P):i==="insideBottom"?kt({x:y+m/2,y:u+p-E,textAnchor:"middle",verticalAnchor:N},P):i==="insideTopLeft"?kt({x:g+A,y:u+E,textAnchor:I,verticalAnchor:k},P):i==="insideTopRight"?kt({x:g+f-A,y:u+E,textAnchor:D,verticalAnchor:k},P):i==="insideBottomLeft"?kt({x:y+A,y:u+p-E,textAnchor:I,verticalAnchor:N},P):i==="insideBottomRight"?kt({x:y+m-A,y:u+p-E,textAnchor:D,verticalAnchor:N},P):i&&typeof i=="object"&&(we(i.x)||ja(i.x))&&(we(i.y)||ja(i.y))?kt({x:l+ur(i.x,j),y:u+ur(i.y,p),textAnchor:"end",verticalAnchor:"end"},P):kt({x:S,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},FY={angle:0,offset:5,zIndex:Mt.label,position:"middle",textBreakAll:!1};function fi(e){var t=It(e,FY),{viewBox:r,position:n,value:i,children:s,content:l,className:u="",textBreakAll:f,labelRef:m}=t,p=BY(),g=vM(),y=n==="center"?g:p??g,b,j,S;if(r==null?b=y:K0(r)?b=r:b=M2(r),!b||ht(i)&&ht(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var _=kt(kt({},t),{},{viewBox:b});if(w.isValidElement(l)){var{labelRef:E}=_,N=DY(_,PY);return w.cloneElement(l,N)}if(typeof l=="function"){if(j=w.createElement(l,_),w.isValidElement(j))return j}else j=UY(t);var k=vr(t);if(K0(b)){if(n==="insideStart"||n==="insideEnd"||n==="end")return HY(t,n,j,k,b);S=KY(b,t.offset,t.position)}else S=GY(t,b);return w.createElement(Tr,{zIndex:t.zIndex},w.createElement(fm,ga({ref:m,className:Ue("recharts-label",u)},k,S,{textAnchor:NY(k.textAnchor)?k.textAnchor:S.textAnchor,breakAll:f}),j))}fi.displayName="Label";var YY=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(fi,ga({key:"label-implicit"},n)):Yn(e)?w.createElement(fi,ga({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===fi?w.cloneElement(e,kt({key:"label-implicit"},n)):w.createElement(fi,ga({key:"label-implicit",content:e},n)):Qx(e)?w.createElement(fi,ga({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(fi,ga({},e,{key:"label-implicit"},n)):null};function VY(e){var{label:t,labelRef:r}=e,n=vM();return YY(t,n,r)||null}var hy={},my={},AO;function WY(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(my)),my}var py={},CO;function XY(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(py)),py}var TO;function QY(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WY(),r=XY(),n=Sb();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(hy)),hy}var gy,PO;function JY(){return PO||(PO=1,gy=QY().last),gy}var ZY=JY();const eV=Tn(ZY);var tV=["valueAccessor"],rV=["dataKey","clockWise","id","textBreakAll","zIndex"];function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(null,arguments)}function DO(e,t){if(e==null)return{};var r,n,i=nV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aV=e=>Array.isArray(e.value)?eV(e.value):e.value,yM=w.createContext(void 0),bM=yM.Provider,xM=w.createContext(void 0),iV=xM.Provider;function sV(){return w.useContext(yM)}function oV(){return w.useContext(xM)}function gf(e){var{valueAccessor:t=aV}=e,r=DO(e,tV),{dataKey:n,clockWise:i,id:s,textBreakAll:l,zIndex:u}=r,f=DO(r,rV),m=sV(),p=oV(),g=m||p;return!g||!g.length?null:w.createElement(Tr,{zIndex:u??Mt.label},w.createElement(Qt,{className:"recharts-label-list"},g.map((y,b)=>{var j,S=ht(n)?t(y,b):et(y&&y.payload,n),_=ht(s)?{}:{id:"".concat(s,"-").concat(b)};return w.createElement(fi,ch({key:"label-".concat(b)},vr(y),f,_,{fill:(j=r.fill)!==null&&j!==void 0?j:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:l,viewBox:y.viewBox,index:b,zIndex:0}))})))}gf.displayName="LabelList";function Jx(e){var{label:t}=e;return t?t===!0?w.createElement(gf,{key:"labelList-implicit"}):w.isValidElement(t)||Qx(t)?w.createElement(gf,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(gf,ch({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(null,arguments)}var wM=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=Ue("recharts-dot",i);return we(t)&&we(r)&&we(n)?w.createElement("circle",G0({},Vr(e),jb(e),{className:s,cx:t,cy:r,r:n})):null},_M=e=>e.graphicalItems.polarItems,lV=Z([mt,ru],wx),hm=Z([_M,gt,lV],_x),cV=Z([hm],jx),mm=Z([cV,ux],Sx),uV=Z([mm,gt,hm],Ex);Z([mm,gt,hm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,l=et(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:et(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var MO=()=>{},dV=Z([mm,gt,hm,cm,mt],Cx),fV=Z([gt,Ox,Ax,MO,dV,MO,$e,mt],Tx),jM=Z([gt,$e,mm,uV,tu,mt,fV],Px),hV=Z([jM,gt,Jo],Rx);Z([gt,jM,hV,mt],Lx);var mV={radiusAxis:{},angleAxis:{}},SM=Cr({name:"polarAxis",initialState:mV,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:_re,removeRadiusAxis:jre,addAngleAxis:Sre,removeAngleAxis:kre}=SM.actions,pV=SM.reducer;function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){gV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gV(e,t,r){return(t=vV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vV(e){var t=yV(e,"string");return typeof t=="symbol"?t:t+""}function yV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bV=(e,t)=>t,Zx=Z([_M,bV],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),xV=[],ew=(e,t,r)=>(r==null?void 0:r.length)===0?xV:r,kM=Z([ux,Zx,ew],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>IO(IO({},t.presentationProps),s.props))),i!=null)return i}}),wV=Z([kM,Zx,ew],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,l=et(n,t.nameKey,t.name),u;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:Fo(l,t.dataKey),color:u,payload:n,type:t.legendType}})}),_V=Z([kM,Zx,ew,Ut],(e,t,r,n)=>{if(!(t==null||e==null))return jW({offset:n,pieSettings:t,displayedData:e,cells:r})}),vy={exports:{}},Qe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LO;function jV(){if(LO)return Qe;LO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function j(S){if(typeof S=="object"&&S!==null){var _=S.$$typeof;switch(_){case e:switch(S=S.type,S){case r:case i:case n:case f:case m:case y:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case p:return S;case s:return S;default:return _}}case t:return _}}}return Qe.ContextConsumer=s,Qe.ContextProvider=l,Qe.Element=e,Qe.ForwardRef=u,Qe.Fragment=r,Qe.Lazy=g,Qe.Memo=p,Qe.Portal=t,Qe.Profiler=i,Qe.StrictMode=n,Qe.Suspense=f,Qe.SuspenseList=m,Qe.isContextConsumer=function(S){return j(S)===s},Qe.isContextProvider=function(S){return j(S)===l},Qe.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},Qe.isForwardRef=function(S){return j(S)===u},Qe.isFragment=function(S){return j(S)===r},Qe.isLazy=function(S){return j(S)===g},Qe.isMemo=function(S){return j(S)===p},Qe.isPortal=function(S){return j(S)===t},Qe.isProfiler=function(S){return j(S)===i},Qe.isStrictMode=function(S){return j(S)===n},Qe.isSuspense=function(S){return j(S)===f},Qe.isSuspenseList=function(S){return j(S)===m},Qe.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===i||S===n||S===f||S===m||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===u||S.$$typeof===b||S.getModuleId!==void 0)},Qe.typeOf=j,Qe}var $O;function SV(){return $O||($O=1,vy.exports=jV()),vy.exports}var kV=SV(),zO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",BO=null,yy=null,EM=e=>{if(e===BO&&Array.isArray(yy))return yy;var t=[];return w.Children.forEach(e,r=>{ht(r)||(kV.isFragment(r)?t=t.concat(EM(r.props.children)):t.push(r))}),yy=t,BO=e,t};function tw(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>zO(i)):n=[zO(t)],EM(e).forEach(i=>{var s=ms(i,"type.displayName")||ms(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var NM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,by={},UO;function EV(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(by)),by}var xy,qO;function NV(){return qO||(qO=1,xy=EV().isPlainObject),xy}var OV=NV();const AV=Tn(OV);function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){CV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CV(e,t,r){return(t=TV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TV(e){var t=PV(e,"string");return typeof t=="symbol"?t:t+""}function PV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}var GO=(e,t,r,n,i)=>{var s=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-s/2,",").concat(t+i),l+="L ".concat(e+r-s/2-n,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},DV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MV=e=>{var t=It(e,DV),{x:r,y:n,upperWidth:i,lowerWidth:s,height:l,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=t,y=w.useRef(null),[b,j]=w.useState(-1),S=w.useRef(i),_=w.useRef(s),E=w.useRef(l),N=w.useRef(r),k=w.useRef(n),T=Xc(e,"trapezoid-");if(w.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var K=y.current.getTotalLength();K&&j(K)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var A=Ue("recharts-trapezoid",u);if(!g)return w.createElement("g",null,w.createElement("path",uh({},vr(t),{className:A,d:GO(r,n,i,s,l)})));var D=S.current,I=_.current,W=E.current,Y=N.current,re=k.current,U="0px ".concat(b===-1?1:b,"px"),P="".concat(b,"px 0px"),B=V2(["strokeDasharray"],m,f);return w.createElement(Wc,{animationId:T,key:T,canBegin:b>0,duration:m,easing:f,isActive:g,begin:p},K=>{var q=ut(D,i,K),M=ut(I,s,K),L=ut(W,l,K),V=ut(Y,r,K),X=ut(re,n,K);y.current&&(S.current=q,_.current=M,E.current=L,N.current=V,k.current=X);var ce=K>0?{transition:B,strokeDasharray:P}:{strokeDasharray:U};return w.createElement("path",uh({},vr(t),{className:A,d:GO(V,X,q,M,L),ref:y,style:KO(KO({},ce),t.style)}))})},RV=["option","shapeType","propTransformer","activeClassName"];function IV(e,t){if(e==null)return{};var r,n,i=LV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){$V(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $V(e,t,r){return(t=zV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=BV(e,"string");return typeof t=="symbol"?t:t+""}function BV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UV(e,t){return dh(dh({},t),e)}function qV(e,t){return e==="symbols"}function YO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(J2,r);case"trapezoid":return w.createElement(MV,r);case"sector":return w.createElement(rP,r);case"symbols":if(qV(t))return w.createElement(_b,r);break;case"curve":return w.createElement(Bb,r);default:return null}}function HV(e){return w.isValidElement(e)?e.props:e}function rw(e){var{option:t,shapeType:r,propTransformer:n=UV,activeClassName:i="recharts-active-shape"}=e,s=IV(e,RV),l;if(w.isValidElement(t))l=w.cloneElement(t,dh(dh({},s),HV(t)));else if(typeof t=="function")l=t(s,s.index);else if(AV(t)&&typeof t!="boolean"){var u=n(t,s);l=w.createElement(YO,{shapeType:r,elementProps:u})}else{var f=s;l=w.createElement(YO,{shapeType:r,elementProps:f})}return s.isActive?w.createElement(Qt,{className:i},l):l}var nw=(e,t,r)=>{var n=at();return(i,s)=>l=>{e==null||e(i,s,l),n(LD({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},aw=e=>{var t=at();return(r,n)=>i=>{e==null||e(r,n,i),t(tG())}},iw=(e,t,r)=>{var n=at();return(i,s)=>l=>{e==null||e(i,s,l),n(rG({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function sw(e){var{tooltipEntrySettings:t}=e,r=at(),n=dr(),i=w.useRef(null);return w.useLayoutEffect(()=>{n||(i.current===null?r(QK(t)):i.current!==t&&r(JK({prev:i.current,next:t})),i.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{i.current&&(r(ZK(i.current)),i.current=null)},[r]),null}function OM(e){var{legendPayload:t}=e,r=at(),n=dr(),i=w.useRef(null);return w.useLayoutEffect(()=>{n||(i.current===null?r(H2(t)):i.current!==t&&r(K2({prev:i.current,next:t})),i.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{i.current&&(r(G2(i.current)),i.current=null)},[r]),null}function KV(e){var{legendPayload:t}=e,r=at(),n=ve($e),i=w.useRef(null);return w.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(H2(t)):i.current!==t&&r(K2({prev:i.current,next:t})),i.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{i.current&&(r(G2(i.current)),i.current=null)},[r]),null}var wy,GV=()=>{var[e]=w.useState(()=>bc("uid-"));return e},FV=(wy=HI.useId)!==null&&wy!==void 0?wy:GV;function AM(e,t){var r=FV();return t||(e?"".concat(e,"-").concat(r):r)}var YV=w.createContext(void 0),ow=e=>{var{id:t,type:r,children:n}=e,i=AM("recharts-".concat(r),t);return w.createElement(YV.Provider,{value:i},n(i))},VV={cartesianItems:[],polarItems:[]},CM=Cr({name:"graphicalItems",initialState:VV,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ct()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Nn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:ct()},removeCartesianGraphicalItem:{reducer(e,t){var r=Nn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ct()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ct()},removePolarGraphicalItem:{reducer(e,t){var r=Nn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ct()}}}),{addCartesianGraphicalItem:WV,replaceCartesianGraphicalItem:XV,removeCartesianGraphicalItem:QV,addPolarGraphicalItem:JV,removePolarGraphicalItem:ZV}=CM.actions,eW=CM.reducer,tW=e=>{var t=at(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(WV(e)):r.current!==e&&t(XV({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(QV(r.current)),r.current=null)},[t]),null},TM=w.memo(tW);function rW(e){var t=at();return w.useLayoutEffect(()=>(t(JV(e)),()=>{t(ZV(e))}),[t,e]),null}var nW=["key"],aW=["onMouseEnter","onClick","onMouseLeave"],iW=["id"],sW=["id"];function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){oW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(null,arguments)}function pm(e,t){if(e==null)return{};var r,n,i=uW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dW(e){var t=w.useMemo(()=>tw(e.children,Bo),[e.children]),r=ve(n=>wV(n,e.id,t));return r==null?null:w.createElement(KV,{legendPayload:r})}var fW=w.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:l,name:u,hide:f,tooltipType:m}=e,p={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:Fo(u,t),hide:f,type:m,color:l,unit:""}};return w.createElement(sw,{tooltipEntrySettings:p})}),hW=(e,t)=>e>t?"start":e<t?"end":"middle",mW=(e,t,r)=>ur(typeof t=="function"?t(e):t,r,r*.8),pW=(e,t,r)=>{var{top:n,left:i,width:s,height:l}=t,u=Z2(s,l),f=i+ur(e.cx,s,s/2),m=n+ur(e.cy,l,l/2),p=ur(e.innerRadius,u,0),g=mW(r,e.outerRadius,u),y=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:m,innerRadius:p,outerRadius:g,maxRadius:y}},gW=(e,t)=>{var r=Xt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function vW(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var yW=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ue("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=pm(t,nW);return w.createElement(Bb,ji({},i,{type:"linear",className:r}))},bW=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var i=Ue("recharts-pie-label-text",vW(e));return w.createElement(fm,ji({},t,{alignmentBaseline:"middle",className:i}),n)};function xW(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:l}=r;if(!n||!i||!t)return null;var u=Vr(r),f=hs(i),m=hs(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((y,b)=>{var j=(y.startAngle+y.endAngle)/2,S=Dt(y.cx,y.cy,y.outerRadius+p,j),_=xt(xt(xt(xt({},u),y),{},{stroke:"none"},f),{},{index:b,textAnchor:hW(S.x,y.cx)},S),E=xt(xt(xt(xt({},u),y),{},{fill:"none",stroke:y.fill},m),{},{index:b,points:[Dt(y.cx,y.cy,y.outerRadius,j),S],key:"line"});return w.createElement(Tr,{zIndex:Mt.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},w.createElement(Qt,null,s&&yW(s,E),bW(i,_,et(y,l))))});return w.createElement(Qt,{className:"recharts-pie-labels"},g)}function wW(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(Jx,{label:i}):w.createElement(xW,{sectors:t,props:r,showLabels:n})}function _W(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:l}=e,u=ve(_i),f=ve(Fx),m=ve(UG),{onMouseEnter:p,onClick:g,onMouseLeave:y}=i,b=pm(i,aW),j=nw(p,i.dataKey,l),S=aw(y),_=iw(g,i.dataKey,l);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((E,N)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&t.length!==1)return null;var k=m==null||m===l,T=String(N)===u&&(f==null||i.dataKey===f)&&k,A=u?n:null,D=r&&T?r:A,I=xt(xt({},E),{},{stroke:E.stroke,tabIndex:-1,[A2]:N,[C2]:i.dataKey});return w.createElement(Qt,ji({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},Uc(b,E,N),{onMouseEnter:j(E,N),onMouseLeave:S(E,N),onClick:_(E,N)}),w.createElement(rw,ji({option:s??D,index:N,shapeType:"sector",isActive:T},I)))}))}function jW(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:m,nameKey:p,tooltipType:g}=r,y=Math.abs(r.minAngle),b=gW(u,f),j=Math.abs(b),S=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,_=n.filter(D=>et(D,m,0)!==0).length,E=(j>=360?_:_-1)*S,N=j-_*y-E,k=n.reduce((D,I)=>{var W=et(I,m,0);return D+(we(W)?W:0)},0),T;if(k>0){var A;T=n.map((D,I)=>{var W=et(D,m,0),Y=et(D,p,I),re=pW(r,s,D),U=(we(W)?W:0)/k,P,B=xt(xt({},D),i&&i[I]&&i[I].props);I?P=A.endAngle+Xt(b)*S*(W!==0?1:0):P=u;var K=P+Xt(b)*((W!==0?y:0)+U*N),q=(P+K)/2,M=(re.innerRadius+re.outerRadius)/2,L=[{name:Y,value:W,payload:B,dataKey:m,type:g}],V=Dt(re.cx,re.cy,M,q);return A=xt(xt(xt(xt({},r.presentationProps),{},{percent:U,cornerRadius:typeof l=="string"?parseFloat(l):l,name:Y,tooltipPayload:L,midAngle:q,middleRadius:M,tooltipPosition:V},B),re),{},{value:W,dataKey:m,startAngle:P,endAngle:K,payload:B,paddingAngle:Xt(b)*S}),A})}return T}function SW(e){var{showLabels:t,sectors:r,children:n}=e,i=w.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return w.createElement(iV,{value:t?i:void 0},n)}function kW(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:p,onAnimationStart:g,onAnimationEnd:y}=t,b=Xc(t,"recharts-pie-"),j=r.current,[S,_]=w.useState(!1),E=w.useCallback(()=>{typeof y=="function"&&y(),_(!1)},[y]),N=w.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return w.createElement(SW,{showLabels:!S,sectors:i},w.createElement(Wc,{animationId:b,begin:l,duration:u,isActive:s,easing:f,onAnimationStart:N,onAnimationEnd:E,key:b},k=>{var T=[],A=i&&i[0],D=A==null?void 0:A.startAngle;return i==null||i.forEach((I,W)=>{var Y=j&&j[W],re=W>0?ms(I,"paddingAngle",0):0;if(Y){var U=ut(Y.endAngle-Y.startAngle,I.endAngle-I.startAngle,k),P=xt(xt({},I),{},{startAngle:D+re,endAngle:D+U+re});T.push(P),D=P.endAngle}else{var{endAngle:B,startAngle:K}=I,q=ut(0,B-K,k),M=xt(xt({},I),{},{startAngle:D+re,endAngle:D+q+re});T.push(M),D=M.endAngle}}),r.current=T,w.createElement(Qt,null,w.createElement(_W,{sectors:T,activeShape:m,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:n}))}),w.createElement(wW,{showLabels:!S,sectors:i,props:t}),t.children)}var EW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Mt.area};function NW(e){var{id:t}=e,r=pm(e,iW),{hide:n,className:i,rootTabIndex:s}=e,l=w.useMemo(()=>tw(e.children,Bo),[e.children]),u=ve(p=>_V(p,t,l)),f=w.useRef(null),m=Ue("recharts-pie",i);return n||u==null?(f.current=null,w.createElement(Qt,{tabIndex:s,className:m})):w.createElement(Tr,{zIndex:e.zIndex},w.createElement(fW,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),w.createElement(Qt,{tabIndex:s,className:m},w.createElement(kW,{props:xt(xt({},r),{},{sectors:u}),previousSectorsRef:f,id:t})))}function F0(e){var t=It(e,EW),{id:r}=t,n=pm(t,sW),i=Vr(n);return w.createElement(ow,{id:r,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(rW,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),w.createElement(dW,ji({},n,{id:s})),w.createElement(NW,ji({},n,{id:s}))))}F0.displayName="Pie";var OW=["points"];function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){AW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AW(e,t,r){return(t=CW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(null,arguments)}function PW(e,t){if(e==null)return{};var r,n,i=DW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MW(e){var{option:t,dotProps:r,className:n}=e;if(w.isValidElement(t))return w.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Ue(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,u=PW(s,OW);return w.createElement(wM,fh({},u,{className:i}))}function RW(e,t){return e==null?!1:t?!0:e.length===1}function IW(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:f,zIndex:m=Mt.scatter}=e;if(!RW(t,r))return null;var p=NM(r),g=oz(r),y=t.map((j,S)=>{var _,E,N=_y(_y(_y({r:3},l),g),{},{index:S,cx:(_=j.x)!==null&&_!==void 0?_:void 0,cy:(E=j.y)!==null&&E!==void 0?E:void 0,dataKey:s,value:j.value,payload:j.payload,points:t});return w.createElement(MW,{key:"dot-".concat(S),option:r,dotProps:N,className:i})}),b={};return u&&f!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),w.createElement(Tr,{zIndex:m},w.createElement(Qt,fh({className:n},b),y))}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){LW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t,r){return(t=$W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BW={xAxis:{},yAxis:{},zAxis:{}},PM=Cr({name:"cartesianAxis",initialState:BW,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ct()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ct()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ct()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ct()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ct()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ct()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ct()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ct()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ct()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=QO(QO({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:UW,replaceXAxis:qW,removeXAxis:HW,addYAxis:KW,replaceYAxis:GW,removeYAxis:FW,addZAxis:Ere,replaceZAxis:Nre,removeZAxis:Ore,updateYAxisWidth:YW}=PM.actions,VW=PM.reducer,WW=Z([Ut],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),XW=Z([WW,Pa,Da],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),lw=()=>ve(XW),QW=()=>ve(FG);function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return(t=ZW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=jy(jy(jy({},u),hs(i)),jb(i)),m;return w.isValidElement(i)?m=w.cloneElement(i,f):typeof i=="function"?m=i(f):m=w.createElement(wM,f),w.createElement(Qt,{className:"recharts-active-dot",clipPath:l},m)};function rX(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:l=Mt.activeDot}=e,u=ve(_i),f=QW();if(t==null||f==null)return null;var m=t.find(p=>f.includes(p.payload));return ht(m)?null:w.createElement(Tr,{zIndex:l},w.createElement(tX,{point:m,childIndex:Number(u),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}var nX="Invariant failed";function aX(e,t){throw new Error(nX)}var iX=["x","y"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(null,arguments)}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){sX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sX(e,t,r){return(t=oX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cX(e,t){if(e==null)return{};var r,n,i=uX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dX(e,t){var{x:r,y:n}=e,i=cX(e,iX),s="".concat(r),l=parseInt(s,10),u="".concat(n),f=parseInt(u,10),m="".concat(t.height||i.height),p=parseInt(m,10),g="".concat(t.width||i.width),y=parseInt(g,10);return lc(lc(lc(lc(lc({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:y,name:t.name,radius:t.radius})}function hh(e){return w.createElement(rw,Y0({shapeType:"rectangle",propTransformer:dX,activeClassName:"recharts-active-bar"},e))}var fX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(we(t))return t;var s=we(n)||ht(n);return s?t(n,i):(s||aX(),r)}},hX={},DM=Cr({name:"errorBars",initialState:hX,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Are,replaceErrorBar:Cre,removeErrorBar:Tre}=DM.actions,mX=DM.reducer,pX=["children"];function gX(e,t){if(e==null)return{};var r,n,i=vX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bX=w.createContext(yX);function MM(e){var{children:t}=e,r=gX(e,pX);return w.createElement(bX.Provider,{value:r},t)}function cw(e,t){var r,n,i=ve(m=>Ra(m,e)),s=ve(m=>Ia(m,t)),l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Yt.allowDataOverflow,u=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Vt.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function RM(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=lw(),{needClipX:s,needClipY:l,needClip:u}=cw(t,r);if(!u||!i)return null;var{x:f,y:m,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:s?f:f-p/2,y:l?m:m-g/2,width:s?p:p*2,height:l?g:g*2}))}function xX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Et(e.zIndex)?e.zIndex:t}var Sy={exports:{}},ky={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function wX(){if(eA)return ky;eA=1;var e=Uo();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return ky.useSyncExternalStoreWithSelector=function(f,m,p,g,y){var b=i(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=l(function(){function _(A){if(!E){if(E=!0,N=A,A=g(A),y!==void 0&&j.hasValue){var D=j.value;if(y(D,A))return k=D}return k=A}if(D=k,r(N,A))return D;var I=g(A);return y!==void 0&&y(D,I)?(N=A,D):(N=A,k=I)}var E=!1,N,k,T=p===void 0?null:p;return[function(){return _(m())},T===null?void 0:function(){return _(T())}]},[m,p,g,y]);var S=n(f,b[0],b[1]);return s(function(){j.hasValue=!0,j.value=S},[S]),u(S),S},ky}var tA;function _X(){return tA||(tA=1,Sy.exports=wX()),Sy.exports}_X();function jX(e){e()}function SX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var rA={notify(){},get:()=>[]};function kX(e,t){let r,n=rA,i=0,s=!1;function l(S){p();const _=n.subscribe(S);let E=!1;return()=>{E||(E=!0,_(),g())}}function u(){n.notify()}function f(){j.onStateChange&&j.onStateChange()}function m(){return s}function p(){i++,r||(r=e.subscribe(f),n=SX())}function g(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=rA)}function y(){s||(s=!0,p())}function b(){s&&(s=!1,g())}const j={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>n};return j}var EX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NX=EX(),OX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AX=OX(),CX=()=>NX||AX?w.useLayoutEffect:w.useEffect,TX=CX();function nA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function PX(e,t){if(nA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!nA(e[r[i]],t[r[i]]))return!1;return!0}var Ey=Symbol.for("react-redux-context"),Ny=typeof globalThis<"u"?globalThis:{};function DX(){if(!w.createContext)return{};const e=Ny[Ey]??(Ny[Ey]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var MX=DX();function RX(e){const{children:t,context:r,serverState:n,store:i}=e,s=w.useMemo(()=>{const f=kX(i);return{store:i,subscription:f,getServerState:n?()=>n:void 0}},[i,n]),l=w.useMemo(()=>i.getState(),[i]);TX(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const u=r||MX;return w.createElement(u.Provider,{value:s},t)}var IX=RX,LX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function $X(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function gm(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(LX.has(n)){if(e[n]==null&&t[n]==null)continue;if(!PX(e[n],t[n]))return!1}else if(!$X(e[n],t[n]))return!1;return!0}var zX=["onMouseEnter","onMouseLeave","onClick"],BX=["value","background","tooltipPosition"],UX=["id"],qX=["onMouseEnter","onClick","onMouseLeave"];function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(null,arguments)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){HX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t,r){return(t=KX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mh(e,t){if(e==null)return{};var r,n,i=FX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YX=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Fo(r,t),payload:e}]},VX=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:l,unit:u,tooltipType:f}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Fo(s,t),hide:l,type:f,color:i,unit:u}};return w.createElement(sw,{tooltipEntrySettings:m})});function WX(e){var t=ve(_i),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:u,onClick:f}=s,m=mh(s,zX),p=nw(l,n),g=aw(u),y=iw(f,n);if(!i||r==null)return null;var b=hs(i);return w.createElement(Tr,{zIndex:xX(i,Mt.barBackground)},r.map((j,S)=>{var{value:_,background:E,tooltipPosition:N}=j,k=mh(j,BX);if(!E)return null;var T=p(j,S),A=g(j,S),D=y(j,S),I=pr(pr(pr(pr(pr({option:i,isActive:String(S)===t},k),{},{fill:"#eee"},E),b),Uc(m,j,S)),{},{onMouseEnter:T,onMouseLeave:A,onClick:D,dataKey:n,index:S,className:"recharts-bar-background-rectangle"});return w.createElement(hh,Aa({key:"background-bar-".concat(S)},I))}))}function XX(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return pr(pr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return w.createElement(bM,{value:t?i:void 0},r)}function QX(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:l}=e,u=ve(_i),f=ve(Fx),m=r&&String(s)===u&&(f==null||l===f),p=m?r:t;return m?w.createElement(Tr,{zIndex:Mt.activeBar},w.createElement(hh,Aa({},n,{name:String(n.name)},i,{isActive:m,option:p,index:s,dataKey:l}))):w.createElement(hh,Aa({},n,{name:String(n.name)},i,{isActive:m,option:p,index:s,dataKey:l}))}function JX(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return w.createElement(hh,Aa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function ZX(e){var t,{data:r,props:n}=e,i=(t=Vr(n))!==null&&t!==void 0?t:{},{id:s}=i,l=mh(i,UX),{shape:u,dataKey:f,activeBar:m}=n,{onMouseEnter:p,onClick:g,onMouseLeave:y}=n,b=mh(n,qX),j=nw(p,f),S=aw(y),_=iw(g,f);return r?w.createElement(w.Fragment,null,r.map((E,N)=>w.createElement(Qt,Aa({key:"rectangle-".concat(E==null?void 0:E.x,"-").concat(E==null?void 0:E.y,"-").concat(E==null?void 0:E.value,"-").concat(N),className:"recharts-bar-rectangle"},Uc(b,E,N),{onMouseEnter:j(E,N),onMouseLeave:S(E,N),onClick:_(E,N)}),m?w.createElement(QX,{shape:u,activeBar:m,baseProps:l,entry:E,index:N,dataKey:f}):w.createElement(JX,{shape:u,baseProps:l,entry:E,index:N,dataKey:f})))):null}function eQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:m,onAnimationStart:p}=t,g=r.current,y=Xc(t,"recharts-bar-"),[b,j]=w.useState(!1),S=!b,_=w.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),E=w.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return w.createElement(XX,{showLabels:S,rects:n},w.createElement(Wc,{animationId:y,begin:l,duration:u,isActive:s,easing:f,onAnimationEnd:_,onAnimationStart:E,key:y},N=>{var k=N===1?n:n==null?void 0:n.map((T,A)=>{var D=g&&g[A];if(D)return pr(pr({},T),{},{x:ut(D.x,T.x,N),y:ut(D.y,T.y,N),width:ut(D.width,T.width,N),height:ut(D.height,T.height,N)});if(i==="horizontal"){var I=ut(0,T.height,N),W=ut(T.stackedBarStart,T.y,N);return pr(pr({},T),{},{y:W,height:I})}var Y=ut(0,T.width,N),re=ut(T.stackedBarStart,T.x,N);return pr(pr({},T),{},{width:Y,x:re})});return N>0&&(r.current=k??null),k==null?null:w.createElement(Qt,null,w.createElement(ZX,{props:t,data:k}))}),w.createElement(Jx,{label:t.label}),t.children)}function tQ(e){var t=w.useRef(null);return w.createElement(eQ,{previousRectanglesRef:t,props:e})}var IM=0,rQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:et(e,t)}};class nQ extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:l,needClip:u,background:f,id:m}=this.props;if(t||r==null)return null;var p=Ue("recharts-bar",i),g=m;return w.createElement(Qt,{className:p,id:m},u&&w.createElement("defs",null,w.createElement(RM,{clipPathId:g,xAxisId:s,yAxisId:l})),w.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},w.createElement(WX,{data:r,dataKey:n,background:f,allOtherBarProps:this.props}),w.createElement(tQ,this.props)))}}var aQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:IM,xAxisId:0,yAxisId:0,zIndex:Mt.bar};function iQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:p}=e,{needClip:g}=cw(t,r),y=Fc(),b=dr(),j=tw(e.children,Bo),S=ve(N=>DQ(N,t,r,b,e.id,j));if(y!=="vertical"&&y!=="horizontal")return null;var _,E=S==null?void 0:S[0];return E==null||E.height==null||E.width==null?_=0:_=y==="vertical"?E.height/2:E.width/2,w.createElement(MM,{xAxisId:t,yAxisId:r,data:S,dataPointFormatter:rQ,errorBarOffset:_},w.createElement(nQ,Aa({},e,{layout:y,needClip:g,data:S,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:p})))}function sQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:m,stackedData:p,displayedData:g,offset:y,cells:b,parentViewBox:j,dataStartIndex:S}=e,_=t==="horizontal"?u:l,E=p?_.scale.domain():null,N=O6({numericAxis:_}),k=_.scale(N);return g.map((T,A)=>{var D,I,W,Y,re,U;p?D=_6(p[A+S],E):(D=et(T,r),Array.isArray(D)||(D=[N,D]));var P=fX(n,IM)(D[1],A);if(t==="horizontal"){var B,[K,q]=[u.scale(D[0]),u.scale(D[1])];I=wE({axis:l,ticks:f,bandSize:s,offset:i.offset,entry:T,index:A}),W=(B=q??K)!==null&&B!==void 0?B:void 0,Y=i.size;var M=K-q;if(re=On(M)?0:M,U={x:I,y:y.top,width:Y,height:y.height},Math.abs(P)>0&&Math.abs(re)<Math.abs(P)){var L=Xt(re||P)*(Math.abs(P)-Math.abs(re));W-=L,re+=L}}else{var[V,X]=[l.scale(D[0]),l.scale(D[1])];if(I=V,W=wE({axis:u,ticks:m,bandSize:s,offset:i.offset,entry:T,index:A}),Y=X-V,re=i.size,U={x:y.left,y:W,width:y.width,height:re},Math.abs(P)>0&&Math.abs(Y)<Math.abs(P)){var ce=Xt(Y||P)*(Math.abs(P)-Math.abs(Y));Y+=ce}}if(I==null||W==null||Y==null||re==null)return null;var R=pr(pr({},T),{},{stackedBarStart:k,x:I,y:W,width:Y,height:re,value:p?D:D[1],payload:T,background:U,tooltipPosition:{x:I+Y/2,y:W+re/2},parentViewBox:j},b&&b[A]&&b[A].props);return R}).filter(Boolean)}function oQ(e){var t=It(e,aQ),r=dr();return w.createElement(ow,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(OM,{legendPayload:YX(t)}),w.createElement(VX,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(TM,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:N6(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(Tr,{zIndex:t.zIndex},w.createElement(iQ,Aa({},t,{id:n})))))}var uw=w.memo(oQ,gm);uw.displayName="Bar";function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){lQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lQ(e,t,r){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQ(e){var t=uQ(e,"string");return typeof t=="symbol"?t:t+""}function uQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dQ=(e,t)=>t,fQ=(e,t,r)=>r,hQ=(e,t,r,n)=>n,mQ=(e,t,r,n,i)=>i,du=Z([om,mQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),pQ=Z([du],e=>e==null?void 0:e.maxBarSize),gQ=(e,t,r,n,i,s)=>s,sA=(e,t,r)=>{var n=r??e;if(!ht(n))return ur(n,t,0)},vQ=Z([$e,om,dQ,fQ,hQ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),yQ=(e,t,r,n)=>{var i=$e(e);return i==="horizontal"?$0(e,"yAxis",r,n):$0(e,"xAxis",t,n)},bQ=(e,t,r)=>{var n=$e(e);return n==="horizontal"?eO(e,"xAxis",t):eO(e,"yAxis",r)},xQ=(e,t,r)=>{var n={},i=e.filter(am),s=e.filter(m=>m.stackId==null),l=i.reduce((m,p)=>(m[p.stackId]||(m[p.stackId]=[]),m[p.stackId].push(p),m),n),u=Object.entries(l).map(m=>{var[p,g]=m,y=g.map(j=>j.dataKey),b=sA(t,r,g[0].barSize);return{stackId:p,dataKeys:y,barSize:b}}),f=s.map(m=>{var p=[m.dataKey].filter(y=>y!=null),g=sA(t,r,m.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...f]},wQ=Z([vQ,K7,bQ],xQ),_Q=(e,t,r,n,i)=>{var s,l,u=du(e,t,r,n,i);if(u!=null){var f=$e(e),m=JP(e),{maxBarSize:p}=u,g=ht(p)?m:p,y,b;return f==="horizontal"?(y=wi(e,"xAxis",t,n),b=xi(e,"xAxis",t,n)):(y=wi(e,"yAxis",r,n),b=xi(e,"yAxis",r,n)),(s=(l=Mo(y,b,!0))!==null&&l!==void 0?l:g)!==null&&s!==void 0?s:0}},LM=(e,t,r,n)=>{var i=$e(e),s,l;return i==="horizontal"?(s=wi(e,"xAxis",t,n),l=xi(e,"xAxis",t,n)):(s=wi(e,"yAxis",r,n),l=xi(e,"yAxis",r,n)),Mo(s,l)};function jQ(e,t,r,n,i){var s=n.length;if(!(s<1)){var l=ur(e,r,0,!0),u,f=[];if(Et(n[0].barSize)){var m=!1,p=r/s,g=n.reduce((E,N)=>E+(N.barSize||0),0);g+=(s-1)*l,g>=r&&(g-=(s-1)*l,l=0),g>=r&&p>0&&(m=!0,p*=.9,g=s*p);var y=(r-g)/2>>0,b={offset:y-l,size:0};u=n.reduce((E,N)=>{var k,T={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:b.offset+b.size+l,size:m?p:(k=N.barSize)!==null&&k!==void 0?k:0}},A=[...E,T];return b=A[A.length-1].position,A},f)}else{var j=ur(t,r,0,!0);r-2*j-(s-1)*l<=0&&(l=0);var S=(r-2*j-(s-1)*l)/s;S>1&&(S>>=0);var _=Et(i)?Math.min(S,i):S;u=n.reduce((E,N,k)=>[...E,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:j+(S+l)*k+(S-_)/2,size:_}}],f)}return u}}var SQ=(e,t,r,n,i,s,l)=>{var u=ht(l)?t:l,f=jQ(r,n,i!==s?i:s,e,u);return i!==s&&f!=null&&(f=f.map(m=>tf(tf({},m),{},{position:tf(tf({},m.position),{},{offset:m.position.offset-i/2})}))),f},kQ=Z([wQ,JP,H7,ZP,_Q,LM,pQ],SQ),EQ=(e,t,r,n)=>wi(e,"xAxis",t,n),NQ=(e,t,r,n)=>wi(e,"yAxis",r,n),OQ=(e,t,r,n)=>xi(e,"xAxis",t,n),AQ=(e,t,r,n)=>xi(e,"yAxis",r,n),CQ=Z([kQ,du],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),TQ=(e,t)=>{var r=bx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===r)}}}},PQ=Z([yQ,du],TQ),DQ=Z([Ut,Mb,EQ,NQ,OQ,AQ,CQ,$e,tm,LM,PQ,du,gQ],(e,t,r,n,i,s,l,u,f,m,p,g,y)=>{var{chartData:b,dataStartIndex:j,dataEndIndex:S}=f;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||i==null||s==null||m==null)){var{data:_}=g,E;if(_!=null&&_.length>0?E=_:E=b==null?void 0:b.slice(j,S+1),E!=null)return sQ({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:E,offset:e,cells:y,dataStartIndex:j})}}),$M=e=>{var{chartData:t}=e,r=at(),n=dr();return w.useEffect(()=>n?()=>{}:(r(hO(t)),()=>{r(hO(void 0))}),[t,r,n]),null},oA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zM=Cr({name:"brush",initialState:oA,reducers:{setBrushSettings(e,t){return t.payload==null?oA:t.payload}}}),{setBrushSettings:Pre}=zM.actions,MQ=zM.reducer;function RQ(e,t,r){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQ(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dw{static create(t){return new dw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}RQ(dw,"EPS",1e-4);function $Q(e){return(e%180+180)%180}var zQ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=$Q(i),l=s*Math.PI/180,u=Math.atan(n/r),f=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},BQ={dots:[],areas:[],lines:[]},BM=Cr({name:"referenceElements",initialState:BQ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Nn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Nn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Nn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Dre,removeDot:Mre,addArea:Rre,removeArea:Ire,addLine:Lre,removeLine:$re}=BM.actions,UQ=BM.reducer,qQ=w.createContext(void 0),HQ=e=>{var{children:t}=e,[r]=w.useState("".concat(bc("recharts"),"-clip")),n=lw();if(n==null)return null;var{x:i,y:s,width:l,height:u}=n;return w.createElement(qQ.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:i,y:s,height:u,width:l}))),t)};function UM(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function KQ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zQ(n,r)}function GQ(e,t,r){var n=r==="width",{x:i,y:s,width:l,height:u}=e;return t===1?{start:n?i:s,end:n?i+l:s+u}:{start:n?i+l:s+u,end:n?i:s}}function ph(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function FQ(e,t){return UM(e,t+1)}function YQ(e,t,r,n,i){for(var s=(n||[]).slice(),{start:l,end:u}=t,f=0,m=1,p=l,g=function(){var j=n==null?void 0:n[f];if(j===void 0)return{v:UM(n,m)};var S=f,_,E=()=>(_===void 0&&(_=r(j,S)),_),N=j.coordinate,k=f===0||ph(e,N,E,p,u);k||(f=0,p=l,m+=1),k&&(p=N+e*(E()/2+i),f+=m)},y;m<=s.length;)if(y=g(),y)return y.v;return[]}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QQ(e,t,r,n,i){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:f}=t,m=function(y){var b=s[y],j,S=()=>(j===void 0&&(j=r(b,y)),j);if(y===l-1){var _=e*(b.coordinate+e*S()/2-f);s[y]=b=lr(lr({},b),{},{tickCoord:_>0?b.coordinate-_*e:b.coordinate})}else s[y]=b=lr(lr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var E=ph(e,b.tickCoord,S,u,f);E&&(f=b.tickCoord-e*(S()/2+i),s[y]=lr(lr({},b),{},{isShow:!0}))}},p=l-1;p>=0;p--)m(p);return s}function JQ(e,t,r,n,i,s){var l=(n||[]).slice(),u=l.length,{start:f,end:m}=t;if(s){var p=n[u-1],g=r(p,u-1),y=e*(p.coordinate+e*g/2-m);if(l[u-1]=p=lr(lr({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate}),p.tickCoord!=null){var b=ph(e,p.tickCoord,()=>g,f,m);b&&(m=p.tickCoord-e*(g/2+i),l[u-1]=lr(lr({},p),{},{isShow:!0}))}}for(var j=s?u-1:u,S=function(N){var k=l[N],T,A=()=>(T===void 0&&(T=r(k,N)),T);if(N===0){var D=e*(k.coordinate-e*A()/2-f);l[N]=k=lr(lr({},k),{},{tickCoord:D<0?k.coordinate-D*e:k.coordinate})}else l[N]=k=lr(lr({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var I=ph(e,k.tickCoord,A,f,m);I&&(f=k.tickCoord+e*(A()/2+i),l[N]=lr(lr({},k),{},{isShow:!0}))}},_=0;_<j;_++)S(_);return l}function fw(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:f,tickFormatter:m,unit:p,angle:g}=e;if(!i||!i.length||!n)return[];if(we(f)||Vc.isSsr){var y;return(y=FQ(i,we(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],j=u==="top"||u==="bottom"?"width":"height",S=p&&j==="width"?pc(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(k,T)=>{var A=typeof m=="function"?m(k.value,T):k.value;return j==="width"?KQ(pc(A,{fontSize:t,letterSpacing:r}),S,g):pc(A,{fontSize:t,letterSpacing:r})[j]},E=i.length>=2?Xt(i[1].coordinate-i[0].coordinate):1,N=GQ(s,E,j);return f==="equidistantPreserveStart"?YQ(E,N,_,i,l):(f==="preserveStart"||f==="preserveStartEnd"?b=JQ(E,N,_,i,l,f==="preserveStartEnd"):b=QQ(E,N,_,i,l),b.filter(k=>k.isShow))}var ZQ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,f=i+s,m=l+f+u+(r?n:0);return Math.round(m)}return 0},eJ=["axisLine","width","height","className","hide","ticks","axisType"];function tJ(e,t){if(e==null)return{};var r,n,i=rJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(null,arguments)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){nJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nJ(e,t,r){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Mt.axis};function sJ(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var m=Pt(Pt(Pt({},f),Vr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);m=Pt(Pt({},m),{},{x1:t,y1:r+p*i,x2:t+n,y2:r+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);m=Pt(Pt({},m),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+i})}return w.createElement("line",ys({},m,{className:Ue("recharts-cartesian-axis-line",ms(u,"className"))}))}function oJ(e,t,r,n,i,s,l,u,f){var m,p,g,y,b,j,S=u?-1:1,_=e.tickSize||l,E=we(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":m=p=e.coordinate,y=r+ +!u*i,g=y-S*_,j=g-S*f,b=E;break;case"left":g=y=e.coordinate,p=t+ +!u*n,m=p-S*_,b=m-S*f,j=E;break;case"right":g=y=e.coordinate,p=t+ +u*n,m=p+S*_,b=m+S*f,j=E;break;default:m=p=e.coordinate,y=r+ +u*i,g=y+S*_,j=g+S*f,b=E;break}return{line:{x1:m,y1:g,x2:p,y2:y},tick:{x:b,y:j}}}function lJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function cJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function uJ(e){var{option:t,tickProps:r,value:n}=e,i,s=Ue(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,Pt(Pt({},r),{},{className:s}));else if(typeof t=="function")i=t(Pt(Pt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ue(l,t==null?void 0:t.className)),i=w.createElement(fm,ys({},r,{className:l}),n)}return i}var dJ=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:f,tickTextProps:m,orientation:p,mirror:g,x:y,y:b,width:j,height:S,tickSize:_,tickMargin:E,fontSize:N,letterSpacing:k,getTicksConfig:T,events:A,axisType:D}=e,I=fw(Pt(Pt({},T),{},{ticks:r}),N,k),W=lJ(p,g),Y=cJ(p,g),re=Vr(T),U=hs(n),P={};typeof i=="object"&&(P=i);var B=Pt(Pt({},re),{},{fill:"none"},P),K=I.map(L=>Pt({entry:L},oJ(L,y,b,j,S,p,_,g,E))),q=K.map(L=>{var{entry:V,line:X}=L;return w.createElement(Qt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},i&&w.createElement("line",ys({},B,X,{className:Ue("recharts-cartesian-axis-tick-line",ms(i,"className"))})))}),M=K.map((L,V)=>{var{entry:X,tick:ce}=L,R=Pt(Pt(Pt(Pt({textAnchor:W,verticalAnchor:Y},re),{},{stroke:"none",fill:s},U),ce),{},{index:V,payload:X,visibleTicksCount:I.length,tickFormatter:l,padding:f},m);return w.createElement(Qt,ys({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},Uc(A,X,V)),n&&w.createElement(uJ,{option:n,tickProps:R,value:"".concat(typeof l=="function"?l(X.value,V):X.value).concat(u||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},M.length>0&&w.createElement(Tr,{zIndex:Mt.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},M)),q.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},q))}),fJ=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:l,ticks:u,axisType:f}=e,m=tJ(e,eJ),[p,g]=w.useState(""),[y,b]=w.useState(""),j=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return ZQ({ticks:j.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=w.useCallback(_=>{if(_){var E=_.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=E;var N=E[0];if(N){var k=window.getComputedStyle(N),T=k.fontSize,A=k.letterSpacing;(T!==p||A!==y)&&(g(T),b(A))}}},[p,y]);return l||n!=null&&n<=0||i!=null&&i<=0?null:w.createElement(Tr,{zIndex:e.zIndex},w.createElement(Qt,{className:Ue("recharts-cartesian-axis",s)},w.createElement(sJ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Vr(e)}),w.createElement(dJ,{ref:S,axisType:f,events:m,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement($Y,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(VY,{label:e.label,labelRef:e.labelRef}),e.children)))}),hw=w.forwardRef((e,t)=>{var r=It(e,wa);return w.createElement(fJ,ys({},r,{ref:t}))});hw.displayName="CartesianAxis";var hJ=["x1","y1","x2","y2","key"],mJ=["offset"],pJ=["xAxisId","yAxisId"],gJ=["xAxisId","yAxisId"];function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(null,arguments)}function gh(e,t){if(e==null)return{};var r,n,i=xJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:l,ry:u}=e;return w.createElement("rect",{x:n,y:i,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function qM(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:l,x2:u,y2:f,key:m}=r,p=gh(r,hJ),g=(i=Vr(p))!==null&&i!==void 0?i:{},{offset:y}=g,b=gh(g,mJ);n=w.createElement("line",ls({},b,{x1:s,y1:l,x2:u,y2:f,fill:"none",key:m}))}return n}function _J(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,u=gh(e,pJ),f=i.map((m,p)=>{var g=cr(cr({},u),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(p),index:p});return w.createElement(qM,{key:"line-".concat(p),option:n,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function jJ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,u=gh(e,gJ),f=i.map((m,p)=>{var g=cr(cr({},u),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(p),index:p});return w.createElement(qM,{option:n,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function SJ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:l,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var m=u.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==m[0]&&m.unshift(0);var p=m.map((g,y)=>{var b=!m[y+1],j=b?i+l-g:m[y+1]-g;if(j<=0)return null;var S=y%t.length;return w.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:j,width:s,stroke:"none",fill:t[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function kJ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:l,height:u,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var m=f.map(g=>Math.round(g+i-i)).sort((g,y)=>g-y);i!==m[0]&&m.unshift(0);var p=m.map((g,y)=>{var b=!m[y+1],j=b?i+l-g:m[y+1]-g;if(j<=0)return null;var S=y%r.length;return w.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:j,height:u,stroke:"none",fill:r[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var EJ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return E2(fw(cr(cr(cr({},wa),r),{},{ticks:N2(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},NJ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return E2(fw(cr(cr(cr({},wa),r),{},{ticks:N2(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},OJ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Mt.grid};function mw(e){var t=Ib(),r=Lb(),n=R2(),i=cr(cr({},It(e,OJ)),{},{x:we(e.x)?e.x:n.left,y:we(e.y)?e.y:n.top,width:we(e.width)?e.width:n.width,height:we(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:f,width:m,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:b}=i,j=dr(),S=ve(Y=>tO(Y,"xAxis",s,j)),_=ve(Y=>tO(Y,"yAxis",l,j));if(!Vn(m)||!Vn(p)||!we(u)||!we(f))return null;var E=i.verticalCoordinatesGenerator||EJ,N=i.horizontalCoordinatesGenerator||NJ,{horizontalPoints:k,verticalPoints:T}=i;if((!k||!k.length)&&typeof N=="function"){var A=y&&y.length,D=N({yAxis:_?cr(cr({},_),{},{ticks:A?y:_.ticks}):void 0,width:t??m,height:r??p,offset:n},A?!0:g);Uf(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(k=D)}if((!T||!T.length)&&typeof E=="function"){var I=b&&b.length,W=E({xAxis:S?cr(cr({},S),{},{ticks:I?b:S.ticks}):void 0,width:t??m,height:r??p,offset:n},I?!0:g);Uf(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof W,"]")),Array.isArray(W)&&(T=W)}return w.createElement(Tr,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(wJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(SJ,ls({},i,{horizontalPoints:k})),w.createElement(kJ,ls({},i,{verticalPoints:T})),w.createElement(_J,ls({},i,{offset:n,horizontalPoints:k,xAxis:S,yAxis:_})),w.createElement(jJ,ls({},i,{offset:n,verticalPoints:T,xAxis:S,yAxis:_}))))}mw.displayName="CartesianGrid";var HM=(e,t,r,n)=>wi(e,"xAxis",t,n),KM=(e,t,r,n)=>xi(e,"xAxis",t,n),GM=(e,t,r,n)=>wi(e,"yAxis",r,n),FM=(e,t,r,n)=>xi(e,"yAxis",r,n),AJ=Z([$e,HM,GM,KM,FM],(e,t,r,n,i)=>Si(e,"xAxis")?Mo(t,n,!1):Mo(r,i,!1)),CJ=(e,t,r,n,i)=>i;function TJ(e){return e.type==="line"}var PJ=Z([om,CJ],(e,t)=>e.filter(TJ).find(r=>r.id===t)),DJ=Z([$e,HM,GM,KM,FM,PJ,AJ,tm],(e,t,r,n,i,s,l,u)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=u;if(!(s==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=s,b;if(y!=null&&y.length>0?b=y:b=f==null?void 0:f.slice(m,p+1),b!=null)return eZ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:b})}});function MJ(e){var t=hs(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:s}=t,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var RJ=["id"],IJ=["type","layout","connectNulls","needClip","shape"],LJ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(null,arguments)}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){$J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $J(e,t,r){return(t=zJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJ(e){var t=BJ(e,"string");return typeof t=="symbol"?t:t+""}function BJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pw(e,t){if(e==null)return{};var r,n,i=UJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qJ=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Fo(r,t),payload:e}]},HJ=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:s,name:l,hide:u,unit:f,tooltipType:m}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:Fo(l,t),hide:u,type:m,color:n,unit:f}};return w.createElement(sw,{tooltipEntrySettings:p})}),YM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function KJ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var GJ=(e,t,r)=>{var n=r.reduce((g,y)=>g+y);if(!n)return YM(t,e);for(var i=Math.floor(e/n),s=e%n,l=t-e,u=[],f=0,m=0;f<r.length;m+=r[f],++f)if(m+r[f]>s){u=[...r.slice(0,f),s-m];break}var p=u.length%2===0?[0,l]:[l];return[...KJ(r,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function FJ(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:s,needClip:l}=n,{id:u}=n,f=pw(n,RJ),m=Vr(f);return w.createElement(IW,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:m,needClip:l,clipPathId:t})}function YJ(e){var{showLabels:t,children:r,points:n}=e,i=w.useMemo(()=>n==null?void 0:n.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return qn(qn({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(bM,{value:t?i:void 0},r)}function fA(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:s}=e,{type:l,layout:u,connectNulls:f,needClip:m,shape:p}=s,g=pw(s,IJ),y=qn(qn({},vr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:u,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,(n==null?void 0:n.length)>1&&w.createElement(rw,Dc({shapeType:"curve",option:p},y,{pathRef:r})),w.createElement(FJ,{points:n,clipPathId:t,props:s}))}function VJ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function WJ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:m,animationDuration:p,animationEasing:g,animateNewValues:y,width:b,height:j,onAnimationEnd:S,onAnimationStart:_}=r,E=i.current,N=Xc(l,"recharts-line-"),k=w.useRef(N),[T,A]=w.useState(!1),D=!T,I=w.useCallback(()=>{typeof S=="function"&&S(),A(!1)},[S]),W=w.useCallback(()=>{typeof _=="function"&&_(),A(!0)},[_]),Y=VJ(n.current),re=w.useRef(0);k.current!==N&&(re.current=s.current,k.current=N);var U=re.current;return w.createElement(YJ,{points:l,showLabels:D},r.children,w.createElement(Wc,{animationId:N,begin:m,duration:p,isActive:f,easing:g,onAnimationEnd:I,onAnimationStart:W,key:N},P=>{var B=ut(U,Y+U,P),K=Math.min(B,Y),q;if(f)if(u){var M="".concat(u).split(/[,\s]+/gim).map(X=>parseFloat(X));q=GJ(K,Y,M)}else q=YM(Y,K);else q=u==null?void 0:String(u);if(P>0&&Y>0&&(i.current=l,s.current=Math.max(s.current,K)),E){var L=E.length/l.length,V=P===1?l:l.map((X,ce)=>{var R=Math.floor(ce*L);if(E[R]){var G=E[R];return qn(qn({},X),{},{x:ut(G.x,X.x,P),y:ut(G.y,X.y,P)})}return y?qn(qn({},X),{},{x:ut(b*2,X.x,P),y:ut(j/2,X.y,P)}):qn(qn({},X),{},{x:X.x,y:X.y})});return i.current=V,w.createElement(fA,{props:r,points:V,clipPathId:t,pathRef:n,strokeDasharray:q})}return w.createElement(fA,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:q})}),w.createElement(Jx,{label:r.label}))}function XJ(e){var{clipPathId:t,props:r}=e,n=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(WJ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:s})}var QJ=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:et(e.payload,t)}};class JJ extends w.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:s,yAxisId:l,top:u,left:f,width:m,height:p,id:g,needClip:y,zIndex:b}=this.props;if(t)return null;var j=Ue("recharts-line",i),S=g,{r:_,strokeWidth:E}=MJ(r),N=NM(r),k=_*2+E,T=y?"url(#clipPath-".concat(N?"":"dots-").concat(S,")"):void 0;return w.createElement(Tr,{zIndex:b},w.createElement(Qt,{className:j},y&&w.createElement("defs",null,w.createElement(RM,{clipPathId:S,xAxisId:s,yAxisId:l}),!N&&w.createElement("clipPath",{id:"clipPath-dots-".concat(S)},w.createElement("rect",{x:f-k/2,y:u-k/2,width:m+k,height:p+k}))),w.createElement(MM,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:QJ,errorBarOffset:0},w.createElement(XJ,{props:this.props,clipPathId:S}))),w.createElement(rX,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var VM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Mt.line,type:"linear"};function ZJ(e){var t=It(e,VM),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,hide:m,isAnimationActive:p,label:g,legendType:y,xAxisId:b,yAxisId:j,id:S}=t,_=pw(t,LJ),{needClip:E}=cw(b,j),N=lw(),k=Fc(),T=dr(),A=ve(re=>DJ(re,b,j,T,S));if(k!=="horizontal"&&k!=="vertical"||A==null||N==null)return null;var{height:D,width:I,x:W,y:Y}=N;return w.createElement(JJ,Dc({},_,{id:S,connectNulls:u,dot:f,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:m,label:g,legendType:y,xAxisId:b,yAxisId:j,points:A,layout:k,height:D,width:I,left:W,top:Y,needClip:E}))}function eZ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:f}=e;return f.map((m,p)=>{var g=et(m,l);if(t==="horizontal"){var y=xE({axis:r,ticks:i,bandSize:u,entry:m,index:p}),b=ht(g)?null:n.scale(g);return{x:y,y:b,value:g,payload:m}}var j=ht(g)?null:r.scale(g),S=xE({axis:n,ticks:s,bandSize:u,entry:m,index:p});return j==null||S==null?null:{x:j,y:S,value:g,payload:m}}).filter(Boolean)}function tZ(e){var t=It(e,VM),r=dr();return w.createElement(ow,{id:t.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(OM,{legendPayload:qJ(t)}),w.createElement(HJ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(TM,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(ZJ,Dc({},t,{id:n}))))}var gw=w.memo(tZ,gm);gw.displayName="Line";var rZ=["domain","range"],nZ=["domain","range"];function hA(e,t){if(e==null)return{};var r,n,i=aZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function WM(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=hA(e,rZ),{domain:s,range:l}=t,u=hA(t,nZ);return!mA(r,s)||!mA(n,l)?!1:gm(i,u)}var iZ=["dangerouslySetInnerHTML","ticks"],sZ=["id"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(null,arguments)}function pA(e,t){if(e==null)return{};var r,n,i=oZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lZ(e){var t=at(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(UW(e)):r.current!==e&&t(qW({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(HW(r.current)),r.current=null)},[t]),null}var cZ=e=>{var{xAxisId:t,className:r}=e,n=ve(Mb),i=dr(),s="xAxis",l=ve(_=>Zo(_,s,t,i)),u=ve(_=>TD(_,s,t,i)),f=ve(_=>ND(_,t)),m=ve(_=>UK(_,t)),p=ve(_=>lD(_,t));if(f==null||m==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,b=pA(e,iZ),{id:j}=p,S=pA(p,sZ);return w.createElement(hw,V0({},b,S,{scale:l,x:m.x,y:m.y,width:f.width,height:f.height,className:Ue("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u,axisType:s}))},uZ={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:Yt.allowDecimals,allowDuplicatedCategory:Yt.allowDuplicatedCategory,angle:Yt.angle,axisLine:wa.axisLine,height:Yt.height,hide:!1,includeHidden:Yt.includeHidden,interval:Yt.interval,minTickGap:Yt.minTickGap,mirror:Yt.mirror,orientation:Yt.orientation,padding:Yt.padding,reversed:Yt.reversed,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,tickLine:wa.tickLine,tickSize:wa.tickSize,type:Yt.type,xAxisId:0},dZ=e=>{var t=It(e,uZ);return w.createElement(w.Fragment,null,w.createElement(lZ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(cZ,t))},vw=w.memo(dZ,WM);vw.displayName="XAxis";var fZ=["dangerouslySetInnerHTML","ticks"],hZ=["id"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(null,arguments)}function gA(e,t){if(e==null)return{};var r,n,i=mZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pZ(e){var t=at(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(KW(e)):r.current!==e&&t(GW({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(FW(r.current)),r.current=null)},[t]),null}var gZ=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=w.useRef(null),l=w.useRef(null),u=ve(Mb),f=dr(),m=at(),p="yAxis",g=ve(A=>Zo(A,p,t,f)),y=ve(A=>OD(A,t)),b=ve(A=>HK(A,t)),j=ve(A=>TD(A,p,t,f)),S=ve(A=>cD(A,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!y||Qx(i)||w.isValidElement(i)||S==null)){var A=s.current;if(A){var D=A.getCalculatedWidth();Math.round(y.width)!==Math.round(D)&&m(YW({id:t,width:D}))}}},[j,y,m,i,t,n,S]),y==null||b==null||S==null)return null;var{dangerouslySetInnerHTML:_,ticks:E}=e,N=gA(e,fZ),{id:k}=S,T=gA(S,hZ);return w.createElement(hw,W0({},N,T,{ref:s,labelRef:l,scale:g,x:b.x,y:b.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:Ue("recharts-".concat(p," ").concat(p),r),viewBox:u,ticks:j,axisType:p}))},vZ={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:Vt.allowDecimals,allowDuplicatedCategory:Vt.allowDuplicatedCategory,angle:Vt.angle,axisLine:wa.axisLine,hide:!1,includeHidden:Vt.includeHidden,interval:Vt.interval,minTickGap:Vt.minTickGap,mirror:Vt.mirror,orientation:Vt.orientation,padding:Vt.padding,reversed:Vt.reversed,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,tickLine:wa.tickLine,tickSize:wa.tickSize,type:Vt.type,width:Vt.width,yAxisId:0},yZ=e=>{var t=It(e,vZ);return w.createElement(w.Fragment,null,w.createElement(pZ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(gZ,t))},Mc=w.memo(yZ,WM);Mc.displayName="YAxis";var bZ=(e,t)=>t,yw=Z([bZ,$e,sD,Ht,YD,La,iF,Ut],fF),bw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},XM=hn("mouseClick"),QM=Kc();QM.startListening({actionCreator:XM,effect:(e,t)=>{var r=e.payload,n=yw(t.getState(),bw(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(nG({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var X0=hn("mouseMove"),JM=Kc(),rf=null;JM.startListening({actionCreator:X0,effect:(e,t)=>{var r=e.payload;rf!==null&&cancelAnimationFrame(rf);var n=bw(r);rf=requestAnimationFrame(()=>{var i=t.getState(),s=Bx(i,i.tooltip.settings.shared);if(s==="axis"){var l=yw(i,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(zD({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch($D())}rf=null})}});var vA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},ZM=Cr({name:"rootProps",initialState:vA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:vA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xZ=ZM.reducer,{updateOptions:wZ}=ZM.actions,eR=Cr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:_Z}=eR.actions,jZ=eR.reducer,tR=hn("keyDown"),rR=hn("focus"),xw=Kc();xw.startListening({actionCreator:tR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Ux(i,tl(r),iu(r),cu(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=La(r);if(s==="Enter"){var m=lh(r,"axis","hover",String(i.index));t.dispatch(B0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:m}));return}var p=YK(r),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,b=u+y*g;if(!(f==null||b>=f.length||b<0)){var j=lh(r,"axis","hover",String(b));t.dispatch(B0({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:j}))}}}}}});xw.startListening({actionCreator:rR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",l=lh(r,"axis","hover",String(s));t.dispatch(B0({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var un=hn("externalEvent"),nR=Kc(),Oy=new Map;nR.startListening({actionCreator:un,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=Oy.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:HG(u),activeDataKey:Fx(u),activeIndex:_i(u),activeLabel:XD(u),activeTooltipIndex:_i(u),isTooltipActive:KG(u)};r(f,n)}finally{Oy.delete(i)}});Oy.set(i,l)}}});var SZ=Z([el],e=>e.tooltipItemPayloads),kZ=Z([SZ,ou,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(u=>u.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var l=t(s,r);return l}}}),aR=hn("touchMove"),iR=Kc();iR.startListening({actionCreator:aR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Bx(n,n.tooltip.settings.shared);if(i==="axis"){var s=yw(n,bw({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(zD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(A2),p=(l=f.getAttribute(C2))!==null&&l!==void 0?l:void 0,g=kZ(t.getState(),m,p);t.dispatch(LD({activeDataKey:p,activeIndex:m,activeCoordinate:g}))}}}});var EZ=QT({brush:MQ,cartesianAxis:VW,chartData:HF,errorBars:mX,graphicalItems:eW,layout:g6,legend:Sq,options:$F,polarAxis:pV,polarOptions:jZ,referenceElements:UQ,rootProps:xZ,tooltip:aG,zIndex:EF}),NZ=function(t){return UU({reducer:EZ,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([QM.middleware,JM.middleware,xw.middleware,nR.middleware,iR.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(f2({type:"raf"}))},devTools:Vc.devToolsEnabled})};function sR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=dr(),s=w.useRef(null);if(i)return r;s.current==null&&(s.current=NZ(t));var l=kb;return w.createElement(IX,{context:l,store:s.current},r)}function OZ(e){var{layout:t,margin:r}=e,n=at(),i=dr();return w.useEffect(()=>{i||(n(h6(t)),n(f6(r)))},[n,i,t,r]),null}var oR=w.memo(OZ,gm);function lR(e){var t=at();return w.useEffect(()=>{t(wZ(e))},[t,e]),null}function yA(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=AM("".concat(n).concat(t)),s=at();return w.useLayoutEffect(()=>(s(SF({zIndex:t,elementId:i,isPanorama:r})),()=>{s(kF({zIndex:t,isPanorama:r}))}),[s,t,i,r]),w.createElement("g",{tabIndex:-1,id:i})}function bA(e){var{children:t,isPanorama:r}=e,n=ve(mF);if(!n||n.length===0)return t;var i=n.filter(l=>l<0),s=n.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(yA,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>w.createElement(yA,{key:l,zIndex:l,isPanorama:r})))}var AZ=["children"];function CZ(e,t){if(e==null)return{};var r,n,i=TZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}var PZ={width:"100%",height:"100%",display:"block"},DZ=w.forwardRef((e,t)=>{var r=Ib(),n=Lb(),i=Y2();if(!Vn(r)||!Vn(n))return null;var{children:s,otherAttributes:l,title:u,desc:f}=e,m,p;return l!=null&&(typeof l.tabIndex=="number"?m=l.tabIndex:m=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),w.createElement(pb,vh({},l,{title:u,desc:f,role:p,tabIndex:m,width:r,height:n,style:PZ,ref:t}),s)}),MZ=e=>{var{children:t}=e,r=ve(Hh);if(!r)return null;var{width:n,height:i,y:s,x:l}=r;return w.createElement(pb,{width:n,height:i,x:l,y:s},t)},xA=w.forwardRef((e,t)=>{var{children:r}=e,n=CZ(e,AZ),i=dr();return i?w.createElement(MZ,null,w.createElement(bA,{isPanorama:!0},r)):w.createElement(DZ,vh({ref:t},n),w.createElement(bA,{isPanorama:!1},r))});function RZ(){var e=at(),[t,r]=w.useState(null),n=ve(M6);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Et(s)&&s!==n&&e(p6(s))}},[t,e,n]),r}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){LZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LZ(e,t,r){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bs.apply(null,arguments)}var BZ=()=>(JF(),null);function yh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var UZ=w.forwardRef((e,t)=>{var r,n,i=w.useRef(null),[s,l]=w.useState({containerWidth:yh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:yh((n=e.style)===null||n===void 0?void 0:n.height)}),u=w.useCallback((m,p)=>{l(g=>{var y=Math.round(m),b=Math.round(p);return g.containerWidth===y&&g.containerHeight===b?g:{containerWidth:y,containerHeight:b}})},[]),f=w.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=m.getBoundingClientRect();u(p,g);var y=j=>{var{width:S,height:_}=j[0].contentRect;u(S,_)},b=new ResizeObserver(y);b.observe(m),i.current=b}},[t,u]);return w.useEffect(()=>()=>{var m=i.current;m!=null&&m.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(Gh,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",bs({ref:f},e)))}),qZ=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=w.useState({containerWidth:yh(r),containerHeight:yh(n)}),l=w.useCallback((f,m)=>{s(p=>{var g=Math.round(f),y=Math.round(m);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),u=w.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:m,height:p}=f.getBoundingClientRect();l(m,p)}},[t,l]);return w.createElement(w.Fragment,null,w.createElement(Gh,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",bs({ref:u},e)))}),HZ=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(Gh,{width:r,height:n}),w.createElement("div",bs({ref:t},e)))}),KZ=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return ja(r)||ja(n)?w.createElement(qZ,bs({},e,{ref:t})):w.createElement(HZ,bs({},e,{ref:t}))});function GZ(e){return e===!0?UZ:KZ}var FZ=w.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:b,onTouchMove:j,onTouchStart:S,style:_,width:E,responsive:N,dispatchTouchEvents:k=!0}=e,T=w.useRef(null),A=at(),[D,I]=w.useState(null),[W,Y]=w.useState(null),re=RZ(),U=Rb(),P=(U==null?void 0:U.width)>0?U.width:E,B=(U==null?void 0:U.height)>0?U.height:i,K=w.useCallback(ee=>{re(ee),typeof t=="function"&&t(ee),I(ee),Y(ee),ee!=null&&(T.current=ee)},[re,t,I,Y]),q=w.useCallback(ee=>{A(XM(ee)),A(un({handler:s,reactEvent:ee}))},[A,s]),M=w.useCallback(ee=>{A(X0(ee)),A(un({handler:m,reactEvent:ee}))},[A,m]),L=w.useCallback(ee=>{A($D()),A(un({handler:p,reactEvent:ee}))},[A,p]),V=w.useCallback(ee=>{A(X0(ee)),A(un({handler:g,reactEvent:ee}))},[A,g]),X=w.useCallback(()=>{A(rR())},[A]),ce=w.useCallback(ee=>{A(tR(ee.key))},[A]),R=w.useCallback(ee=>{A(un({handler:l,reactEvent:ee}))},[A,l]),G=w.useCallback(ee=>{A(un({handler:u,reactEvent:ee}))},[A,u]),H=w.useCallback(ee=>{A(un({handler:f,reactEvent:ee}))},[A,f]),se=w.useCallback(ee=>{A(un({handler:y,reactEvent:ee}))},[A,y]),he=w.useCallback(ee=>{A(un({handler:S,reactEvent:ee}))},[A,S]),le=w.useCallback(ee=>{k&&A(aR(ee)),A(un({handler:j,reactEvent:ee}))},[A,k,j]),ne=w.useCallback(ee=>{A(un({handler:b,reactEvent:ee}))},[A,b]),me=GZ(N);return w.createElement(nM.Provider,{value:D},w.createElement(hT.Provider,{value:W},w.createElement(me,{width:P??(_==null?void 0:_.width),height:B??(_==null?void 0:_.height),className:Ue("recharts-wrapper",n),style:IZ({position:"relative",cursor:"default",width:P,height:B},_),onClick:q,onContextMenu:R,onDoubleClick:G,onFocus:X,onKeyDown:ce,onMouseDown:H,onMouseEnter:M,onMouseLeave:L,onMouseMove:V,onMouseUp:se,onTouchEnd:ne,onTouchMove:le,onTouchStart:he,ref:K},w.createElement(BZ,null),r)))}),YZ=["width","height","responsive","children","className","style","compact","title","desc"];function VZ(e,t){if(e==null)return{};var r,n,i=WZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cR=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:l,style:u,compact:f,title:m,desc:p}=e,g=VZ(e,YZ),y=Vr(g);return f?w.createElement(w.Fragment,null,w.createElement(Gh,{width:r,height:n}),w.createElement(xA,{otherAttributes:y,title:m,desc:p},s)):w.createElement(FZ,{className:l,style:u,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(xA,{otherAttributes:y,title:m,desc:p,ref:t},w.createElement(HQ,null,s)))});function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(null,arguments)}var XZ={top:5,right:5,bottom:5,left:5},QZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:XZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},JZ=w.forwardRef(function(t,r){var n,i=It(t.categoricalChartProps,QZ),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:m}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(sR,{preloadedState:{options:p},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:s},w.createElement($M,{chartData:m.data}),w.createElement(oR,{layout:i.layout,margin:i.margin}),w.createElement(lR,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(cR,Q0({},i,{ref:r})))});function ZZ(e){var t=at();return w.useEffect(()=>{t(_Z(e))},[t,e]),null}var eee=["layout"];function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(null,arguments)}function tee(e,t){if(e==null)return{};var r,n,i=ree(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ree(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nee={top:5,right:5,bottom:5,left:5},uR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},aee=w.forwardRef(function(t,r){var n,i=It(t.categoricalChartProps,uR),{layout:s}=i,l=tee(i,eee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=t,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(sR,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},w.createElement($M,{chartData:i.data}),w.createElement(oR,{layout:s,margin:i.margin}),w.createElement(lR,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),w.createElement(ZZ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(cR,J0({},l,{ref:r})))});function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){iee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iee(e,t,r){return(t=see(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function see(e){var t=oee(e,"string");return typeof t=="symbol"?t:t+""}function oee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lee=["item"],cee=jA(jA({},uR),{},{layout:"centric",startAngle:0,endAngle:360}),SA=w.forwardRef((e,t)=>{var r=It(e,cee);return w.createElement(aee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:lee,tooltipPayloadSearcher:aM,categoricalChartProps:r,ref:t})}),uee=["axis"],dR=w.forwardRef((e,t)=>w.createElement(JZ,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uee,tooltipPayloadSearcher:aM,categoricalChartProps:e,ref:t}));const Z0=e=>{if(!e)return"N/A";const r=e.split(" ")[0].split("-");if(r.length!==3)return e;const[n,i,s]=r;return`${s}-${i}-${n}`},dee=()=>{const e=Mn(),[t,r]=w.useState("current"),[n,i]=w.useState(!0),[s,l]=w.useState({totalBookings:0,totalRevenue:0,pendingBookings:0,totalParticipants:0}),[u,f]=w.useState([]),[m,p]=w.useState([]),[g,y]=w.useState([]),[b,j]=w.useState([]),[S,_]=w.useState(!1);w.useEffect(()=>{(async()=>{try{i(!0);const{data:k,error:T}=await Se.from("bookings").select(`
                        *,
                        adventure:adventures(id, name, duration, max_capacity)
                    `).order("created_at",{ascending:!1});if(T)throw T;if(k){const A=k.filter(R=>R.status!=="Cancelada"),D=A.length,I=A.reduce((R,G)=>R+(G.total_amount||0),0),W=A.filter(R=>R.status==="Pendente").length,Y=A.reduce((R,G)=>R+(G.adults||0)+(G.children||0)+(G.babies||0),0);l({totalBookings:D,totalRevenue:I,pendingBookings:W,totalParticipants:Y});const re=new Date().toISOString().split("T")[0],U=A.filter(R=>R.date>=re),P=new Map;U.forEach(R=>{var G;if((G=R.adventure)!=null&&G.max_capacity){const H=`${R.adventure.id}-${R.date}-${R.time}`,se=P.get(H)||{name:`${R.adventure.name} (${R.date} ${R.time})`,current:0,max:R.adventure.max_capacity};se.current+=(R.adults||0)+(R.children||0)+(R.babies||0),P.set(H,se)}});const B=Array.from(P.values()).filter(R=>R.current/R.max>=.8).map(R=>{var G,H,se,he;return{name:R.name,occupancy:R.current,max:R.max,adventureName:R.name.split(" (")[0],date:((H=(G=R.name.match(/\(([^)]+)\)/))==null?void 0:G[1])==null?void 0:H.split(" ")[0])||"",time:((he=(se=R.name.match(/\(([^)]+)\)/))==null?void 0:se[1])==null?void 0:he.split(" ")[1])||""}}).sort((R,G)=>G.occupancy/G.max-R.occupancy/R.max);j(B),y(B.slice(0,3));const K=A.slice(0,5).map(R=>{var G,H,se;return{id:R.id,startDate:Z0(R.date),clientName:R.client_name,adventureName:((G=R.adventure)==null?void 0:G.name)||"N/A",duration:((H=R.adventure)==null?void 0:H.duration)||"N/A",participants:(R.adults||0)+(R.children||0)+(R.babies||0),totalValue:((se=R.total_amount)==null?void 0:se.toFixed(2))||"0.00"}});f(K);const q=new Date().getFullYear(),M=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],L=new Array(12).fill(0),V=new Array(12).fill(0),X=new Array(12).fill(0);A.forEach(R=>{const G=new Date(R.date);if(G.getFullYear()===q){const H=G.getMonth();L[H]+=R.total_amount||0,V[H]+=(R.adults||0)+(R.children||0)+(R.babies||0),X[H]+=1}});const ce=M.map((R,G)=>({name:R,revenue:L[G],participants:V[G],bookings:X[G]}));p(ce)}}catch(k){console.error("Error fetching dashboard data:",k)}finally{i(!1)}})()},[]);const E=N=>{const k=new Date,T=k.getMonth(),D=`${k.getFullYear()}-${String(T+1).padStart(2,"0")}-${String(N).padStart(2,"0")}`,I=u.filter(re=>re.startDate===D).length,W=N===k.getDate()&&T===k.getMonth();let Y="py-1 flex items-center justify-center cursor-pointer rounded-md transition-all text-xs relative ";return W?Y+="bg-primary text-background-dark font-bold ":I>0?Y+="bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 font-semibold hover:bg-orange-200 dark:hover:bg-orange-900/50 ":Y+="text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/5 ",d.jsxs("div",{onClick:()=>e(`/calendar?date=${D}`),className:Y,children:[N,I>0&&!W&&d.jsx("span",{className:"absolute top-0.5 right-0.5 w-1 h-1 bg-orange-500 rounded-full"})]},N)};return n?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):d.jsxs("div",{className:"flex flex-col gap-8 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight tracking-tight",children:"Dashboard de Reservas"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] text-base font-normal",children:"Viso geral de mtricas e atividades recentes."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{className:"flex items-center justify-center size-10 rounded-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border text-gray-600 dark:text-white hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:d.jsx("span",{className:"material-symbols-outlined",children:"notifications"})}),d.jsxs("button",{onClick:()=>e("/new-booking"),className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-primary-dark text-background-dark text-sm font-bold tracking-wide gap-2 transition-all shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined",children:"add"}),d.jsx("span",{children:"Nova Reserva"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(gi,{label:"Reservas Totais",value:s.totalBookings.toString(),change:"+0%",isPositive:!0}),d.jsx(gi,{label:"Receita Total",value:`${s.totalRevenue.toFixed(2)}`,change:"+0%",isPositive:!0}),d.jsx(gi,{label:"Reservas Pendentes",value:s.pendingBookings.toString(),change:"Ateno",isPositive:!1}),d.jsx(gi,{label:"Participantes",value:s.totalParticipants.toString(),change:"+0%",isPositive:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 flex flex-col rounded-xl border border-gray-200 dark:border-surface-border bg-[#15281A] p-6 shadow-sm",children:[d.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-white text-xl font-bold",children:"Tendncia de Receita e Reservas"}),d.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Desempenho no perodo selecionado"})]}),d.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full bg-white border-2 border-white"}),d.jsx("span",{className:"text-white font-medium",children:"N Reservas"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-sm bg-[#22c55e]"}),d.jsx("span",{className:"text-[#22c55e] font-medium",children:"Receita"})]})]})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(mf,{width:"100%",height:"100%",children:d.jsxs(dR,{data:m,margin:{top:10,right:10,left:0,bottom:0},children:[d.jsx(mw,{vertical:!1,strokeDasharray:"3 3",stroke:"#374151",opacity:.2}),d.jsx(vw,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},dy:10}),d.jsx(Mc,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:N=>`${N>=1e3?(N/1e3).toFixed(0)+"k":N}`}),d.jsx(Mc,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12}}),d.jsx(oM,{contentStyle:{backgroundColor:"#102215",borderColor:"#32673f",color:"#fff",borderRadius:"0.5rem",fontSize:"12px"},itemStyle:{color:"#fff"},labelStyle:{color:"#9CA3AF",marginBottom:"0.25rem"},cursor:{fill:"rgba(255, 255, 255, 0.05)"},formatter:(N,k)=>k==="revenue"?[`${N}`,"Receita"]:k==="bookings"?[N,"Reservas"]:[N,k]}),d.jsx(uw,{yAxisId:"left",dataKey:"revenue",fill:"#22c55e",radius:[4,4,0,0],barSize:32,fillOpacity:1}),d.jsx(gw,{yAxisId:"right",type:"monotone",dataKey:"bookings",stroke:"#ffffff",strokeWidth:3,dot:{r:4,fill:"#15281A",stroke:"#ffffff",strokeWidth:2},activeDot:{r:6,fill:"#ffffff"}})]})})})]}),d.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[d.jsxs("div",{className:"flex flex-col rounded-xl border border-gray-200 dark:border-surface-border bg-white dark:bg-surface-dark p-6 shadow-sm flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"warning"}),d.jsx("h2",{className:"text-gray-900 dark:text-white text-lg font-bold",children:"Lotao Alta"})]}),b.length>3&&d.jsxs("button",{onClick:()=>_(!0),className:"text-xs font-semibold text-primary hover:text-primary-dark transition-colors px-2 py-1 rounded hover:bg-primary/10",children:["Ver Todos (",b.length,")"]})]}),d.jsx("div",{className:"flex flex-col gap-4 overflow-y-auto",children:g.length>0?g.map((N,k)=>d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex flex-col gap-0.5",children:[d.jsx("span",{className:"text-xs font-semibold text-gray-900 dark:text-white",children:N.name.split(" (")[0]}),d.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:N.name.includes("(")?N.name.split("(")[1].replace(")",""):""})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-1.5 flex-1 mr-2",children:d.jsx("div",{className:"bg-orange-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${Math.min(N.occupancy/N.max*100,100)}%`}})}),d.jsxs("span",{className:"text-xs font-bold text-orange-600 dark:text-orange-400 whitespace-nowrap",children:[N.occupancy,"/",N.max," (",Math.round(N.occupancy/N.max*100),"%)"]})]})]},k)):d.jsx("div",{className:"text-center py-4 text-sm text-gray-500 dark:text-gray-400",children:"Sem alertas de lotao no momento."})})]}),d.jsxs("div",{className:"flex flex-col rounded-xl border border-gray-200 dark:border-surface-border bg-white dark:bg-surface-dark p-4 shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"text-gray-900 dark:text-white text-base font-bold",children:"Calendrio"}),d.jsx("button",{onClick:()=>e("/calendar"),className:"text-xs font-semibold text-primary hover:text-primary-dark transition-colors px-2 py-1 rounded hover:bg-primary/10",children:"Ver Todos"})]}),d.jsxs("div",{className:"grid grid-cols-7 text-center text-[10px] text-gray-400 mb-1.5",children:[d.jsx("span",{children:"D"}),d.jsx("span",{children:"S"}),d.jsx("span",{children:"T"}),d.jsx("span",{children:"Q"}),d.jsx("span",{children:"Q"}),d.jsx("span",{children:"S"}),d.jsx("span",{children:"S"})]}),d.jsxs("div",{className:"grid grid-cols-7 gap-y-0.5 text-center text-xs font-medium text-gray-800 dark:text-gray-200",children:[d.jsx("span",{className:"text-gray-400 dark:text-gray-600 flex items-center justify-center py-1",children:"30"}),[...Array(31)].map((N,k)=>E(k+1))]})]})]})]}),d.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-surface-border bg-white dark:bg-surface-dark overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-surface-border flex items-center justify-between",children:[d.jsx("h2",{className:"text-gray-900 dark:text-white text-lg font-bold",children:"Reservas Recentes"}),d.jsxs("div",{className:"flex gap-4 text-sm font-medium items-center",children:[d.jsx("button",{onClick:()=>r("current"),className:`${t==="current"?"text-primary border-b-2 border-primary":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"} transition-colors pb-1`,children:"Recentes"}),d.jsx("div",{className:"h-4 w-px bg-gray-300 dark:bg-gray-600 mx-1"}),d.jsxs("button",{onClick:()=>e("/bookings"),className:"flex items-center gap-1 text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors pb-1",children:[d.jsx("span",{children:"Todas as Reservas"}),d.jsx("span",{className:"material-symbols-outlined text-base",children:"arrow_forward"})]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm text-gray-500 dark:text-gray-400",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-black/20 text-gray-700 dark:text-gray-200 font-semibold",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Data da Reserva"}),d.jsx("th",{className:"px-6 py-4",children:"Nome do Cliente"}),d.jsx("th",{className:"px-6 py-4",children:"Aventura"}),d.jsx("th",{className:"px-6 py-4",children:"Durao"}),d.jsx("th",{className:"px-6 py-4 text-center",children:"Pax"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Total"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-surface-border",children:u.length>0?u.map(N=>d.jsxs("tr",{onClick:()=>e(`/bookings/${N.id}`),className:"hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer transition-colors",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:N.startDate}),d.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-white",children:N.clientName}),d.jsx("td",{className:"px-6 py-4",children:N.adventureName}),d.jsx("td",{className:"px-6 py-4 text-gray-600 dark:text-gray-300",children:N.duration}),d.jsx("td",{className:"px-6 py-4 text-center",children:N.participants}),d.jsxs("td",{className:"px-6 py-4 text-right font-medium text-gray-900 dark:text-white",children:["",N.totalValue]})]},N.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"Nenhuma reserva recente."})})})]})})]}),S&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-[#1a1d21] rounded-2xl shadow-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden border border-gray-100 dark:border-gray-800 animate-scale-in",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:d.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"warning"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Alertas de Lotao Alta"}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[b.length," slots com 80% de ocupao"]})]})]}),d.jsx("button",{onClick:()=>_(!1),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:d.jsx("span",{className:"material-symbols-outlined text-gray-500",children:"close"})})]}),d.jsxs("div",{className:"overflow-y-auto max-h-[calc(80vh-140px)] p-6",children:[d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-black/20 text-gray-700 dark:text-gray-200 text-xs uppercase tracking-wider font-semibold sticky top-0",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3",children:"Passeio"}),d.jsx("th",{className:"px-4 py-3",children:"Data"}),d.jsx("th",{className:"px-4 py-3",children:"Horrio"}),d.jsx("th",{className:"px-4 py-3",children:"Ocupao"}),d.jsx("th",{className:"px-4 py-3 text-right",children:"%"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:b.map((N,k)=>{const T=Math.round(N.occupancy/N.max*100),A=T>=100;return d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:N.adventureName})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:Z0(N.date)}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:N.time}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-700 rounded-full h-2 min-w-[80px]",children:d.jsx("div",{className:`h-2 rounded-full transition-all ${A?"bg-red-500":"bg-orange-500"}`,style:{width:`${Math.min(T,100)}%`}})}),d.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 whitespace-nowrap",children:[N.occupancy,"/",N.max]})]})}),d.jsx("td",{className:"px-4 py-3 text-right",children:d.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-bold ${A?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300"}`,children:[T,"%"]})})]},k)})})]}),b.length===0&&d.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl opacity-50 mb-2",children:"check_circle"}),d.jsx("p",{children:"Nenhum alerta de lotao alta no momento."})]})]}),d.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-800",children:d.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2.5 rounded-xl text-sm font-semibold text-white bg-primary hover:bg-primary-dark transition-all shadow-lg shadow-primary/20",children:"Fechar"})})]})})]})},fee=["Afeganisto","frica do Sul","Albnia","Alemanha","Andorra","Angola","Antgua e Barbuda","Arbia Saudita","Arglia","Argentina","Armnia","Austrlia","ustria","Azerbaijo","Bahamas","Bangladexe","Barbados","Barm","Blgica","Belize","Benim","Bielorrssia","Bolvia","Bsnia e Herzegovina","Botsuana","Brasil","Brunei","Bulgria","Burquina Faso","Burundi","Buto","Cabo Verde","Camares","Camboja","Canad","Catar","Cazaquisto","Chade","Chile","China","Chipre","Colmbia","Comores","Congo-Brazzaville","Coreia do Norte","Coreia do Sul","Cosovo","Costa do Marfim","Costa Rica","Crocia","Cuame","Cuba","Dinamarca","Dominica","Egito","Emirados rabes Unidos","Equador","Eritreia","Eslovquia","Eslovnia","Espanha","Estados Unidos","Estnia","Etipia","Fiji","Filipinas","Finlndia","Frana","Gabo","Gmbia","Gana","Gergia","Granada","Grcia","Guatemala","Guiana","Guin","Guin Equatorial","Guin-Bissau","Haiti","Honduras","Hungria","Imen","Ilhas Marshall","ndia","Indonsia","Iro","Iraque","Irlanda","Islndia","Israel","Itlia","Jamaica","Japo","Jibuti","Jordnia","Kuwait","Laos","Lesoto","Letnia","Lbano","Libria","Lbia","Listenstaine","Litunia","Luxemburgo","Macednia do Norte","Madagscar","Malsia","Malui","Maldivas","Mali","Malta","Marrocos","Maurcia","Mauritnia","Mxico","Mianmar","Micronsia","Moambique","Moldvia","Mnaco","Monglia","Montenegro","Nambia","Nauru","Nepal","Nicargua","Nger","Nigria","Noruega","Nova Zelndia","Om","Pases Baixos","Palau","Palestina","Panam","Papua Nova Guin","Paquisto","Paraguai","Peru","Polnia","Portugal","Qunia","Quirguisto","Kiribati","Reino Unido","Repblica Centro-Africana","Repblica Checa","Repblica Democrtica do Congo","Repblica Dominicana","Romnia","Ruanda","Rssia","Salomo","Salvador","Samoa","Santa Lcia","So Cristvo e Neves","So Marinho","So Tom e Prncipe","So Vicente e Granadinas","Seicheles","Senegal","Serra Leoa","Srvia","Singapura","Sria","Somlia","Sri Lanca","Suazilndia","Sudo","Sudo do Sul","Sucia","Sua","Suriname","Tailndia","Tajiquisto","Tanznia","Timor-Leste","Togo","Tonga","Trindade e Tobago","Tunsia","Turquemenisto","Turquia","Tuvalu","Ucrnia","Uganda","Uruguai","Uzbequisto","Vanuatu","Vaticano","Venezuela","Vietname","Zmbia","Zimbabu"],fR=async()=>{const{data:e,error:t}=await Se.from("payment_methods").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(t)throw console.error("Error fetching payment methods:",t),t;return(e||[]).map(r=>({id:r.id,name:r.name,code:r.code,description:r.description,apiConfig:r.api_config,isActive:r.is_active,displayOrder:r.display_order,icon:r.icon,createdAt:r.created_at,updatedAt:r.updated_at}))},hee=()=>{const{id:e}=A4(),t=Mn(),{showModal:r}=cT(),{showToast:n}=Nh(),[i]=JA(),l=(i.get("mode")||"view")==="edit"||!e,u=!e,[f,m]=w.useState([]),[p,g]=w.useState([]),[y,b]=w.useState([]),[j,S]=w.useState([]),[_,E]=w.useState(!0),N={id:"",status:"Pendente",submissionDate:new Date().toISOString(),adventure:{id:"",name:"",location:"",meetingPoint:"",date:new Date().toISOString().split("T")[0],time:"",duration:"",driver:"Por definir"},client:{name:"",nif:"",email:"",phone:"",city:"",country:"Portugal"},participants:{total:0,children:0,babies:0,adults:0},agency:{id:"",name:"Particular",email:"",fee:0},financial:{totalReserve:0,netTotal:0,paymentType:"Transferncia Bancria",paymentMethodId:"",paymentMethodName:"",paymentStatus:"Pendente",notes:"",deposit:0},googleCalendarLink:""},[k,T]=w.useState(N);w.useEffect(()=>{(async()=>{var B,K,q,M,L,V,X,ce,R;try{E(!0);const{data:G}=await Se.from("agencies").select("*").eq("is_active",!0),H=(G||[]).map(ne=>({id:ne.id,name:ne.name,email:ne.email,commission:ne.fee}));m(H);const{data:se}=await Se.from("adventures").select("*").eq("is_active",!0),he=(se||[]).map(ne=>({id:ne.id,name:ne.name,location:ne.location,duration:ne.duration,priceAdult:ne.price_adult,priceChild:ne.price_child,priceBaby:ne.price_baby,highSeason:{start:ne.high_season_start,end:ne.high_season_end,times:ne.high_season_times||[]},lowSeason:{start:ne.low_season_start,end:ne.low_season_end,times:ne.low_season_times||[]}}));g(he);const le=await fR();if(b(le),e){console.log("Fetching booking with ID:",e);const{data:ne,error:me}=await Se.from("bookings").select(`
                            *,
                            agency:agencies(id, name, email, fee),
                            adventure:adventures(id, name, location, meeting_point, duration, high_season_start, high_season_end, high_season_times, low_season_start, low_season_end, low_season_times),
                            payment_method:payment_methods(id, name, code)
                        `).eq("id",e).single();if(me)throw console.error("Supabase error:",me),me;console.log("Booking data received:",ne),ne&&(T({id:ne.id,status:ne.status,submissionDate:ne.created_at,adventure:{id:ne.adventure_id,name:((B=ne.adventure)==null?void 0:B.name)||"",location:((K=ne.adventure)==null?void 0:K.location)||"",meetingPoint:ne.meeting_point||((q=ne.adventure)==null?void 0:q.meeting_point)||"",date:ne.date,time:ne.time,duration:((M=ne.adventure)==null?void 0:M.duration)||"",driver:"Por definir"},client:{name:ne.client_name,nif:ne.client_nif||"",email:ne.client_email,phone:ne.client_phone,city:ne.client_city,country:ne.client_country},participants:{total:(ne.adults||0)+(ne.children||0)+(ne.babies||0),adults:ne.adults||0,children:ne.children||0,babies:ne.babies||0},agency:{id:ne.agency_id||"",name:((L=ne.agency)==null?void 0:L.name)||"Particular",email:((V=ne.agency)==null?void 0:V.email)||"",fee:((X=ne.agency)==null?void 0:X.fee)||0},financial:{totalReserve:ne.total_amount||0,netTotal:(ne.total_amount||0)-(ne.total_amount||0)*((((ce=ne.agency)==null?void 0:ce.fee)||0)/100),paymentType:ne.payment_type||"Transferncia Bancria",paymentMethodId:ne.payment_method_id||"",paymentMethodName:((R=ne.payment_method)==null?void 0:R.name)||"",paymentStatus:ne.payment_status||"Pendente",notes:ne.notes||"",deposit:ne.deposit_amount||0},googleCalendarLink:ne.google_calendar_link||""}),console.log("Booking data set successfully"))}}catch(G){console.error("Error fetching data:",G),console.error("Error details:",G.message,G.details,G.hint),alert(`Erro ao carregar dados: ${G.message||"Erro desconhecido"}`)}finally{E(!1)}})()},[e]),w.useEffect(()=>{const P=p.find(B=>B.id===k.adventure.id);if(P&&k.adventure.date){const B=new Date(k.adventure.date),K=new Date(P.highSeason.start),q=new Date(P.highSeason.end),M=B>=K&&B<=q;S(M?P.highSeason.times:P.lowSeason.times)}else S([])},[k.adventure.id,k.adventure.date,p]),w.useEffect(()=>{const P=p.find(B=>B.id===k.adventure.id);if(P){const B=k.participants.adults*P.priceAdult+k.participants.children*P.priceChild+k.participants.babies*P.priceBaby,K=B*(k.agency.fee/100),q=B-K;T(M=>({...M,financial:{...M.financial,totalReserve:B,netTotal:q}}))}},[k.participants,k.adventure.id,k.agency.fee,p]);const A=(P,B,K)=>{T(q=>({...q,[P]:{...q[P],[B]:K}}))},D=P=>{const B=p.find(K=>K.id===P);B&&T(K=>({...K,adventure:{...K.adventure,id:B.id,name:B.name,location:B.location,duration:B.duration}}))},I=P=>{if(P==="Particular")T(B=>({...B,agency:{id:"",name:"Particular",email:"",fee:0}}));else{const B=f.find(K=>K.id===P);B&&T(K=>({...K,agency:{id:B.id,name:B.name,email:B.email,fee:B.commission}}))}},W=(P,B)=>{const K=Math.max(0,B);T(q=>{const M={...q.participants,[P]:K};return M.total=M.adults+M.children+M.babies,{...q,participants:M}})},Y=async()=>{try{const P={adventure_id:k.adventure.id,agency_id:k.agency.id||null,client_name:k.client.name,client_email:k.client.email,client_phone:k.client.phone,client_nif:k.client.nif,client_city:k.client.city,client_country:k.client.country,date:k.adventure.date,time:k.adventure.time,meeting_point:k.adventure.meetingPoint,adults:k.participants.adults,children:k.participants.children,babies:k.participants.babies,total_amount:k.financial.totalReserve,deposit_amount:k.financial.deposit,payment_status:k.financial.paymentStatus,payment_method_id:k.financial.paymentMethodId||null,status:k.status,notes:k.financial.notes,google_calendar_link:k.googleCalendarLink};if(u){const{error:B}=await Se.from("bookings").insert([P]);if(B)throw B;n("Reserva criada com sucesso!","success"),t("/bookings")}else{const{error:B}=await Se.from("bookings").update(P).eq("id",e);if(B)throw B;n("Reserva atualizada com sucesso!","success"),t("/bookings")}}catch(P){console.error("Error saving booking:",P),r({title:"Erro ao Salvar",message:`Erro ao salvar reserva: ${P.message}`,type:"error"})}},re=P=>{switch(P){case"Concluido":case"Concludo":return"text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/40 border-green-300 dark:border-green-700";case"Pendente":return"text-orange-700 dark:text-orange-300 bg-orange-100 dark:bg-orange-900/40 border-orange-300 dark:border-orange-700";case"Parcial":return"text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/40 border-blue-300 dark:border-blue-700";case"Cancelado":return"text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900/40 border-red-300 dark:border-red-700";default:return"text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600"}},U="w-full appearance-none px-3 py-2.5 bg-gray-50 dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm";return _?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):d.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-[#92c9a0]",children:[d.jsx(mc,{to:"/",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Dashboard"}),d.jsx("span",{children:"/"}),d.jsx(mc,{to:"/bookings",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Reservas"}),d.jsx("span",{children:"/"}),d.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:u?"Nova Reserva":d.jsxs(d.Fragment,{children:["Reserva ",d.jsxs("span",{className:"text-xs text-gray-700 dark:text-gray-300",children:["#",k.id]})]})})]}),d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:u?"Nova Reserva":l?d.jsxs(d.Fragment,{children:["Editar Reserva ",d.jsxs("span",{className:"text-lg text-gray-700 dark:text-gray-300",children:["#",k.id]})]}):d.jsxs(d.Fragment,{children:["Detalhes da Reserva ",d.jsxs("span",{className:"text-lg text-gray-700 dark:text-gray-300",children:["#",k.id]})]})}),!u&&d.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border w-fit transition-colors duration-300 ${re(k.financial.paymentStatus)}`,children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"payments"}),d.jsxs("span",{className:"text-sm font-bold uppercase tracking-wide",children:["Pagamento: ",k.financial.paymentStatus]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white dark:bg-white/10 text-gray-900 dark:text-white font-semibold text-sm hover:bg-gray-50 dark:hover:bg-white/20 transition-colors border border-gray-200 dark:border-transparent",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"print"}),"Imprimir"]}),l&&d.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-background-dark font-bold text-sm hover:bg-primary-dark transition-colors shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"save"}),"Salvar"]}),!l&&d.jsxs(mc,{to:`/bookings/${e}?mode=edit`,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-background-dark font-bold text-sm hover:bg-primary-dark transition-colors shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"}),"Editar"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Detalhes da Aventura"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"kayaking"})]}),d.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nome Aventura"}),l?d.jsxs("select",{value:k.adventure.id,onChange:P=>D(P.target.value),className:U,children:[d.jsx("option",{value:"",children:"Selecione uma aventura..."}),p.map(P=>d.jsx("option",{value:P.id,children:P.name},P.id))]}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.adventure.name})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Localizao"}),d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.adventure.location||"-"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ponto de Encontro"}),l?d.jsx("input",{type:"text",value:k.adventure.meetingPoint||"",onChange:P=>A("adventure","meetingPoint",P.target.value),className:U,placeholder:"Ex: Estao de So Bento"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.adventure.meetingPoint||"-"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Data"}),l?d.jsx("input",{type:"date",value:k.adventure.date,onChange:P=>A("adventure","date",P.target.value),className:U}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.adventure.date})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Hora"}),l?d.jsxs("select",{value:k.adventure.time,onChange:P=>A("adventure","time",P.target.value),className:U,disabled:!j.length,children:[d.jsx("option",{value:"",children:j.length?"Selecione...":"Indisponvel"}),j.map(P=>d.jsx("option",{value:P,children:P},P)),!j.includes(k.adventure.time)&&k.adventure.time&&d.jsxs("option",{value:k.adventure.time,children:[k.adventure.time," (Atual)"]})]}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.adventure.time})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Durao"}),d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.adventure.duration||"-"})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Detalhes do Cliente"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"person"})]}),d.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nome"}),l?d.jsx("input",{type:"text",value:k.client.name,onChange:P=>A("client","name",P.target.value),className:U}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.client.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"NIF"}),l?d.jsx("input",{type:"text",value:k.client.nif,onChange:P=>A("client","nif",P.target.value),className:U}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.client.nif})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),l?d.jsx("input",{type:"email",value:k.client.email,onChange:P=>A("client","email",P.target.value),className:U}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.client.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Telefone"}),l?d.jsx("input",{type:"tel",value:k.client.phone,onChange:P=>A("client","phone",P.target.value),className:U}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.client.phone})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Cidade"}),l?d.jsx("input",{type:"text",value:k.client.city,onChange:P=>A("client","city",P.target.value),className:U}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.client.city})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Pas"}),l?d.jsxs("select",{value:k.client.country,onChange:P=>A("client","country",P.target.value),className:U,children:[d.jsx("option",{value:"",children:"Selecione um pas..."}),fee.map(P=>d.jsx("option",{value:P,children:P},P))]}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.client.country})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Participantes"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"groups"})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-end gap-2 mb-4",children:[d.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:k.participants.total}),d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Total de Pessoas"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm border-b border-gray-100 dark:border-white/5 pb-2",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Adultos"}),l?d.jsx("input",{type:"number",value:k.participants.adults,onChange:P=>W("adults",parseInt(P.target.value)||0),className:"w-16 text-right bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 rounded px-1"}):d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:k.participants.adults})]}),d.jsxs("div",{className:"flex justify-between text-sm border-b border-gray-100 dark:border-white/5 pb-2",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Crianas"}),l?d.jsx("input",{type:"number",value:k.participants.children,onChange:P=>W("children",parseInt(P.target.value)||0),className:"w-16 text-right bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 rounded px-1"}):d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:k.participants.children})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Bebs"}),l?d.jsx("input",{type:"number",value:k.participants.babies,onChange:P=>W("babies",parseInt(P.target.value)||0),className:"w-16 text-right bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 rounded px-1"}):d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:k.participants.babies})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Agncia"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"storefront"})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Nome da Agncia"}),l?d.jsxs("select",{value:k.agency.id||"Particular",onChange:P=>I(P.target.value),className:U,children:[d.jsx("option",{value:"Particular",children:"Particular"}),f.map(P=>d.jsx("option",{value:P.id,children:P.name},P.id))]}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.agency.name})]}),k.agency.name!=="Particular"&&d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email da Agncia"}),d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:k.agency.email||"N/A"})]})]})]})]})]}),d.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center bg-gray-50 dark:bg-white/5",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Financeiro"}),d.jsx("span",{className:"material-symbols-outlined text-gray-500",children:"payments"})]}),d.jsxs("div",{className:"p-6 flex flex-col gap-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Valor Total"}),d.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["",k.financial.totalReserve.toFixed(2)]})]}),k.agency.name!=="Particular"&&d.jsxs("div",{className:"flex justify-between items-center text-red-500",children:[d.jsx("label",{className:"text-xs font-medium uppercase",children:"Comisso Agncia"}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsxs("p",{className:"text-lg font-bold",children:["-",(k.financial.totalReserve*(k.agency.fee/100)).toFixed(2)]}),d.jsxs("p",{className:"text-xs text-red-400",children:["(",k.agency.fee,"%)"]})]})]}),d.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-white/5 flex justify-between items-center",children:[d.jsx("label",{className:"text-xs font-medium text-primary uppercase font-bold",children:"Valor Lquido"}),d.jsxs("p",{className:"text-2xl font-black text-primary",children:["",k.financial.netTotal.toFixed(2)]})]}),d.jsxs("div",{className:"pt-2 space-y-3",children:[d.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-lg",children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase block mb-1",children:"Mtodo de Pagamento"}),l?d.jsxs("select",{value:k.financial.paymentMethodId,onChange:P=>A("financial","paymentMethodId",P.target.value),className:U,children:[d.jsx("option",{value:"",children:"Selecione..."}),y.map(P=>d.jsx("option",{value:P.id,children:P.name},P.id))]}):d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k.financial.paymentMethodName||"N/A"})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-lg",children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase block mb-1",children:"Estado do Pagamento"}),l?d.jsxs("select",{value:k.financial.paymentStatus,onChange:P=>A("financial","paymentStatus",P.target.value),className:U,children:[d.jsx("option",{value:"Pendente",children:"Pendente"}),d.jsx("option",{value:"Parcial",children:"Parcial"}),d.jsx("option",{value:"Concluido",children:"Concludo"}),d.jsx("option",{value:"Cancelado",children:"Cancelado"})]}):d.jsxs("div",{className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg border font-bold text-sm ${re(k.financial.paymentStatus)}`,children:[d.jsx("span",{className:"material-symbols-outlined text-base",children:"payments"}),d.jsx("span",{children:k.financial.paymentStatus})]})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-black/20 p-3 rounded-lg",children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase block mb-1",children:"Status da Reserva"}),l?d.jsxs("select",{value:k.status,onChange:P=>T(B=>({...B,status:P.target.value})),className:U,children:[d.jsx("option",{value:"Pendente",children:"Pendente"}),d.jsx("option",{value:"Confirmada",children:"Confirmada"}),d.jsx("option",{value:"Concluda",children:"Concluda"}),d.jsx("option",{value:"Cancelada",children:"Cancelada"})]}):d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k.status})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider block mb-2",children:"Observaes"}),d.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-100 dark:border-yellow-900/30 rounded-lg",children:l?d.jsx("textarea",{value:k.financial.notes,onChange:P=>A("financial","notes",P.target.value),className:"w-full bg-transparent border-none outline-none text-sm text-yellow-800 dark:text-yellow-200 italic",rows:3}):d.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 italic",children:k.financial.notes||"Sem observaes."})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider block mb-2",children:"Link Google Calendar"}),l?d.jsx("input",{type:"url",value:k.googleCalendarLink,onChange:P=>T(B=>({...B,googleCalendarLink:P.target.value})),className:U,placeholder:"https://calendar.google.com/..."}):k.googleCalendarLink?d.jsxs("a",{href:k.googleCalendarLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:text-primary-dark underline flex items-center gap-1",children:[d.jsx("span",{className:"material-symbols-outlined text-sm",children:"event"}),"Abrir no Google Calendar"]}):d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"Sem link de calendrio."})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border",children:d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Aes"})}),d.jsx("div",{className:"p-6 flex flex-col gap-4",children:d.jsxs("a",{href:`mailto:${k.client.email}`,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-gray-100 dark:bg-white/5 text-gray-900 dark:text-white text-sm font-bold rounded-lg hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"mail"}),"Enviar Email ao Cliente"]})})]})]})]})]})},hR=6048e5,mee=864e5,kA=Symbol.for("constructDateFrom");function Cn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&kA in e?e[kA](t):e instanceof Date?new e.constructor(t):new Date(t)}function Pr(e,t){return Cn(t||e,e)}function pee(e,t,r){const n=Pr(e,r==null?void 0:r.in);return isNaN(t)?Cn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function mR(e,t,r){const n=Pr(e,r==null?void 0:r.in);if(isNaN(t))return Cn(e,NaN);if(!t)return n;const i=n.getDate(),s=Cn(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const l=s.getDate();return i>=l?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}let gee={};function vm(){return gee}function Rc(e,t){var u,f,m,p;const r=vm(),n=(t==null?void 0:t.weekStartsOn)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,i=Pr(e,t==null?void 0:t.in),s=i.getDay(),l=(s<n?7:0)+s-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function bh(e,t){return Rc(e,{...t,weekStartsOn:1})}function pR(e,t){const r=Pr(e,t==null?void 0:t.in),n=r.getFullYear(),i=Cn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=bh(i),l=Cn(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=bh(l);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function EA(e){const t=Pr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function vee(e,...t){const r=Cn.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function NA(e,t){const r=Pr(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function yee(e,t,r){const[n,i]=vee(r==null?void 0:r.in,e,t),s=NA(n),l=NA(i),u=+s-EA(s),f=+l-EA(l);return Math.round((u-f)/mee)}function bee(e,t){const r=pR(e,t),n=Cn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),bh(n)}function xee(e,t,r){return pee(e,t*7,r)}function wee(e,t,r){return mR(e,t*12,r)}function _ee(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jee(e){return!(!_ee(e)&&typeof e!="number"||isNaN(+Pr(e)))}function Ay(e,t){const r=Pr(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function bo(e,t){const r=Pr(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const See={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kee=(e,t,r)=>{let n;const i=See[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function No(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Eee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Oee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Aee={date:No({formats:Eee,defaultWidth:"full"}),time:No({formats:Nee,defaultWidth:"full"}),dateTime:No({formats:Oee,defaultWidth:"full"})},Cee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tee=(e,t,r,n)=>Cee[e];function Hn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r!=null&&r.width?String(r.width):l;i=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[u]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const Pee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ree={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Iee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$ee=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},zee={ordinalNumber:$ee,era:Hn({values:Pee,defaultWidth:"wide"}),quarter:Hn({values:Dee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hn({values:Mee,defaultWidth:"wide"}),day:Hn({values:Ree,defaultWidth:"wide"}),dayPeriod:Hn({values:Iee,defaultWidth:"wide",formattingValues:Lee,defaultFormattingWidth:"wide"})};function Kn(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const l=s[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?Uee(u,g=>g.test(l)):Bee(u,g=>g.test(l));let m;m=e.valueCallback?e.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const p=t.slice(l.length);return{value:m,rest:p}}}function Bee(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Uee(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function gR(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}const qee=/^(\d+)(th|st|nd|rd)?/i,Hee=/\d+/i,Kee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gee={any:[/^b/i,/^(a|c)/i]},Fee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yee={any:[/1/i,/2/i,/3/i,/4/i]},Vee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ete={ordinalNumber:gR({matchPattern:qee,parsePattern:Hee,valueCallback:e=>parseInt(e,10)}),era:Kn({matchPatterns:Kee,defaultMatchWidth:"wide",parsePatterns:Gee,defaultParseWidth:"any"}),quarter:Kn({matchPatterns:Fee,defaultMatchWidth:"wide",parsePatterns:Yee,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kn({matchPatterns:Vee,defaultMatchWidth:"wide",parsePatterns:Wee,defaultParseWidth:"any"}),day:Kn({matchPatterns:Xee,defaultMatchWidth:"wide",parsePatterns:Qee,defaultParseWidth:"any"}),dayPeriod:Kn({matchPatterns:Jee,defaultMatchWidth:"any",parsePatterns:Zee,defaultParseWidth:"any"})},tte={code:"en-US",formatDistance:kee,formatLong:Aee,formatRelative:Tee,localize:zee,match:ete,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rte(e,t){const r=Pr(e,t==null?void 0:t.in);return yee(r,bo(r))+1}function nte(e,t){const r=Pr(e,t==null?void 0:t.in),n=+bh(r)-+bee(r);return Math.round(n/hR)+1}function vR(e,t){var p,g,y,b;const r=Pr(e,t==null?void 0:t.in),n=r.getFullYear(),i=vm(),s=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(y=i.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,l=Cn((t==null?void 0:t.in)||e,0);l.setFullYear(n+1,0,s),l.setHours(0,0,0,0);const u=Rc(l,t),f=Cn((t==null?void 0:t.in)||e,0);f.setFullYear(n,0,s),f.setHours(0,0,0,0);const m=Rc(f,t);return+r>=+u?n+1:+r>=+m?n:n-1}function ate(e,t){var u,f,m,p;const r=vm(),n=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=vR(e,t),s=Cn((t==null?void 0:t.in)||e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Rc(s,t)}function ite(e,t){const r=Pr(e,t==null?void 0:t.in),n=+Rc(r,t)-+ate(r,t);return Math.round(n/hR)+1}function Fe(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ui={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Fe(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Fe(r+1,2)},d(e,t){return Fe(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Fe(e.getHours()%12||12,t.length)},H(e,t){return Fe(e.getHours(),t.length)},m(e,t){return Fe(e.getMinutes(),t.length)},s(e,t){return Fe(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Fe(i,t.length)}},po={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ui.y(e,t)},Y:function(e,t,r,n){const i=vR(e,n),s=i>0?i:1-i;if(t==="YY"){const l=s%100;return Fe(l,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Fe(s,t.length)},R:function(e,t){const r=pR(e);return Fe(r,t.length)},u:function(e,t){const r=e.getFullYear();return Fe(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Fe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Fe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ui.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Fe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=ite(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Fe(i,t.length)},I:function(e,t,r){const n=nte(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Fe(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ui.d(e,t)},D:function(e,t,r){const n=rte(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Fe(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Fe(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Fe(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Fe(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=po.noon:n===0?i=po.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=po.evening:n>=12?i=po.afternoon:n>=4?i=po.morning:i=po.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ui.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ui.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ui.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ui.s(e,t)},S:function(e,t){return ui.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return CA(n);case"XXXX":case"XX":return rs(n);case"XXXXX":case"XXX":default:return rs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return CA(n);case"xxxx":case"xx":return rs(n);case"xxxxx":case"xxx":default:return rs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+AA(n,":");case"OOOO":default:return"GMT"+rs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+AA(n,":");case"zzzz":default:return"GMT"+rs(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Fe(n,t.length)},T:function(e,t,r){return Fe(+e,t.length)}};function AA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+Fe(s,2)}function CA(e,t){return e%60===0?(e>0?"-":"+")+Fe(Math.abs(e)/60,2):rs(e,t)}function rs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Fe(Math.trunc(n/60),2),s=Fe(n%60,2);return r+i+t+s}const TA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},yR=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ste=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return TA(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",TA(n,t)).replace("{{time}}",yR(i,t))},ote={p:yR,P:ste},lte=/^D+$/,cte=/^Y+$/,ute=["D","DD","YY","YYYY"];function dte(e){return lte.test(e)}function fte(e){return cte.test(e)}function hte(e,t,r){const n=mte(e,t,r);if(console.warn(n),ute.includes(e))throw new RangeError(n)}function mte(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vte=/^'([^]*?)'?$/,yte=/''/g,bte=/[a-zA-Z]/;function nf(e,t,r){var p,g,y,b,j,S,_,E;const n=vm(),i=(r==null?void 0:r.locale)??n.locale??tte,s=(r==null?void 0:r.firstWeekContainsDate)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(y=n.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((S=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:S.weekStartsOn)??n.weekStartsOn??((E=(_=n.locale)==null?void 0:_.options)==null?void 0:E.weekStartsOn)??0,u=Pr(e,r==null?void 0:r.in);if(!jee(u))throw new RangeError("Invalid time value");let f=t.match(gte).map(N=>{const k=N[0];if(k==="p"||k==="P"){const T=ote[k];return T(N,i.formatLong)}return N}).join("").match(pte).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const k=N[0];if(k==="'")return{isToken:!1,value:xte(N)};if(OA[k])return{isToken:!0,value:N};if(k.match(bte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:N}});i.localize.preprocessor&&(f=i.localize.preprocessor(u,f));const m={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return f.map(N=>{if(!N.isToken)return N.value;const k=N.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&fte(k)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&dte(k))&&hte(k,t,String(e));const T=OA[k[0]];return T(u,k,i.localize,m)}).join("")}function xte(e){const t=e.match(vte);return t?t[1].replace(yte,"'"):e}function Bn(e,t,r){return mR(e,-t,r)}function PA(e,t,r){return xee(e,-t,r)}function Wi(e,t,r){return wee(e,-t,r)}const wte={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"aproximadamente 1 hora",other:"aproximadamente {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"aproximadamente 1 semana",other:"aproximadamente {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"aproximadamente 1 ms",other:"aproximadamente {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"aproximadamente 1 ano",other:"aproximadamente {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},_te=(e,t,r)=>{let n;const i=wte[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"daqui a "+n:"h "+n:n},jte={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y",short:"dd/MM/y"},Ste={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},kte={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ete={date:No({formats:jte,defaultWidth:"full"}),time:No({formats:Ste,defaultWidth:"full"}),dateTime:No({formats:kte,defaultWidth:"full"})},Nte={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Ote=(e,t,r,n)=>{const i=Nte[e];return typeof i=="function"?i(t):i},Ate={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["antes de Cristo","depois de Cristo"]},Cte={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Tte={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Pte={narrow:["d","s","t","q","q","s","s"],short:["dom","seg","ter","qua","qui","sex","sb"],abbreviated:["dom","seg","ter","qua","qui","sex","sb"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Dte={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"noite",night:"madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"noite",night:"madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"noite",night:"madrugada"}},Mte={narrow:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da noite",night:"da madrugada"},wide:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da noite",night:"da madrugada"}},Rte=(e,t)=>Number(e)+"",Ite={ordinalNumber:Rte,era:Hn({values:Ate,defaultWidth:"wide"}),quarter:Hn({values:Cte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hn({values:Tte,defaultWidth:"wide"}),day:Hn({values:Pte,defaultWidth:"wide"}),dayPeriod:Hn({values:Dte,defaultWidth:"wide",formattingValues:Mte,defaultFormattingWidth:"wide"})},Lte=/^(\d+)(|)?/i,$te=/\d+/i,zte={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes da era comum|depois de cristo|era comum)/i},Bte={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes da era comum)/i,/^(depois de cristo|era comum)/i]},Ute={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](|)? trimestre/i},qte={any:[/1/i,/2/i,/3/i,/4/i]},Hte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Kte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ab/i,/^mai/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gte={narrow:/^[dstq]/i,short:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|segunda-?\s?feira|tera-?\s?feira|quarta-?\s?feira|quinta-?\s?feira|sexta-?\s?feira|s[a]bado)/i},Fte={narrow:[/^d/i,/^s/i,/^t/i,/^q/i,/^q/i,/^s/i,/^s/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]/i]},Yte={narrow:/^(a|p|meia-?\s?noite|meio-?\s?dia|(da) (manh[a]|tarde|noite|madrugada))/i,any:/^([ap]\.?\s?m\.?|meia-?\s?noite|meio-?\s?dia|(da) (manh[a]|tarde|noite|madrugada))/i},Vte={any:{am:/^a/i,pm:/^p/i,midnight:/^meia/i,noon:/^meio/i,morning:/manh[a]/i,afternoon:/tarde/i,evening:/noite/i,night:/madrugada/i}},Wte={ordinalNumber:gR({matchPattern:Lte,parsePattern:$te,valueCallback:e=>parseInt(e,10)}),era:Kn({matchPatterns:zte,defaultMatchWidth:"wide",parsePatterns:Bte,defaultParseWidth:"any"}),quarter:Kn({matchPatterns:Ute,defaultMatchWidth:"wide",parsePatterns:qte,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kn({matchPatterns:Hte,defaultMatchWidth:"wide",parsePatterns:Kte,defaultParseWidth:"any"}),day:Kn({matchPatterns:Gte,defaultMatchWidth:"wide",parsePatterns:Fte,defaultParseWidth:"any"}),dayPeriod:Kn({matchPatterns:Yte,defaultMatchWidth:"any",parsePatterns:Vte,defaultParseWidth:"any"})},af={code:"pt",formatDistance:_te,formatLong:Ete,formatRelative:Ote,localize:Ite,match:Wte,options:{weekStartsOn:1,firstWeekContainsDate:4}},sf={Confirmada:"#13ec49",Concluda:"#13ec49",Concluido:"#13ec49",Pendente:"#fbbf24",Cancelada:"#ef4444",Cancelado:"#ef4444"},Xte=()=>{const[e,t]=w.useState([]),[r,n]=w.useState([]),[i,s]=w.useState([]),[l,u]=w.useState(!0),[f,m]=w.useState("ltimos 3 meses"),[p,g]=w.useState("Todas"),[y,b]=w.useState("Todas"),[j,S]=w.useState("Todos"),[_,E]=w.useState("Todos"),N="w-full",k="w-full appearance-none py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-700 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm pl-3 pr-10 cursor-pointer",T="block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1.5 ml-1",A="material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-lg pointer-events-none text-gray-500 dark:text-gray-400";w.useEffect(()=>{(async()=>{try{u(!0);const[L,V,X]=await Promise.all([Se.from("bookings").select("*"),Se.from("agencies").select("*"),Se.from("adventures").select("*")]);L.data&&t(L.data),V.data&&n(V.data),X.data&&s(X.data)}catch(L){console.error("Error fetching analytics data:",L)}finally{u(!1)}})()},[]);const{metrics:D,chartData:I,bookingStatusData:W,paymentStatusData:Y,uniqueAdventures:re,uniqueCountries:U,uniqueAgencies:P,uniqueStatuses:B,topAdventures:K,countryStats:q}=w.useMemo(()=>{var mu,il;if(l)return{metrics:{revenue:0,bookings:0,participants:0,averageTicket:0,revenueChange:"0%",bookingsChange:"0%",participantsChange:"0%",avgTicketChange:"0%",revenuePositive:!0,bookingsPositive:!0,participantsPositive:!0,avgTicketPositive:!0},chartData:[],bookingStatusData:[],paymentStatusData:[],uniqueAdventures:[],uniqueCountries:[],uniqueAgencies:[],uniqueStatuses:[],topAdventures:[],countryStats:[]};let M=e;if(p!=="Todas"){const fe=(mu=i.find(pe=>pe.name===p))==null?void 0:mu.id;fe&&(M=M.filter(pe=>pe.adventure_id===fe))}if(_!=="Todos"&&(M=M.filter(fe=>fe.payment_status===_)),y!=="Todas"){const fe=(il=r.find(pe=>pe.name===y))==null?void 0:il.id;y==="Particular"?M=M.filter(pe=>pe.agency_id===null):fe&&(M=M.filter(pe=>pe.agency_id===fe))}j!=="Todos"&&(M=M.filter(fe=>fe.status===j));const L=new Date;let V=Bn(L,3),X=L,ce=Bn(L,6),R=Bn(L,3);f==="ltima Semana"?(V=PA(L,1),ce=PA(L,2),R=V):f==="ltimo Ms"?(V=Bn(L,1),ce=Bn(L,2),R=V):f==="ltimos 3 meses"?(V=Bn(L,3),ce=Bn(L,6),R=V):f==="ltimos 6 meses"?(V=Bn(L,6),ce=Bn(L,12),R=V):f==="Este Ano"?(V=bo(L),ce=bo(Wi(L,1)),R=bo(L),R=Ay(Wi(L,1))):f==="Ano Passado"&&(V=bo(Wi(L,1)),X=Ay(Wi(L,1)),ce=bo(Wi(L,2)),R=Ay(Wi(L,2)));const G=M.filter(fe=>{const pe=new Date(fe.date);return pe>=V&&pe<=X}),H=M.filter(fe=>{const pe=new Date(fe.date);return pe>=ce&&pe<=R}),se=fe=>{const pe=fe.reduce((sl,Xr)=>sl+(["Confirmada","Concluda"].includes(Xr.status)&&Xr.total_amount||0),0),Je=fe.length,hr=fe.reduce((sl,Xr)=>sl+((Xr.adults||0)+(Xr.children||0)+(Xr.babies||0)),0),ym=Je>0?pe/Je:0;return{revenue:pe,bookings:Je,participants:hr,avgTicket:ym}},he=se(G),le=se(H),ne=(fe,pe)=>{if(pe===0)return fe>0?"+100%":"0%";const Je=(fe-pe)/pe*100;return`${Je>=0?"+":""}${Je.toFixed(0)}%`},me={revenue:he.revenue,bookings:he.bookings,participants:he.participants,averageTicket:he.avgTicket,revenueChange:ne(he.revenue,le.revenue),bookingsChange:ne(he.bookings,le.bookings),participantsChange:ne(he.participants,le.participants),avgTicketChange:ne(he.avgTicket,le.avgTicket),revenuePositive:he.revenue>=le.revenue,bookingsPositive:he.bookings>=le.bookings,participantsPositive:he.participants>=le.participants,avgTicketPositive:he.avgTicket>=le.avgTicket},ee=new Map;let ge=3;if(f==="ltima Semana"||f==="ltimo Ms"?ge=1:f==="ltimos 3 meses"?ge=3:f==="ltimos 6 meses"?ge=6:(f==="Este Ano"||f==="Ano Passado")&&(ge=12),f==="Ano Passado"){const fe=Wi(new Date,1);for(let pe=0;pe<12;pe++){const Je=new Date(fe.getFullYear(),pe,1),hr=nf(Je,"MMM",{locale:af});ee.set(hr,{name:hr,receita:0,reservas:0,sortKey:Je.getTime()})}}else if(f==="Este Ano"){const fe=new Date().getFullYear();for(let pe=0;pe<12;pe++){const Je=new Date(fe,pe,1),hr=nf(Je,"MMM",{locale:af});ee.set(hr,{name:hr,receita:0,reservas:0,sortKey:Je.getTime()})}}else for(let fe=ge-1;fe>=0;fe--){const pe=Bn(new Date,fe),Je=nf(pe,"MMM",{locale:af});ee.set(Je,{name:Je,receita:0,reservas:0,sortKey:pe.getTime()})}G.forEach(fe=>{const pe=new Date(fe.date),Je=nf(pe,"MMM",{locale:af});if(ee.has(Je)){const hr=ee.get(Je);hr.reservas+=1,["Confirmada","Concluda"].includes(fe.status)&&(hr.receita+=fe.total_amount||0)}});const Oe=Array.from(ee.values()).sort((fe,pe)=>fe.sortKey-pe.sortKey),de=G.reduce((fe,pe)=>(fe[pe.status]=(fe[pe.status]||0)+1,fe),{}),vt=Object.entries(de).map(([fe,pe])=>({name:fe,value:pe})),Pe=G.reduce((fe,pe)=>{const Je=pe.payment_status||"Pendente";return fe[Je]=(fe[Je]||0)+1,fe},{}),wt=Object.entries(Pe).map(([fe,pe])=>({name:fe,value:pe})),_t=[...new Set(i.map(fe=>fe.name))],vn=[...new Set(e.map(fe=>fe.client_country).filter(Boolean))],Oi=["Particular",...r.map(fe=>fe.name)],rl=[...new Set(e.map(fe=>fe.status).filter(Boolean))],nl=G.reduce((fe,pe)=>(fe[pe.adventure_id]=(fe[pe.adventure_id]||0)+1,fe),{}),al=Object.entries(nl).map(([fe,pe])=>{const Je=i.find(hr=>hr.id===fe);return{name:(Je==null?void 0:Je.name)||"Desconhecido",count:`${pe} reservas`}}).sort((fe,pe)=>parseInt(pe.count)-parseInt(fe.count)).slice(0,3),fu=G.reduce((fe,pe)=>(pe.client_country&&(fe[pe.client_country]||(fe[pe.client_country]=0),["Confirmada","Concluda"].includes(pe.status)&&(fe[pe.client_country]+=pe.total_amount||0)),fe),{}),hu=Object.values(fu).reduce((fe,pe)=>fe+pe,0),fr=Object.entries(fu).map(([fe,pe])=>({name:fe,value:pe,percentage:hu>0?Math.round(pe/hu*100):0,flag:fe==="Portugal"?"":fe==="Espanha"?"":fe==="Frana"?"":fe==="Reino Unido"?"":""})).sort((fe,pe)=>pe.value-fe.value).slice(0,4);return{metrics:me,chartData:Oe,bookingStatusData:vt,paymentStatusData:wt,uniqueAdventures:_t,uniqueCountries:vn,uniqueAgencies:Oi,uniqueStatuses:rl,topAdventures:al,countryStats:fr}},[e,r,i,f,p,y,j,_,l]);return l?d.jsx("div",{className:"flex items-center justify-center h-96 animate-pulse",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"Carregando dados..."})]})}):d.jsxs("div",{className:"flex flex-col gap-8 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight",children:"Anlise de Desempenho"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] mt-1",children:"Insights aprofundados sobre as suas reservas tursticas."})]}),d.jsxs("button",{onClick:()=>window.print(),className:"no-print flex items-center gap-2 bg-primary hover:bg-primary-dark text-background-dark font-bold py-2.5 px-5 rounded-lg transition-colors shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined",children:"print"}),"Exportar Relatrio"]})]}),d.jsx("div",{className:"no-print bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-5 shadow-sm",children:d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[d.jsxs("div",{className:N,children:[d.jsx("label",{className:T,children:"Perodo"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:f,onChange:M=>m(M.target.value),className:k,children:[d.jsx("option",{value:"ltima Semana",children:"ltima Semana"}),d.jsx("option",{value:"ltimo Ms",children:"ltimo Ms"}),d.jsx("option",{value:"ltimos 3 meses",children:"ltimos 3 meses"}),d.jsx("option",{value:"ltimos 6 meses",children:"ltimos 6 meses"}),d.jsx("option",{value:"Este Ano",children:"Este Ano"}),d.jsx("option",{value:"Ano Passado",children:"Ano Passado"})]}),d.jsx("span",{className:A,children:"date_range"})]})]}),d.jsxs("div",{className:N,children:[d.jsx("label",{className:T,children:"Aventura"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:p,onChange:M=>g(M.target.value),className:k,children:[d.jsx("option",{value:"Todas",children:"Todas"}),re.map(M=>d.jsx("option",{value:M,children:M},M))]}),d.jsx("span",{className:A,children:"kayaking"})]})]}),d.jsxs("div",{className:N,children:[d.jsx("label",{className:T,children:"Agncia"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:y,onChange:M=>b(M.target.value),className:k,children:[d.jsx("option",{value:"Todas",children:"Todas"}),P.map(M=>d.jsx("option",{value:M,children:M},M))]}),d.jsx("span",{className:A,children:"storefront"})]})]}),d.jsxs("div",{className:N,children:[d.jsx("label",{className:T,children:"Status Pagamento"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:_,onChange:M=>E(M.target.value),className:k,children:[d.jsx("option",{value:"Todos",children:"Todos"}),d.jsx("option",{value:"Pendente",children:"Pendente"}),d.jsx("option",{value:"Concluido",children:"Concluido"}),d.jsx("option",{value:"Cancelado",children:"Cancelado"})]}),d.jsx("span",{className:A,children:"payments"})]})]}),d.jsxs("div",{className:N,children:[d.jsx("label",{className:T,children:"Status"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:j,onChange:M=>S(M.target.value),className:k,children:[d.jsx("option",{value:"Todos",children:"Todos"}),B.map(M=>d.jsx("option",{value:M,children:M},M))]}),d.jsx("span",{className:A,children:"info"})]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(gi,{label:"Receita Total",value:`${D.revenue.toLocaleString()}`,change:`${D.revenueChange} vs. anterior`,isPositive:D.revenuePositive}),d.jsx(gi,{label:"Total de Reservas",value:D.bookings.toString(),change:`${D.bookingsChange} vs. anterior`,isPositive:D.bookingsPositive}),d.jsx(gi,{label:"Total de Participantes",value:D.participants.toString(),change:`${D.participantsChange} vs. anterior`,isPositive:D.participantsPositive}),d.jsx(gi,{label:"Ticket Mdio",value:`${D.averageTicket.toFixed(2)}`,change:`${D.avgTicketChange} vs. anterior`,isPositive:D.avgTicketPositive})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[d.jsxs("div",{className:"lg:col-span-3 flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-6 shadow-sm",children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Tendncia de Receita e Reservas"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Desempenho no perodo selecionado"})]})}),d.jsx("div",{className:"h-80 w-full",children:d.jsx(mf,{width:"100%",height:"100%",children:d.jsxs(dR,{data:I,margin:{top:20,right:30,left:0,bottom:5},children:[d.jsx(mw,{strokeDasharray:"3 3",vertical:!1,stroke:"#374151",opacity:.1}),d.jsx(vw,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",dy:10,fontSize:12}}),d.jsx(Mc,{yAxisId:"left",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12},tickFormatter:M=>`${(M/1e3).toFixed(0)}k`}),d.jsx(Mc,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fill:"#9CA3AF",fontSize:12}}),d.jsx(oM,{contentStyle:{backgroundColor:"#102215",borderColor:"#32673f",color:"#fff",borderRadius:"0.5rem"},itemStyle:{color:"#fff"},formatter:(M,L)=>[L==="Receita"?`${M.toLocaleString()}`:M,L]}),d.jsx(F2,{verticalAlign:"top",height:36,iconType:"circle"}),d.jsx(uw,{yAxisId:"left",name:"Receita",dataKey:"receita",fill:"#13ec49",radius:[4,4,0,0],barSize:32,fillOpacity:.8}),d.jsx(gw,{yAxisId:"right",type:"monotone",name:"N Reservas",dataKey:"reservas",stroke:"#ffffff",strokeWidth:3,dot:{r:4,strokeWidth:2}})]})})})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-6 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Desempenho por Pas"}),d.jsx("div",{className:"space-y-4",children:q.map(M=>d.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-b border-gray-100 dark:border-white/5",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-lg",children:M.flag}),d.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:M.name})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:["",M.value.toLocaleString()]}),d.jsxs("span",{className:"text-gray-500 w-10 text-right",children:[M.percentage,"%"]})]})]},M.name))})]})]}),d.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-6 shadow-sm",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Status das Reservas"})}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"relative size-32",children:[d.jsx(mf,{width:"100%",height:"100%",children:d.jsx(SA,{children:d.jsx(F0,{data:W,cx:"50%",cy:"50%",innerRadius:40,outerRadius:55,startAngle:90,endAngle:-270,dataKey:"value",stroke:"none",children:W.map((M,L)=>d.jsx(Bo,{fill:sf[M.name]||"#9ca3af"},`cell-${L}`))})})}),d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[d.jsx("span",{className:"text-2xl font-black text-gray-900 dark:text-white",children:D.bookings}),d.jsx("span",{className:"text-xs text-gray-500",children:"Total"})]})]}),d.jsx("div",{className:"flex flex-col gap-2",children:W.map(M=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:sf[M.name]||"#9ca3af"}}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[M.name," (",M.value,")"]})]},M.name))})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-6 shadow-sm",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Status do Pagamento"})}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"relative size-32",children:[d.jsx(mf,{width:"100%",height:"100%",children:d.jsx(SA,{children:d.jsx(F0,{data:Y,cx:"50%",cy:"50%",innerRadius:40,outerRadius:55,startAngle:90,endAngle:-270,dataKey:"value",stroke:"none",children:Y.map((M,L)=>d.jsx(Bo,{fill:sf[M.name]||"#9ca3af"},`cell-${L}`))})})}),d.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[d.jsx("span",{className:"text-2xl font-black text-gray-900 dark:text-white",children:D.bookings}),d.jsx("span",{className:"text-xs text-gray-500",children:"Total"})]})]}),d.jsx("div",{className:"flex flex-col gap-2",children:Y.map(M=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:sf[M.name]||"#9ca3af"}}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[M.name," (",M.value,")"]})]},M.name))})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-6 shadow-sm flex-1",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Top Aventuras"}),d.jsx("div",{className:"space-y-4",children:K.map(M=>d.jsx(nz,{name:M.name,count:M.count},M.name))})]})]})]})]})},Qte=()=>{const e=Mn(),{canEdit:t}=Ta(),[r,n]=w.useState([]),[i,s]=w.useState([]),[l,u]=w.useState(!0),[f,m]=w.useState(""),[p,g]=w.useState("Todos"),[y,b]=w.useState("Todos"),[j,S]=w.useState("Todas"),[_,E]=w.useState("Todas"),[N,k]=w.useState(""),[T,A]=w.useState(""),[D,I]=w.useState(1),W=10,Y=async()=>{try{u(!0);const{data:H,error:se}=await Se.from("bookings").select(`
                    *,
                    agency: agencies(name),
                    adventure: adventures(name)
                `).order("created_at",{ascending:!1});if(se)throw se;const{data:he,error:le}=await Se.from("adventures").select("name").order("name");if(le)throw le;he&&s(he.map(me=>me.name));const ne=(H||[]).map(me=>{var ee,ge;return{id:me.id,clientName:me.client_name,clientEmail:me.client_email,clientPhone:me.client_phone,clientNif:me.client_nif,city:me.client_city,country:me.client_country,adventureName:((ee=me.adventure)==null?void 0:ee.name)||"Desconhecida",agency:((ge=me.agency)==null?void 0:ge.name)||"Particular",startDate:me.date,time:me.time,adults:me.adults,children:me.children,babies:me.babies,participants:(me.adults||0)+(me.children||0)+(me.babies||0),status:me.status,paymentStatus:me.payment_status,totalValue:me.total_amount,deposit:me.deposit_amount,notes:me.notes,location:me.client_city,endDate:me.date}});n(ne)}catch(H){console.error("Error fetching data:",H)}finally{u(!1)}};w.useEffect(()=>{Y()},[]);const re=[...new Set(r.map(H=>H.agency).filter(Boolean))],U=r.filter(H=>{const se=H.clientName.toLowerCase().includes(f.toLowerCase())||H.id.toLowerCase().includes(f.toLowerCase()),he=p==="Todos"||H.status===p,le=y==="Todos"||H.paymentStatus===y,ne=j==="Todas"||H.adventureName===j,me=_==="Todas"||H.agency===_;let ee=!0;if(N||T){const ge=H.startDate;N&&ge<N&&(ee=!1),T&&ge>T&&(ee=!1)}return se&&he&&le&&ne&&me&&ee});w.useEffect(()=>{I(1)},[f,p,y,j,_,N,T]);const P=Math.ceil(U.length/W),B=(D-1)*W,K=B+W,q=U.slice(B,K),M=H=>{switch(H){case"Confirmada":return"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300";case"Pendente":return"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-700 dark:text-yellow-300";case"Cancelada":return"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300";case"Concluda":return"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}},L=H=>{switch(H){case"Concluido":case"Concludo":return"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 border-green-200 dark:border-green-700";case"Pendente":return"bg-orange-100 dark:bg-orange-900/40 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-700";case"Parcial":return"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-700";case"Cancelado":return"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 border-red-200 dark:border-red-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600"}},V=H=>{H>=1&&H<=P&&I(H)},X="w-full",ce="w-full appearance-none py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-700 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm",R="block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1.5 ml-1",G="material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-lg pointer-events-none text-gray-500 dark:text-gray-400";return d.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight tracking-tight",children:"Gesto de Reservas"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] text-base font-normal mt-1",children:"Visualize e gerencie todas as reservas ativas e passadas."})]}),d.jsxs("div",{className:"no-print flex gap-3",children:[d.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-lg text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"print"}),"Exportar"]}),d.jsxs("button",{onClick:()=>e("/new-booking"),className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-primary-dark text-background-dark text-sm font-bold tracking-wide gap-2 transition-all shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined",children:"add"}),d.jsx("span",{children:"Nova Reserva"})]})]})]}),d.jsxs("div",{className:"no-print bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-5 shadow-sm",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:X,children:[d.jsx("label",{className:R,children:"Pesquisar"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"search"}),d.jsx("input",{type:"text",placeholder:"Nome, ID...",className:`${ce} pl-10 pr-4`,value:f,onChange:H=>m(H.target.value)})]})]}),d.jsxs("div",{className:X,children:[d.jsx("label",{className:R,children:"Status"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{className:`${ce} pl-3 pr-10`,value:p,onChange:H=>g(H.target.value),children:[d.jsx("option",{value:"Todos",children:"Todos"}),d.jsx("option",{value:"Confirmada",children:"Confirmada"}),d.jsx("option",{value:"Pendente",children:"Pendente"}),d.jsx("option",{value:"Concluda",children:"Concluda"}),d.jsx("option",{value:"Cancelada",children:"Cancelada"})]}),d.jsx("span",{className:G,children:"expand_more"})]})]}),d.jsxs("div",{className:X,children:[d.jsx("label",{className:R,children:"Data Incio"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"date",value:N,onChange:H=>k(H.target.value),className:`${ce} pl-3 pr-10 dark:scheme-dark`,placeholder:"De"}),d.jsx("span",{className:G,children:"calendar_today"})]})]}),d.jsxs("div",{className:X,children:[d.jsx("label",{className:R,children:"Data Fim"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"date",value:T,onChange:H=>A(H.target.value),className:`${ce} pl-3 pr-10 dark:scheme-dark`,placeholder:"At"}),d.jsx("span",{className:G,children:"event"})]})]}),d.jsxs("div",{className:X,children:[d.jsx("label",{className:R,children:"Agncia"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{className:`${ce} pl-3 pr-10`,value:_,onChange:H=>E(H.target.value),children:[d.jsx("option",{value:"Todas",children:"Todas"}),re.map(H=>d.jsx("option",{value:H,children:H},H))]}),d.jsx("span",{className:G,children:"expand_more"})]})]}),d.jsxs("div",{className:X,children:[d.jsx("label",{className:R,children:"Aventura"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{className:`${ce} pl-3 pr-10`,value:j,onChange:H=>S(H.target.value),children:[d.jsx("option",{value:"Todas",children:"Todas"}),i.map(H=>d.jsx("option",{value:H,children:H},H))]}),d.jsx("span",{className:G,children:"expand_more"})]})]}),d.jsxs("div",{className:X,children:[d.jsx("label",{className:R,children:"Estado Pagamento"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{className:`${ce} pl-3 pr-10`,value:y,onChange:H=>b(H.target.value),children:[d.jsx("option",{value:"Todos",children:"Todos"}),d.jsx("option",{value:"Pendente",children:"Pendente"}),d.jsx("option",{value:"Parcial",children:"Parcial"}),d.jsx("option",{value:"Concluido",children:"Concludo"}),d.jsx("option",{value:"Cancelado",children:"Cancelado"})]}),d.jsx("span",{className:G,children:"expand_more"})]})]})]}),(N||T||p!=="Todos"||f!==""||_!=="Todas"||y!=="Todos")&&d.jsx("div",{className:"flex justify-end mt-4 pt-3 border-t border-gray-100 dark:border-white/5",children:d.jsxs("button",{onClick:()=>{k(""),A(""),m(""),g("Todos"),b("Todos"),E("Todas"),S("Todas")},className:"text-xs font-bold text-red-500 hover:text-red-600 dark:hover:text-red-400 flex items-center gap-1 transition-colors",children:[d.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"}),"Limpar Filtros"]})})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20 text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider font-semibold border-b border-gray-200 dark:border-surface-border",children:[d.jsx("th",{className:"px-3 py-3 whitespace-nowrap",children:"ID"}),d.jsx("th",{className:"px-3 py-3 whitespace-nowrap",children:"Cliente"}),d.jsx("th",{className:"px-3 py-3 whitespace-nowrap",children:"Agncia"}),d.jsx("th",{className:"px-3 py-3 whitespace-nowrap",children:"Aventura"}),d.jsx("th",{className:"px-3 py-3 whitespace-nowrap",children:"Data"}),d.jsx("th",{className:"px-3 py-3 whitespace-nowrap",children:"Hora"}),d.jsx("th",{className:"px-3 py-3 text-center whitespace-nowrap",children:"Pax"}),d.jsx("th",{className:"px-3 py-3 whitespace-nowrap",children:"Pagamento"}),d.jsx("th",{className:"px-3 py-3 whitespace-nowrap",children:"Status"}),d.jsx("th",{className:"px-3 py-3 text-right whitespace-nowrap",children:"Valor"}),d.jsx("th",{className:"no-print px-3 py-3 text-center whitespace-nowrap",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-surface-border",children:q.length>0?q.map(H=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[d.jsx("td",{className:"px-3 py-3 cursor-pointer",onClick:()=>e(`/bookings/${H.id}`),children:d.jsx("button",{onClick:se=>{se.stopPropagation(),navigator.clipboard.writeText(H.id)},className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-primary/10 dark:hover:bg-primary/20 transition-colors group/id",title:`ID: ${H.id}
Clique para copiar`,children:d.jsx("span",{className:"material-symbols-outlined text-base text-gray-600 dark:text-gray-400 group-hover/id:text-primary",children:"tag"})})}),d.jsx("td",{className:"px-3 py-3 cursor-pointer",onClick:()=>e(`/bookings/${H.id}`),children:d.jsxs("div",{className:"flex items-center gap-2 max-w-[160px]",children:[d.jsx("div",{className:"size-6 shrink-0 rounded-full bg-primary/20 text-primary-dark dark:text-primary flex items-center justify-center text-[10px] font-bold",children:H.clientName.split(" ").map(se=>se[0]).join("").substring(0,2)}),d.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",title:H.clientName,children:H.clientName})]})}),d.jsx("td",{className:"px-3 py-3 text-sm text-gray-600 dark:text-gray-300",children:d.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium truncate max-w-[100px] ${H.agency==="Particular"?"bg-gray-100 dark:bg-white/10 text-gray-600 dark:text-gray-300":"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300"}`,title:H.agency,children:H.agency||"-"})}),d.jsx("td",{className:"px-3 py-3 text-sm text-gray-600 dark:text-gray-300 max-w-[130px] truncate",title:H.adventureName,children:H.adventureName}),d.jsx("td",{className:"px-3 py-3 text-xs text-gray-500 dark:text-gray-400 font-mono whitespace-nowrap",children:Z0(H.startDate)}),d.jsx("td",{className:"px-3 py-3 text-xs text-gray-500 dark:text-gray-400 font-mono whitespace-nowrap",children:H.time||"-"}),d.jsx("td",{className:"px-3 py-3 text-sm text-gray-900 dark:text-white font-medium text-center",children:H.participants}),d.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-bold border ${L(H.paymentStatus||"Pendente")}`,children:[d.jsx("span",{className:"material-symbols-outlined text-xs",children:"payments"}),H.paymentStatus||"Pendente"]})}),d.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium ${M(H.status)}`,children:H.status})}),d.jsxs("td",{className:"px-3 py-3 text-sm font-bold text-gray-900 dark:text-white text-right whitespace-nowrap",children:["",H.totalValue]}),d.jsx("td",{className:"no-print px-3 py-3",children:d.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:se=>{se.stopPropagation(),e(`/bookings/${H.id}`)},className:"p-1 text-gray-500 hover:text-primary transition-colors",title:"Ver detalhes",children:d.jsx("span",{className:"material-symbols-outlined text-base",children:"visibility"})}),d.jsx("button",{onClick:se=>{se.stopPropagation(),e(`/bookings/${H.id}?mode=edit`)},className:"p-1 text-gray-500 hover:text-primary transition-colors",title:"Editar reserva",children:d.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"})})]})})]},H.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:11,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl opacity-50",children:"search_off"}),d.jsx("p",{children:"Nenhuma reserva encontrada com os filtros atuais."})]})})})})]})}),d.jsxs("div",{className:"no-print px-4 py-3 border-t border-gray-200 dark:border-surface-border flex items-center justify-between bg-gray-50 dark:bg-black/20",children:[d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:block",children:["Mostrando ",d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:U.length>0?B+1:0})," a ",d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Math.min(K,U.length)})," de ",d.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:U.length})]}),d.jsxs("div",{className:"flex gap-2 mx-auto sm:mx-0",children:[d.jsx("button",{onClick:()=>V(D-1),disabled:D===1||U.length===0,className:"px-2 py-1 rounded-md border border-gray-200 dark:border-surface-border text-gray-600 dark:text-gray-300 hover:bg-white dark:hover:bg-white/10 text-xs transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),Array.from({length:P},(H,se)=>se+1).map(H=>d.jsx("button",{onClick:()=>V(H),className:`px-2 py-1 rounded-md text-xs font-bold transition-colors ${D===H?"bg-primary text-background-dark":"border border-gray-200 dark:border-surface-border text-gray-600 dark:text-gray-300 hover:bg-white dark:hover:bg-white/10"}`,children:H},H)),d.jsx("button",{onClick:()=>V(D+1),disabled:D===P||U.length===0,className:"px-2 py-1 rounded-md border border-gray-200 dark:border-surface-border text-gray-600 dark:text-gray-300 hover:bg-white dark:hover:bg-white/10 text-xs transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Prxima"})]})]})]})]})},Jte=e=>{switch(e){case"Water":return"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-200 border-l-2 border-blue-500";case"Hiking":return"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-200 border-l-2 border-green-500";case"Adventure":return"bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-200 border-l-2 border-orange-500";case"Culture":return"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-200 border-l-2 border-purple-500";default:return"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 border-l-2 border-gray-500"}},Zte=()=>{const e=Mn(),[t,r]=w.useState(new Date),[n,i]=w.useState([]),[s,l]=w.useState(!0),u=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),f=new Date(t.getFullYear(),t.getMonth(),1).getDay(),m=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];w.useEffect(()=>{(async()=>{try{l(!0);const{data:k,error:T}=await Se.from("bookings").select(`
                        id,
                        date,
                        time,
                        adults,
                        children,
                        babies,
                        total_amount,
                        adventure:adventures(name)
                    `);if(T)throw T;const A=(k||[]).map(D=>{var U;const I=D.adventure,W=Array.isArray(I)?(U=I[0])==null?void 0:U.name:(I==null?void 0:I.name)||"Aventura";let Y="Adventure";const re=W.toLowerCase();return re.includes("rio")||re.includes("barco")||re.includes("kayak")||re.includes("sup")?Y="Water":re.includes("trilho")||re.includes("caminhada")||re.includes("montanha")?Y="Hiking":(re.includes("museu")||re.includes("visita")||re.includes("cultural"))&&(Y="Culture"),{id:D.id,date:D.date,type:Y,title:W,time:D.time,participants:(D.adults||0)+(D.children||0)+(D.babies||0),value:D.total_amount}});i(A)}catch(k){console.error("Error fetching calendar events:",k)}finally{l(!1)}})()},[]);const p=()=>{r(new Date(t.getFullYear(),t.getMonth()-1,1))},g=()=>{r(new Date(t.getFullYear(),t.getMonth()+1,1))},y=()=>{r(new Date)},b=N=>{const k=t.getFullYear(),T=String(t.getMonth()+1).padStart(2,"0"),A=String(N).padStart(2,"0"),D=`${k}-${T}-${A}`;return n.filter(I=>I.date===D)},j=n.filter(N=>{const k=new Date(N.date);return k.getMonth()===t.getMonth()&&k.getFullYear()===t.getFullYear()}),S=j.length,_=j.reduce((N,k)=>N+k.participants,0),E=j.reduce((N,k)=>N+k.value,0);return s?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):d.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight tracking-tight",children:"Calendrio de Aventuras"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] text-base font-normal mt-1",children:"Planejamento e visualizao de passeios."})]}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("button",{onClick:()=>e("/new-booking"),className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-primary-dark text-background-dark text-sm font-bold tracking-wide gap-2 transition-all shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined",children:"add"}),d.jsx("span",{children:"Nova Reserva"})]})})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[d.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl shadow-sm flex flex-col",children:[d.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-surface-border",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white w-40",children:[m[t.getMonth()]," ",d.jsx("span",{className:"text-gray-500",children:t.getFullYear()})]}),d.jsxs("div",{className:"flex items-center rounded-md border border-gray-200 dark:border-surface-border bg-gray-50 dark:bg-black/20",children:[d.jsx("button",{onClick:p,className:"p-1.5 hover:bg-white dark:hover:bg-white/10 rounded-l-md transition-colors text-gray-600 dark:text-gray-300",children:d.jsx("span",{className:"material-symbols-outlined text-xl",children:"chevron_left"})}),d.jsx("button",{onClick:y,className:"px-3 py-1 text-sm font-medium border-x border-gray-200 dark:border-surface-border hover:bg-white dark:hover:bg-white/10 text-gray-600 dark:text-gray-300 transition-colors",children:"Hoje"}),d.jsx("button",{onClick:g,className:"p-1.5 hover:bg-white dark:hover:bg-white/10 rounded-r-md transition-colors text-gray-600 dark:text-gray-300",children:d.jsx("span",{className:"material-symbols-outlined text-xl",children:"chevron_right"})})]})]})}),d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"grid grid-cols-7 min-w-[800px]",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(N=>d.jsx("div",{className:"py-2 text-center text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-black/20 border-b border-gray-200 dark:border-surface-border",children:N},N)),Array.from({length:f}).map((N,k)=>d.jsx("div",{className:"min-h-[110px] bg-gray-50/50 dark:bg-black/10 border-b border-r border-gray-200 dark:border-surface-border"},`empty-${k}`)),Array.from({length:u}).map((N,k)=>{const T=k+1,A=b(T),D=T===new Date().getDate()&&t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear();return d.jsxs("div",{className:"min-h-[110px] p-1.5 border-b border-r border-gray-200 dark:border-surface-border hover:bg-gray-50 dark:hover:bg-white/5 transition-colors relative group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("span",{className:`text-xs font-medium w-6 h-6 flex items-center justify-center rounded-full ${D?"bg-primary text-background-dark font-bold":"text-gray-700 dark:text-gray-300"}`,children:T}),A.length>0&&d.jsx("span",{className:"text-[9px] text-gray-400 font-medium",children:A.length})]}),d.jsx("div",{className:"flex flex-col gap-1",children:A.map(I=>d.jsxs("div",{onClick:W=>{W.stopPropagation(),e(`/bookings/${I.id}`)},className:`text-[9px] px-1 py-0.5 rounded border-l-2 truncate cursor-pointer hover:opacity-80 transition-opacity ${Jte(I.type)}`,title:`${I.time} - ${I.title}`,children:[d.jsx("span",{className:"font-bold mr-1",children:I.time}),I.title]},I.id))}),d.jsx("div",{className:"absolute bottom-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx("button",{onClick:()=>e("/new-booking"),className:"p-1 rounded-full bg-gray-100 dark:bg-white/10 hover:bg-primary hover:text-background-dark text-gray-500 dark:text-gray-400 transition-colors",children:d.jsx("span",{className:"material-symbols-outlined text-sm block",children:"add"})})})]},T)}),Array.from({length:(7-(u+f)%7)%7}).map((N,k)=>d.jsx("div",{className:"min-h-[110px] bg-gray-50/50 dark:bg-black/10 border-b border-r border-gray-200 dark:border-surface-border"},`empty-end-${k}`))]})})]}),d.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-primary/10 dark:bg-primary/5 border border-primary/20 rounded-xl p-4",children:[d.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"calendar_month"}),"Resumo do Ms"]}),d.jsxs("div",{className:"flex justify-between items-center mb-2 pb-2 border-b border-primary/10",children:[d.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total de Passeios"}),d.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:S})]}),d.jsxs("div",{className:"flex justify-between items-center mb-2 pb-2 border-b border-primary/10",children:[d.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total de Pessoas"}),d.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:_})]}),d.jsxs("div",{className:"flex justify-between items-center pt-1",children:[d.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"Receita Total"}),d.jsxs("span",{className:"text-base font-black text-green-600 dark:text-primary",children:["",E.toLocaleString("pt-PT")]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-4 shadow-sm flex-1 flex flex-col",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Prximos Eventos"}),d.jsx("div",{className:"flex flex-col gap-4 flex-1",children:n.filter(N=>new Date(N.date)>=new Date).sort((N,k)=>new Date(N.date).getTime()-new Date(k.date).getTime()).slice(0,5).map(N=>d.jsxs("div",{onClick:()=>e(`/bookings/${N.id}`),className:"flex gap-3 items-center pb-3 border-b border-gray-100 dark:border-white/5 last:border-0 cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 p-2 rounded-lg transition-colors",children:[d.jsxs("div",{className:"flex flex-col items-center bg-gray-100 dark:bg-white/10 rounded-lg p-1.5 min-w-[45px]",children:[d.jsx("span",{className:"text-[10px] font-bold text-primary-dark dark:text-primary uppercase",children:new Date(N.date).toLocaleDateString("pt-BR",{month:"short"}).replace(".","")}),d.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:new Date(N.date).getDate()})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight hover:text-primary transition-colors truncate max-w-[150px]",children:N.title}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 flex items-center gap-1",children:[d.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"schedule"}),N.time]}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 flex items-center gap-1",children:[d.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"group"}),N.participants]})]})]})]},N.id))}),d.jsx("button",{onClick:()=>e("/bookings"),className:"w-full mt-auto py-2 text-sm font-medium text-primary hover:text-primary-dark transition-colors",children:"Ver Todos"})]})]})]})]})},ere=()=>{const e=Mn(),[t,r]=w.useState(""),[n,i]=w.useState(""),[s,l]=w.useState(!1),[u,f]=w.useState(null),{login:m}=Ta(),p=async g=>{g.preventDefault(),l(!0),f(null);try{await m(t,n),e("/")}catch(y){y.code==="email_not_confirmed"?f("Email no confirmado. Por favor, verifique a sua caixa de entrada."):f("Falha ao iniciar sesso. Verifique as suas credenciais.")}finally{l(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark p-4 font-display",children:d.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-2xl shadow-xl overflow-hidden animate-fade-in",children:[d.jsxs("div",{className:"p-8 text-center border-b border-gray-100 dark:border-white/5 bg-gray-50 dark:bg-black/20",children:[d.jsx("div",{className:"mx-auto bg-center bg-no-repeat bg-cover rounded-full size-16 shadow-lg border-2 border-primary/20 mb-4",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBZkiVga_83D8i9DdG9zNzl-rZdFbqy7E7GwXh6TtB6GqbwHkMXWzAlFDUCjD4cqR8bN0ehLkitfSXui7DrtqfJ4evbG-HwfLuPujFx_i69nOXhDbS77kL-R2QUtLiVt1zeE68V2oQe4koRsrriSt5YhWeNSjT6KFZqrD0f6H148uCbD_5Sz7W7OyiNYFiecSpoCpXdIltAYG9JzFWKq3UUfKTZDgbl0PIORDXVn_symKXxEHy21UPGWyMD5_qMMR1IOJa-GSIeDL4")'}}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Bem-vindo de volta"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Acesse ao painel de gesto Naturisnor"})]}),d.jsxs("div",{className:"p-8",children:[d.jsxs("form",{onSubmit:p,className:"flex flex-col gap-5",children:[u&&d.jsxs("div",{className:"p-3 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/50 text-red-600 dark:text-red-300 text-sm font-medium flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"error"}),u]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-2",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"email",required:!0,value:t,onChange:g=>r(g.target.value),className:"w-full appearance-none pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm",placeholder:"seu.email@naturisnor.com"}),d.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"mail"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-2",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{children:"Password"}),d.jsx("a",{href:"#",className:"text-primary hover:text-primary-dark normal-case font-medium transition-colors",children:"Esqueceu-se?"})]})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"password",required:!0,value:n,onChange:g=>i(g.target.value),className:"w-full appearance-none pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm",placeholder:""}),d.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"lock"})]})]}),d.jsx("button",{type:"submit",disabled:s,className:"mt-2 w-full bg-primary hover:bg-primary-dark text-background-dark font-bold py-3 rounded-lg transition-all shadow-lg shadow-primary/20 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:s?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-5 h-5 border-2 border-background-dark border-t-transparent rounded-full animate-spin"}),"A entrar..."]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Entrar"}),d.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_forward"})]})})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:" 2024 Naturisnor. Todos os direitos reservados."})})]})]})})},tre=()=>{const{canDelete:e,companyId:t}=Ta(),[r,n]=w.useState([]),[i,s]=w.useState(!0),[l,u]=w.useState(""),[f,m]=w.useState(!0),[p,g]=w.useState(!0),[y,b]=w.useState(!1),[j,S]=w.useState("add"),[_,E]=w.useState({id:"",code:"",name:"",nif:"",email:"",phone:"",contact:"",fee:0,iban:"",isActive:!0}),N=async()=>{try{s(!0);const{data:P,error:B}=await Se.from("agencies").select("*").order("name");if(B)throw B;const K=(P||[]).map(q=>({id:q.id,code:q.code,name:q.name,nif:q.nif,email:q.email,phone:q.phone,contact:q.contact,fee:q.fee,iban:q.iban,isActive:q.is_active}));n(K)}catch(P){console.error("Error fetching agencies:",P),alert("Erro ao carregar agncias.")}finally{s(!1)}};w.useEffect(()=>{N()},[]);const k=r.filter(P=>{const B=P.name.toLowerCase().includes(l.toLowerCase())||P.code.toLowerCase().includes(l.toLowerCase())||P.nif&&P.nif.includes(l),K=P.isActive&&f||!P.isActive&&p;return B&&K}),T=async P=>{if(window.confirm("Tem a certeza que deseja remover esta agncia?"))try{const{error:B}=await Se.from("agencies").delete().eq("id",P);if(B)throw B;n(r.filter(K=>K.id!==P))}catch(B){console.error("Error deleting agency:",B),alert("Erro ao remover agncia.")}},A=()=>{S("add"),E({id:"",code:"",name:"",nif:"",email:"",phone:"",contact:"",fee:0,iban:"",isActive:!0}),b(!0)},D=P=>{S("edit"),E(P),b(!0)},I=P=>{const{name:B,value:K}=P.target;E(q=>({...q,[B]:K}))},W=()=>{E(P=>({...P,isActive:!P.isActive}))},Y=async P=>{P.preventDefault();try{const B={code:_.code,name:_.name,nif:_.nif,email:_.email,phone:_.phone,contact:_.contact,fee:Number(_.fee),iban:_.iban,is_active:_.isActive};if(j==="add"){const{data:K,error:q}=await Se.from("agencies").insert([{...B,company_id:t}]).select().single();if(q)throw q;const M={..._,id:K.id,isActive:K.is_active};n([...r,M])}else{const{error:K}=await Se.from("agencies").update(B).eq("id",_.id);if(K)throw K;n(r.map(q=>q.id===_.id?_:q))}b(!1)}catch(B){console.error("Error saving agency:",B),alert(`Erro ao salvar agncia: ${B.message||"Erro desconhecido"}`)}},re="w-full appearance-none py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-700 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm pl-3",U="block text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-1.5";return i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in relative",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight tracking-tight",children:"Gesto de Agncias"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] text-base font-normal mt-1",children:"Administre os seus parceiros e agncias de turismo."})]}),d.jsxs("button",{onClick:A,className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-primary-dark text-background-dark text-sm font-bold tracking-wide gap-2 transition-all shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined",children:"add"}),d.jsx("span",{children:"Nova Agncia"})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-5 shadow-sm flex flex-col sm:flex-row gap-6 items-end",children:[d.jsxs("div",{className:"w-full max-w-md relative",children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1.5 ml-1",children:"Pesquisar"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"search"}),d.jsx("input",{type:"text",placeholder:"Nome, Cdigo ou NIF...",className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm",value:l,onChange:P=>u(P.target.value)})]})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"Mostrar"}),d.jsxs("div",{className:"flex items-center gap-6 h-[42px]",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group select-none",children:[d.jsxs("div",{className:`relative w-9 h-5 rounded-full transition-colors ${f?"bg-primary":"bg-gray-300 dark:bg-gray-600"}`,children:[d.jsx("input",{type:"checkbox",checked:f,onChange:P=>m(P.target.checked),className:"sr-only"}),d.jsx("div",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform shadow-sm ${f?"translate-x-4":""}`})]}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Ativas"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group select-none",children:[d.jsxs("div",{className:`relative w-9 h-5 rounded-full transition-colors ${p?"bg-primary":"bg-gray-300 dark:bg-gray-600"}`,children:[d.jsx("input",{type:"checkbox",checked:p,onChange:P=>g(P.target.checked),className:"sr-only"}),d.jsx("div",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform shadow-sm ${p?"translate-x-4":""}`})]}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Inativas"})]})]})]})]}),d.jsx("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20 text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider font-semibold border-b border-gray-200 dark:border-surface-border",children:[d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Status"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Cdigo"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Nome da Agncia"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"NIF"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Email"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Telefone"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Contato"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Fee (%)"}),d.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-surface-border",children:k.length>0?k.map(P=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${P.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-400"}`,children:P.isActive?"Ativa":"Inativa"})}),d.jsx("td",{className:"px-4 py-3 text-xs font-mono font-medium text-gray-500 dark:text-gray-400",children:P.code}),d.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900 dark:text-white",children:P.name}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:P.nif}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:P.email}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:P.phone}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:P.contact}),d.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:[P.fee,"%"]}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx("button",{onClick:()=>D(P),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Editar Agncia",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),e("agencies")&&d.jsx("button",{onClick:()=>T(P.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Apagar Agncia",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})})]},P.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl opacity-50",children:"domain_disabled"}),d.jsx("p",{children:"Nenhuma agncia encontrada."})]})})})})]})})}),y&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-2xl rounded-2xl shadow-2xl border border-gray-200 dark:border-surface-border overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-surface-border bg-gray-50 dark:bg-black/20",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:j==="add"?"Adicionar Nova Agncia":"Editar Agncia"}),d.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 dark:hover:text-white transition-colors",children:d.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),d.jsxs("form",{onSubmit:Y,className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:U,children:"Nome da Agncia"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"name",required:!0,value:_.name,onChange:I,className:`${re} pr-10`,placeholder:"Ex: Viagens Norte"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"storefront"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"Cdigo"}),d.jsx("input",{type:"text",name:"code",required:!0,value:_.code,onChange:I,className:re,placeholder:"Ex: AGT001"})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"NIF"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"nif",required:!0,value:_.nif,onChange:I,className:`${re} pr-10`,placeholder:"123456789"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"badge"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"email",name:"email",required:!0,value:_.email,onChange:I,className:`${re} pr-10`,placeholder:"geral@agencia.com"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"email"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"Telefone"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"tel",name:"phone",value:_.phone,onChange:I,className:`${re} pr-10`,placeholder:"+351 912 345 678"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"phone"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:U,children:"Nome do Contato"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"contact",value:_.contact,onChange:I,className:`${re} pr-10`,placeholder:"Ex: Ana Silva"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"person"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"Fee (%)"}),d.jsx("input",{type:"number",name:"fee",min:"0",max:"100",step:"0.1",value:_.fee,onChange:I,className:re,placeholder:"Ex: 10"})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"IBAN"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"iban",value:_.iban||"",onChange:I,className:`${re} pr-10`,placeholder:"PT50..."}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"account_balance"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-col justify-end",children:[d.jsx("label",{className:U,children:"Estado da Agncia"}),d.jsxs("button",{type:"button",onClick:W,className:`flex items-center gap-3 w-full p-2.5 rounded-lg border transition-all ${_.isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-[#102215] border-gray-200 dark:border-gray-700"}`,children:[d.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${_.isActive?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:d.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all shadow-sm ${_.isActive?"left-6":"left-1"}`})}),d.jsx("span",{className:`text-sm font-semibold ${_.isActive?"text-green-700 dark:text-green-300":"text-gray-500 dark:text-gray-400"}`,children:_.isActive?"Ativa (Parceiro Habilitado)":"Inativa (Parceiro Suspenso)"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-3 mt-4",children:[d.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg text-sm font-bold bg-primary text-background-dark hover:bg-primary-dark transition-colors shadow-lg shadow-primary/20",children:j==="add"?"Salvar Agncia":"Salvar Alteraes"})]})]})]})})]})},rre="modulepreload",nre=function(e){return"/"+e},DA={},are=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(m){return Promise.all(m.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(r.map(m=>{if(m=nre(m),m in DA)return;DA[m]=!0;const p=m.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":rre,p||(y.as="script"),y.crossOrigin="",y.href=m,f&&y.setAttribute("nonce",f),document.head.appendChild(y),p)return new Promise((b,j)=>{y.addEventListener("load",b),y.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};async function bR(e){try{const{data:{session:t}}=await Se.auth.getSession();if(!t)throw new Error("Not authenticated");const r="https://supabase.eletrotecnia.com",n="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NDUwNDkwMCwiZXhwIjo0OTIwMTc4NTAwLCJyb2xlIjoiYW5vbiJ9.4xHDPxTiGcXLbib8vCs_mTZhVgAiZUCOd3yvnkNL3cE",{createClient:i}=await are(async()=>{const{createClient:p}=await Promise.resolve().then(()=>z$);return{createClient:p}},[]),s=i(r,n),{data:l,error:u}=await s.auth.signUp({email:e.email,password:e.password,options:{data:{name:e.name,role:e.role}}});if(u){console.error("SignUp Error:",u);let p=u.message;return p.includes("already registered")&&(p="Este email j est registado no sistema."),{success:!1,error:p}}if(!l.user)return{success:!1,error:"Falha ao criar utilizador (sem dados retornados)."};const f=l.user.id,{error:m}=await Se.rpc("admin_fix_new_user",{target_user_id:f,new_role:e.role});return m?(console.error("RPC Fix Error:",m),{success:!0,user:{id:f,email:e.email},error:"Usurio criado, mas houve erro ao definir permisses finais. Verifique no painel."}):{success:!0,user:{id:f,email:e.email}}}catch(t){return console.error("Create User Exception:",t),{success:!1,error:t.message||"Erro inesperado ao criar utilizador."}}}async function ire(e){try{const{data:{session:t}}=await Se.auth.getSession();if(!t)throw new Error("Not authenticated");const{error:r}=await Se.rpc("admin_update_password",{target_user_id:e.userId,new_password:e.password});return r?(console.error("RPC Error:",r),{success:!1,error:r.message||"Erro ao atualizar senha."}):{success:!0}}catch(t){return{success:!1,error:t.message||"Erro inesperado ao atualizar utilizador."}}}const sre=()=>{const{canDelete:e,isSuperAdmin:t,companyId:r}=Ta(),[n,i]=w.useState([]),[s,l]=w.useState(!0),[u,f]=w.useState(""),[m,p]=w.useState(!0),[g,y]=w.useState(!0),[b,j]=w.useState(!1),[S,_]=w.useState("add"),[E,N]=w.useState({id:"",name:"",email:"",phone:"",role:"Guia",nif:"",notes:"",isActive:!0}),[k,T]=w.useState(""),[A,D]=w.useState(!1),[I,W]=w.useState(!1),[Y,re]=w.useState(null),[U,P]=w.useState([]),B=async()=>{try{l(!0);const{data:le,error:ne}=await Se.from("staff").select("*, company_settings(name)").order("name");if(ne)throw ne;const me=(le||[]).map(ee=>{var ge;return{id:ee.id,name:ee.name,email:ee.email,phone:ee.phone||"",role:ee.role,nif:ee.nif||"",notes:ee.notes||"",isActive:ee.is_active,auth_id:ee.auth_id,company_id:ee.company_id,company_name:(ge=ee.company_settings)==null?void 0:ge.name}});i(me)}catch(le){console.error("Error fetching staff:",le)}finally{l(!1)}};w.useEffect(()=>{B()},[]);const[K,q]=w.useState("");w.useEffect(()=>{(async()=>{if(t){const{data:ne}=await Se.from("company_settings").select("id, name").order("name");ne&&(P(ne),ne.length>0&&q(ne[0].name))}else{const{data:ne}=await Se.from("company_settings").select("name").eq("id",r).single();ne&&q(ne.name)}})()},[t,r]);const M=n.filter(le=>{const ne=le.name.toLowerCase().includes(u.toLowerCase())||le.email.toLowerCase().includes(u.toLowerCase())||le.role.toLowerCase().includes(u.toLowerCase()),me=le.isActive&&m||!le.isActive&&g;return ne&&me}),L=async le=>{if(window.confirm("Tem a certeza que deseja remover este colaborador?"))try{const{error:ne}=await Se.from("staff").delete().eq("id",le);if(ne)throw ne;i(me=>me.filter(ee=>ee.id!==le))}catch(ne){console.error("Error deleting staff:",ne),alert("Erro ao remover colaborador.")}},V=()=>{_("add");const le=t&&U.length>0?U[0].id:void 0;N({id:"",name:"",email:"",phone:"",role:"Guia",nif:"",notes:"",isActive:!0,company_id:le}),T(""),D(!1),re(null),j(!0)},X=le=>{_("edit"),N(le),re(null),j(!0)},ce=le=>{const{name:ne,value:me}=le.target;N(ee=>({...ee,[ne]:me}))},R=()=>{N(le=>({...le,isActive:!le.isActive}))},G=async le=>{var ne;if(le.preventDefault(),re(null),S==="add"&&(!k||k.length<6)){re("A senha deve ter no mnimo 6 caracteres.");return}W(!0);try{const me={name:E.name,email:E.email,phone:E.phone,role:E.role,nif:E.nif,notes:E.notes,is_active:E.isActive};if(S==="add"){const{data:ee}=await Se.from("company_settings").select("id").limit(1).single(),ge=ee==null?void 0:ee.id,Oe=t&&E.company_id?E.company_id:ge,{data:de,error:vt}=await Se.from("staff").insert([{...me,company_id:Oe}]).select().single();if(vt)throw new Error(`Erro ao criar perfil: ${vt.message}`);const Pe=await bR({email:E.email,password:k,name:E.name,role:E.role});if(!Pe.success)throw await Se.from("staff").delete().eq("id",de.id),new Error(Pe.error||"Erro ao criar utilizador de autenticao");const wt={id:de.id,name:de.name,email:de.email,phone:de.phone||"",role:de.role,nif:de.nif||"",notes:de.notes||"",isActive:de.is_active,auth_id:(ne=Pe.user)==null?void 0:ne.id,company_id:ge,company_name:K};i(_t=>[..._t,wt]),alert(` Colaborador criado com sucesso!

Login: ${E.email}
Senha: ${k}

O colaborador j pode fazer login no sistema.`),j(!1)}else{const{error:ee}=await Se.from("staff").update(me).eq("id",E.id);if(ee)throw ee;if(k&&k.length>=6&&E.auth_id)try{const ge=await ire({userId:E.auth_id,password:k});ge.success?alert(` Colaborador atualizado com sucesso!${k?`

Nova senha definida.`:""}`):(console.error("Error updating password:",ge.error),alert(` Perfil atualizado, mas houve erro ao alterar a senha: ${ge.error}`))}catch(ge){console.error("Password update error:",ge),alert(" Perfil atualizado, mas no foi possvel alterar a senha.")}else alert(" Colaborador atualizado com sucesso!");i(ge=>ge.map(Oe=>Oe.id===E.id?E:Oe)),j(!1)}}catch(me){console.error("Error saving staff:",me),re(me.message||"Erro ao salvar colaborador")}finally{W(!1)}},H="w-full appearance-none py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-700 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm pl-3",se="block text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-1.5",he=le=>{switch(le){case"Administrador":return"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-800";case"Gestor":return"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800";case"Guia":return"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-200 dark:border-green-800";default:return"bg-gray-100 dark:bg-white/10 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700"}};return d.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in relative",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight tracking-tight",children:"Gesto de Equipa"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] text-base font-normal mt-1",children:"Gerencie os colaboradores e acessos ao sistema."})]}),d.jsxs("button",{onClick:V,className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-primary-dark text-background-dark text-sm font-bold tracking-wide gap-2 transition-all shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined",children:"person_add"}),d.jsx("span",{children:"Novo Colaborador"})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-5 shadow-sm flex flex-col sm:flex-row gap-6 items-end",children:[d.jsxs("div",{className:"w-full max-w-md relative",children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1.5 ml-1",children:"Pesquisar"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"search"}),d.jsx("input",{type:"text",placeholder:"Nome, Email ou Funo...",className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm",value:u,onChange:le=>f(le.target.value)})]})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"Mostrar"}),d.jsxs("div",{className:"flex items-center gap-6 h-[42px]",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group select-none",children:[d.jsxs("div",{className:`relative w-9 h-5 rounded-full transition-colors ${m?"bg-primary":"bg-gray-300 dark:bg-gray-600"}`,children:[d.jsx("input",{type:"checkbox",checked:m,onChange:le=>p(le.target.checked),className:"sr-only"}),d.jsx("div",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform shadow-sm ${m?"translate-x-4":""}`})]}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Ativos"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group select-none",children:[d.jsxs("div",{className:`relative w-9 h-5 rounded-full transition-colors ${g?"bg-primary":"bg-gray-300 dark:bg-gray-600"}`,children:[d.jsx("input",{type:"checkbox",checked:g,onChange:le=>y(le.target.checked),className:"sr-only"}),d.jsx("div",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform shadow-sm ${g?"translate-x-4":""}`})]}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Inativos"})]})]})]})]}),d.jsx("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20 text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider font-semibold border-b border-gray-200 dark:border-surface-border",children:[d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Status"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Nome"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Empresa"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Email"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Telefone"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Funo"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Observaes"}),d.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-surface-border",children:s?d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:d.jsxs("div",{className:"flex justify-center items-center gap-2",children:[d.jsx("span",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Carregando equipa..."})]})})}):M.length>0?M.map(le=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${le.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-400"}`,children:le.isActive?"Ativo":"Inativo"})}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"size-8 rounded-full bg-gray-200 dark:bg-white/10 flex items-center justify-center text-xs font-bold text-gray-600 dark:text-gray-300",children:le.name.split(" ").map(ne=>ne[0]).join("").substring(0,2)}),d.jsx("div",{className:"flex flex-col",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:le.name}),le.auth_id?d.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold uppercase bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",title:"Login ativo",children:[d.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"check_circle"}),"Login"]}):d.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-bold uppercase bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",title:"Sem login",children:[d.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"error"}),"Sem Login"]})]})})]})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"material-symbols-outlined text-gray-400 text-sm",children:"business"}),le.company_name||"-"]})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:le.email}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:le.phone}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${he(le.role)}`,children:le.role})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 max-w-[200px] truncate",title:le.notes,children:le.notes||"-"}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx("button",{onClick:()=>X(le),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Editar",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),e("staff")&&d.jsx("button",{onClick:()=>L(le.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Apagar",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})})]},le.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl opacity-50",children:"group_off"}),d.jsx("p",{children:"Nenhum colaborador encontrado."})]})})})})]})})}),b&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-2xl rounded-2xl shadow-2xl border border-gray-200 dark:border-surface-border overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-surface-border bg-gray-50 dark:bg-black/20",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:S==="add"?"Adicionar Novo Colaborador":"Editar Colaborador"}),d.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700 dark:hover:text-white transition-colors",children:d.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),d.jsxs("form",{onSubmit:G,className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[Y&&d.jsxs("div",{className:"col-span-1 md:col-span-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-start gap-3",children:[d.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-xl flex-shrink-0",children:"error"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-semibold text-red-800 dark:text-red-300",children:"Erro ao salvar colaborador"}),d.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mt-1",children:Y})]}),d.jsx("button",{type:"button",onClick:()=>re(null),className:"text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"close"})})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:se,children:"Empresa"}),t?d.jsxs("div",{className:"relative",children:[d.jsxs("select",{name:"company_id",value:E.company_id||"",onChange:le=>{const ne=U.find(me=>me.id===le.target.value);N(me=>({...me,company_id:le.target.value,company_name:ne==null?void 0:ne.name}))},className:`${H} pr-10 cursor-pointer`,required:!0,children:[d.jsx("option",{value:"",children:"Selecione uma empresa..."}),U.map(le=>d.jsx("option",{value:le.id,children:le.name},le.id))]}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400 pointer-events-none",children:"business"})]}):d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:E.company_name||K||"Carregando...",readOnly:!0,className:`${H} bg-gray-50 dark:bg-black/20 cursor-not-allowed text-gray-500`}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-400",children:"business"})]}),d.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 ml-1",children:t?"Escolha a empresa  qual o colaborador pertence.":"O colaborador ser vinculado a esta empresa."})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:se,children:"Nome Completo"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"name",required:!0,value:E.name,onChange:ce,className:`${H} pr-10`,placeholder:"Ex: Joo Silva"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"person"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:se,children:"Email (Login)"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"email",name:"email",required:!0,value:E.email,onChange:ce,disabled:S==="edit",className:`${H} pr-10 ${S==="edit"?"opacity-60 cursor-not-allowed":""}`,placeholder:S==="edit"?"Email no pode ser alterado":"email@naturisnor.com"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"email"})]}),S==="edit"&&d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-1",children:"O email de login no pode ser alterado aqui. Para mudar, gerencie no Supabase Auth."})]}),d.jsxs("div",{children:[d.jsx("label",{className:se,children:"Telefone"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"tel",name:"phone",value:E.phone,onChange:ce,className:`${H} pr-10`,placeholder:"+351 912 345 678"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"phone"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:se,children:"NIF"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"nif",value:E.nif||"",onChange:ce,className:`${H} pr-10`,placeholder:"123456789"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"badge"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:se,children:"Funo"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{name:"role",value:E.role,onChange:ce,className:H,children:[d.jsx("option",{value:"Administrador",children:"Administrador"}),d.jsx("option",{value:"Gestor",children:"Gestor"}),d.jsx("option",{value:"Guia",children:"Guia"}),d.jsx("option",{value:"Condutor",children:"Condutor"})]}),d.jsx("span",{className:"material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",children:"expand_more"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:se,children:S==="add"?"Senha Inicial *":"Nova Senha (Opcional)"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:A?"text":"password",value:k,onChange:le=>T(le.target.value),required:S==="add",minLength:6,className:`${H} pr-20`,placeholder:S==="add"?"Mnimo 6 caracteres":"Deixe vazio para no alterar"}),d.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1",children:d.jsx("button",{type:"button",onClick:()=>D(!A),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",tabIndex:-1,children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:A?"visibility_off":"visibility"})})})]}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-1",children:S==="add"?"Esta ser a senha de login do colaborador":"Preencha apenas se desejar alterar a senha do colaborador"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:se,children:"Observaes"}),d.jsx("textarea",{name:"notes",rows:3,value:E.notes,onChange:ce,className:H,placeholder:"Informaes adicionais..."})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-col justify-end",children:[d.jsx("label",{className:se,children:"Estado do Colaborador"}),d.jsxs("button",{type:"button",onClick:R,className:`flex items-center gap-3 w-full p-2.5 rounded-lg border transition-all ${E.isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-[#102215] border-gray-200 dark:border-gray-700"}`,children:[d.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${E.isActive?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:d.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all shadow-sm ${E.isActive?"left-6":"left-1"}`})}),d.jsx("span",{className:`text-sm font-semibold ${E.isActive?"text-green-700 dark:text-green-300":"text-gray-500 dark:text-gray-400"}`,children:E.isActive?"Ativo (Acesso Permitido)":"Inativo (Acesso Bloqueado)"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-3 mt-4",children:[d.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),d.jsxs("button",{type:"submit",disabled:I,className:`px-6 py-2 rounded-lg text-sm font-bold transition-colors shadow-lg flex items-center gap-2 ${I?"bg-gray-400 cursor-not-allowed":"bg-primary text-background-dark hover:bg-primary-dark shadow-primary/20"}`,children:[I&&d.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),I?S==="add"?"Criando...":"Salvando...":S==="add"?"Criar Colaborador":"Salvar Alteraes"]})]})]})]})})]})},MA=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00"],ore=()=>{const{canDelete:e,companyId:t}=Ta(),[r,n]=w.useState([]),[i,s]=w.useState(!0),[l,u]=w.useState(""),[f,m]=w.useState(!0),[p,g]=w.useState(!0),[y,b]=w.useState(!1),[j,S]=w.useState("add"),[_,E]=w.useState(null),[N,k]=w.useState({id:"",name:"",description:"",location:"",meetingPoint:"",duration:"",priceAdult:0,priceChild:0,priceBaby:0,minCapacity:null,maxCapacity:null,isActive:!0,highSeason:{start:"",end:"",times:[]},lowSeason:{start:"",end:"",times:[]}}),T=async()=>{try{s(!0);const{data:L,error:V}=await Se.from("adventures").select("*").order("name");if(V)throw V;const X=(L||[]).map(ce=>({id:ce.id,name:ce.name,description:ce.description,location:ce.location,meetingPoint:ce.meeting_point,duration:ce.duration,priceAdult:ce.price_adult,priceChild:ce.price_child,priceBaby:ce.price_baby,minCapacity:ce.min_capacity,maxCapacity:ce.max_capacity,isActive:ce.is_active,highSeason:{start:ce.high_season_start,end:ce.high_season_end,times:ce.high_season_times||[]},lowSeason:{start:ce.low_season_start,end:ce.low_season_end,times:ce.low_season_times||[]}}));n(X)}catch(L){console.error("Error fetching adventures:",L),alert("Erro ao carregar passeios.")}finally{s(!1)}};w.useEffect(()=>{T()},[]);const A=r.filter(L=>{const V=L.name.toLowerCase().includes(l.toLowerCase())||L.location.toLowerCase().includes(l.toLowerCase()),X=L.isActive&&f||!L.isActive&&p;return V&&X}),D=async L=>{if(window.confirm("Tem a certeza que deseja remover este passeio?"))try{const{error:V}=await Se.from("adventures").delete().eq("id",L);if(V)throw V;n(r.filter(X=>X.id!==L))}catch(V){console.error("Error deleting adventure:",V),alert("Erro ao remover passeio.")}},I=()=>{S("add"),k({id:"",name:"",description:"",location:"",meetingPoint:"",duration:"",priceAdult:0,priceChild:0,priceBaby:0,minCapacity:null,maxCapacity:null,isActive:!0,highSeason:{start:"",end:"",times:[]},lowSeason:{start:"",end:"",times:[]}}),b(!0),E(null)},W=L=>{S("edit"),k(JSON.parse(JSON.stringify(L))),b(!0),E(null)},Y=L=>{const{name:V,value:X,type:ce}=L.target;k(ce==="number"?R=>({...R,[V]:parseFloat(X)||0}):R=>({...R,[V]:X}))},re=(L,V,X)=>{k(ce=>({...ce,[L]:{...ce[L],[V]:X}}))},U=()=>{k(L=>({...L,isActive:!L.isActive}))},P=(L,V)=>{k(X=>{const ce=X[L].times,R=ce.includes(V);let G;return R?G=ce.filter(H=>H!==V).sort():G=[...ce,V].sort(),{...X,[L]:{...X[L],times:G}}})},B=async L=>{L.preventDefault();try{const V={name:N.name,description:N.description,location:N.location,meeting_point:N.meetingPoint,duration:N.duration,price_adult:N.priceAdult,price_child:N.priceChild,price_baby:N.priceBaby,min_capacity:N.minCapacity,max_capacity:N.maxCapacity,is_active:N.isActive,high_season_start:N.highSeason.start,high_season_end:N.highSeason.end,high_season_times:N.highSeason.times,low_season_start:N.lowSeason.start,low_season_end:N.lowSeason.end,low_season_times:N.lowSeason.times};if(j==="add"){const{data:X,error:ce}=await Se.from("adventures").insert([{...V,company_id:t}]).select().single();if(ce)throw ce;const R={...N,id:X.id,isActive:X.is_active};n([...r,R])}else{const{error:X}=await Se.from("adventures").update(V).eq("id",N.id);if(X)throw X;n(r.map(ce=>ce.id===N.id?N:ce))}b(!1)}catch(V){console.error("Error saving adventure:",V),alert(`Erro ao salvar passeio: ${V.message||"Erro desconhecido"} `)}},K="w-full appearance-none py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-700 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm pl-3",q="block text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-1.5",M="text-sm font-bold text-gray-900 dark:text-white border-b border-gray-100 dark:border-white/5 pb-1 mb-3 mt-1";return i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in relative",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight tracking-tight",children:"Gesto de Passeios"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] text-base font-normal mt-1",children:"Configure as suas ofertas tursticas, preos e horrios."})]}),d.jsxs("button",{onClick:I,className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-primary-dark text-background-dark text-sm font-bold tracking-wide gap-2 transition-all shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined",children:"hiking"}),d.jsx("span",{children:"Novo Passeio"})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-5 shadow-sm flex flex-col sm:flex-row gap-6 items-end",children:[d.jsxs("div",{className:"w-full max-w-md relative",children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1.5 ml-1",children:"Pesquisar"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"search"}),d.jsx("input",{type:"text",placeholder:"Nome do passeio, localizao...",className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm",value:l,onChange:L=>u(L.target.value)})]})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"Mostrar"}),d.jsxs("div",{className:"flex items-center gap-6 h-[42px]",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group select-none",children:[d.jsxs("div",{className:`relative w-9 h-5 rounded-full transition-colors ${f?"bg-primary":"bg-gray-300 dark:bg-gray-600"}`,children:[d.jsx("input",{type:"checkbox",checked:f,onChange:L=>m(L.target.checked),className:"sr-only"}),d.jsx("div",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform shadow-sm ${f?"translate-x-4":""}`})]}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Ativos"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group select-none",children:[d.jsxs("div",{className:`relative w-9 h-5 rounded-full transition-colors ${p?"bg-primary":"bg-gray-300 dark:bg-gray-600"}`,children:[d.jsx("input",{type:"checkbox",checked:p,onChange:L=>g(L.target.checked),className:"sr-only"}),d.jsx("div",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform shadow-sm ${p?"translate-x-4":""}`})]}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Inativos"})]})]})]})]}),d.jsx("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20 text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider font-semibold border-b border-gray-200 dark:border-surface-border",children:[d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Status"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Nome"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Localizao"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Durao"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Adulto"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Horrios"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Lotao"}),d.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-surface-border",children:A.length>0?A.map(L=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${L.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-400"}`,children:L.isActive?"Ativo":"Inativo"})}),d.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900 dark:text-white",children:L.name}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:L.location}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:L.duration}),d.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white",children:["",L.priceAdult.toFixed(2)]}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-orange-500 uppercase",children:"Alta"}),d.jsx("span",{className:"text-xs",children:L.highSeason.times.length>0?L.highSeason.times.slice(0,2).join(", ")+(L.highSeason.times.length>2?"...":""):"N/A"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-blue-500 uppercase",children:"Baixa"}),d.jsx("span",{className:"text-xs",children:L.lowSeason.times.length>0?L.lowSeason.times.slice(0,2).join(", ")+(L.lowSeason.times.length>2?"...":""):"N/A"})]})]})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-orange-500 uppercase",children:"Min"}),d.jsx("span",{className:"text-xs",children:L.minCapacity??"N/A"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-[10px] font-bold text-blue-500 uppercase",children:"Max"}),d.jsx("span",{className:"text-xs",children:L.maxCapacity??"N/A"})]})]})}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx("button",{onClick:()=>W(L),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Editar",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),e("adventures")&&d.jsx("button",{onClick:()=>D(L.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Apagar",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})})]},L.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl opacity-50",children:"hiking"}),d.jsx("p",{children:"Nenhum passeio encontrado."})]})})})})]})})}),y&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in overflow-y-auto",children:d.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-3xl rounded-2xl shadow-2xl border border-gray-200 dark:border-surface-border overflow-hidden my-8",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-surface-border bg-gray-50 dark:bg-black/20",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:j==="add"?"Adicionar Novo Passeio":"Editar Passeio"}),d.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 dark:hover:text-white transition-colors",children:d.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),d.jsxs("form",{onSubmit:B,className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:q,children:"Nome do Passeio"}),d.jsx("input",{type:"text",name:"name",required:!0,value:N.name,onChange:Y,className:K,placeholder:"Ex: Trilho Panormico"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:q,children:"Descrio"}),d.jsx("textarea",{name:"description",required:!0,rows:3,value:N.description,onChange:Y,className:K,placeholder:"Descrio detalhada do passeio..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Localizao"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"location",required:!0,value:N.location,onChange:Y,className:`${K} pr-10`,placeholder:"Ex: Serra do Gers"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"location_on"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Ponto de Encontro"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"meetingPoint",required:!0,value:N.meetingPoint,onChange:Y,className:`${K} pr-10`,placeholder:"Ex: Centro de Turismo"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"place"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Durao"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"duration",required:!0,value:N.duration,onChange:Y,className:`${K} pr-10`,placeholder:"Ex: 3 horas"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"schedule"})]})]}),d.jsxs("div",{className:"flex flex-col justify-end",children:[d.jsx("label",{className:q,children:"Estado do Passeio"}),d.jsxs("button",{type:"button",onClick:U,className:`flex items-center gap-3 w-full p-2.5 rounded-lg border transition-all ${N.isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-[#102215] border-gray-200 dark:border-gray-700"}`,children:[d.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${N.isActive?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:d.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all shadow-sm ${N.isActive?"left-6":"left-1"}`})}),d.jsx("span",{className:`text-sm font-semibold ${N.isActive?"text-green-700 dark:text-green-300":"text-gray-500 dark:text-gray-400"}`,children:N.isActive?"Ativo (Disponvel)":"Inativo (Indisponvel)"})]})]}),d.jsx("div",{className:"col-span-1 md:col-span-2 pt-2",children:d.jsx("h3",{className:M,children:"Tabela de Preos"})}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Valor Adulto ()"}),d.jsx("input",{type:"number",step:"0.01",name:"priceAdult",required:!0,value:N.priceAdult,onChange:Y,className:K,placeholder:"0.00"})]}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Valor Criana ()"}),d.jsx("input",{type:"number",step:"0.01",name:"priceChild",required:!0,value:N.priceChild,onChange:Y,className:K,placeholder:"0.00"})]}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Valor Beb (<4) ()"}),d.jsx("input",{type:"number",step:"0.01",name:"priceBaby",required:!0,value:N.priceBaby,onChange:Y,className:K,placeholder:"0.00"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 pt-2",children:[d.jsx("h3",{className:M,children:"Capacidade / Lotao"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2 mb-3",children:"Deixe vazio para capacidade ilimitada"})]}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Capacidade Mnima"}),d.jsx("input",{type:"number",name:"minCapacity",min:"0",value:N.minCapacity??"",onChange:L=>{const V=L.target.value===""?null:parseInt(L.target.value);k(X=>({...X,minCapacity:V}))},className:K,placeholder:"Sem mnimo"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-1",children:"Mnimo de pessoas necessrias"})]}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Capacidade Mxima"}),d.jsx("input",{type:"number",name:"maxCapacity",min:"0",value:N.maxCapacity??"",onChange:L=>{const V=L.target.value===""?null:parseInt(L.target.value);k(X=>({...X,maxCapacity:V}))},className:K,placeholder:"Sem limite"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-1",children:"Mximo de pessoas permitidas"})]}),d.jsx("div",{className:"col-span-1 md:col-span-2 pt-4",children:d.jsx("h3",{className:`${M} text-orange-600 dark:text-orange-400`,children:"Configurao poca Alta"})}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Incio poca Alta"}),d.jsx("input",{type:"date",value:N.highSeason.start,onChange:L=>re("highSeason","start",L.target.value),className:K})]}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Fim poca Alta"}),d.jsx("input",{type:"date",value:N.highSeason.end,onChange:L=>re("highSeason","end",L.target.value),className:K})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 relative",children:[d.jsx("label",{className:q,children:"Horrios poca Alta"}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{type:"button",onClick:()=>E(_==="high"?null:"high"),className:`text-left ${K} flex items-center justify-between`,children:[d.jsx("span",{className:N.highSeason.times.length?"text-gray-900 dark:text-white":"text-gray-400",children:N.highSeason.times.length?`${N.highSeason.times.length} horrios selecionados`:"Selecione os horrios..."}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:_==="high"?"expand_less":"expand_more"})]}),_==="high"&&d.jsxs("div",{className:"absolute top-full left-0 w-full mt-1 bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-600 rounded-lg shadow-xl z-50 p-4 animate-fade-in max-h-60 overflow-y-auto",children:[d.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:MA.map(L=>{const V=N.highSeason.times.includes(L);return d.jsx("button",{type:"button",onClick:()=>P("highSeason",L),className:`py-1.5 px-1 text-xs font-bold rounded-md border transition-colors ${V?"bg-orange-500 text-white border-orange-500":"bg-gray-50 dark:bg-black/20 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:border-orange-500"}`,children:L},L)})}),d.jsx("div",{className:"flex justify-end mt-3 pt-2 border-t border-gray-100 dark:border-white/5",children:d.jsx("button",{type:"button",onClick:()=>E(null),className:"text-xs font-bold text-primary hover:underline",children:"Confirmar"})})]})]})]}),d.jsx("div",{className:"col-span-1 md:col-span-2 pt-4",children:d.jsx("h3",{className:`${M} text-blue-600 dark:text-blue-400`,children:"Configurao poca Baixa"})}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Incio poca Baixa"}),d.jsx("input",{type:"date",value:N.lowSeason.start,onChange:L=>re("lowSeason","start",L.target.value),className:K})]}),d.jsxs("div",{children:[d.jsx("label",{className:q,children:"Fim poca Baixa"}),d.jsx("input",{type:"date",value:N.lowSeason.end,onChange:L=>re("lowSeason","end",L.target.value),className:K})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 relative",children:[d.jsx("label",{className:q,children:"Horrios poca Baixa"}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{type:"button",onClick:()=>E(_==="low"?null:"low"),className:`text-left ${K} flex items-center justify-between`,children:[d.jsx("span",{className:N.lowSeason.times.length?"text-gray-900 dark:text-white":"text-gray-400",children:N.lowSeason.times.length?`${N.lowSeason.times.length} horrios selecionados`:"Selecione os horrios..."}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:_==="low"?"expand_less":"expand_more"})]}),_==="low"&&d.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-600 rounded-lg shadow-xl z-50 p-4 animate-fade-in max-h-60 overflow-y-auto",children:[d.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 gap-2",children:MA.map(L=>{const V=N.lowSeason.times.includes(L);return d.jsx("button",{type:"button",onClick:()=>P("lowSeason",L),className:`py-1.5 px-1 text-xs font-bold rounded-md border transition-colors ${V?"bg-blue-500 text-white border-blue-500":"bg-gray-50 dark:bg-black/20 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:border-blue-500"}`,children:L},L)})}),d.jsx("div",{className:"flex justify-end mt-3 pt-2 border-t border-gray-100 dark:border-white/5",children:d.jsx("button",{type:"button",onClick:()=>E(null),className:"text-xs font-bold text-primary hover:underline",children:"Confirmar"})})]})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-3 mt-4 pt-4 border-t border-gray-100 dark:border-white/5",children:[d.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg text-sm font-bold bg-primary text-background-dark hover:bg-primary-dark transition-colors shadow-lg shadow-primary/20",children:j==="add"?"Criar Passeio":"Salvar Alteraes"})]})]})]})})]})},lre=()=>{const{canDelete:e,companyId:t}=Ta(),[r,n]=w.useState([]),[i,s]=w.useState(!0),[l,u]=w.useState(""),[f,m]=w.useState(!0),[p,g]=w.useState(!0),[y,b]=w.useState(!1),[j,S]=w.useState("add"),[_,E]=w.useState({id:"",name:"",code:"",description:"",apiConfig:void 0,isActive:!0,displayOrder:0,icon:"",apiEnabled:!1,apiEndpoint:"",apiKeyEncrypted:"",apiSecretEncrypted:"",webhookUrl:"",webhookSecretEncrypted:"",sandboxMode:!0,apiVersion:"",additionalConfig:{}}),N=async()=>{try{s(!0);const{data:P,error:B}=await Se.from("payment_methods").select("*").order("display_order");if(B)throw B;const K=(P||[]).map(q=>({id:q.id,name:q.name,code:q.code,description:q.description,apiConfig:q.api_config,isActive:q.is_active,displayOrder:q.display_order,icon:q.icon,createdAt:q.created_at,updatedAt:q.updated_at,apiEnabled:q.api_enabled,apiEndpoint:q.api_endpoint,apiKeyEncrypted:q.api_key_encrypted,apiSecretEncrypted:q.api_secret_encrypted,webhookUrl:q.webhook_url,webhookSecretEncrypted:q.webhook_secret_encrypted,sandboxMode:q.sandbox_mode,apiVersion:q.api_version,additionalConfig:q.additional_config}));n(K)}catch(P){console.error("Error fetching payment methods:",P),alert("Erro ao carregar mtodos de pagamento.")}finally{s(!1)}};w.useEffect(()=>{N()},[]);const k=r.filter(P=>{const B=P.name.toLowerCase().includes(l.toLowerCase())||P.code.toLowerCase().includes(l.toLowerCase())||P.description&&P.description.toLowerCase().includes(l.toLowerCase()),K=P.isActive&&f||!P.isActive&&p;return B&&K}),T=async P=>{if(window.confirm("Tem a certeza que deseja remover este mtodo de pagamento?"))try{const{error:B}=await Se.from("payment_methods").delete().eq("id",P);if(B)throw B;n(r.filter(K=>K.id!==P))}catch(B){console.error("Error deleting payment method:",B),alert("Erro ao remover mtodo de pagamento.")}},A=()=>{S("add"),E({id:"",name:"",code:"",description:"",apiConfig:void 0,isActive:!0,displayOrder:r.length+1,icon:"",apiEnabled:!1,apiEndpoint:"",apiKeyEncrypted:"",apiSecretEncrypted:"",webhookUrl:"",webhookSecretEncrypted:"",sandboxMode:!0,apiVersion:"",additionalConfig:{}}),b(!0)},D=P=>{S("edit"),E(P),b(!0)},I=P=>{const{name:B,value:K}=P.target;E(q=>({...q,[B]:K}))},W=()=>{E(P=>({...P,isActive:!P.isActive}))},Y=async P=>{P.preventDefault();try{const B={name:_.name,code:_.code,description:_.description||null,icon:_.icon||null,display_order:Number(_.displayOrder),is_active:_.isActive,api_enabled:_.apiEnabled||!1,api_endpoint:_.apiEndpoint||null,api_key_encrypted:_.apiKeyEncrypted||null,api_secret_encrypted:_.apiSecretEncrypted||null,webhook_url:_.webhookUrl||null,webhook_secret_encrypted:_.webhookSecretEncrypted||null,sandbox_mode:_.sandboxMode??!0,api_version:_.apiVersion||null,additional_config:_.additionalConfig||{}};if(j==="add"){const{data:K,error:q}=await Se.from("payment_methods").insert([{...B,company_id:t}]).select().single();if(q)throw q;const M={id:K.id,name:K.name,code:K.code,description:K.description,apiConfig:K.api_config,isActive:K.is_active,displayOrder:K.display_order,icon:K.icon,createdAt:K.created_at,updatedAt:K.updated_at,apiEnabled:K.api_enabled,apiEndpoint:K.api_endpoint,apiKeyEncrypted:K.api_key_encrypted,apiSecretEncrypted:K.api_secret_encrypted,webhookUrl:K.webhook_url,webhookSecretEncrypted:K.webhook_secret_encrypted,sandboxMode:K.sandbox_mode,apiVersion:K.api_version,additionalConfig:K.additional_config};n([...r,M])}else{const{error:K}=await Se.from("payment_methods").update(B).eq("id",_.id);if(K)throw K;n(r.map(q=>q.id===_.id?_:q))}b(!1),N()}catch(B){console.error("Error saving payment method:",B),alert(`Erro ao salvar mtodo de pagamento: ${B.message||"Erro desconhecido"}`)}},re="w-full appearance-none py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-700 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm pl-3",U="block text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-1.5";return i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in relative",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight tracking-tight",children:"Mtodos de Pagamento"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] text-base font-normal mt-1",children:"Gerir os mtodos de pagamento disponveis no sistema."})]}),d.jsxs("button",{onClick:A,className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-primary-dark text-background-dark text-sm font-bold tracking-wide gap-2 transition-all shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined",children:"add"}),d.jsx("span",{children:"Novo Mtodo"})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-5 shadow-sm flex flex-col sm:flex-row gap-6 items-end",children:[d.jsxs("div",{className:"w-full max-w-md relative",children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1.5 ml-1",children:"Pesquisar"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"search"}),d.jsx("input",{type:"text",placeholder:"Nome, Cdigo ou Descrio...",className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm",value:l,onChange:P=>u(P.target.value)})]})]}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 ml-1",children:"Mostrar"}),d.jsxs("div",{className:"flex items-center gap-6 h-[42px]",children:[d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group select-none",children:[d.jsxs("div",{className:`relative w-9 h-5 rounded-full transition-colors ${f?"bg-primary":"bg-gray-300 dark:bg-gray-600"}`,children:[d.jsx("input",{type:"checkbox",checked:f,onChange:P=>m(P.target.checked),className:"sr-only"}),d.jsx("div",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform shadow-sm ${f?"translate-x-4":""}`})]}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Ativos"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group select-none",children:[d.jsxs("div",{className:`relative w-9 h-5 rounded-full transition-colors ${p?"bg-primary":"bg-gray-300 dark:bg-gray-600"}`,children:[d.jsx("input",{type:"checkbox",checked:p,onChange:P=>g(P.target.checked),className:"sr-only"}),d.jsx("div",{className:`absolute top-1 left-1 bg-white w-3 h-3 rounded-full transition-transform shadow-sm ${p?"translate-x-4":""}`})]}),d.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-primary transition-colors",children:"Inativos"})]})]})]})]}),d.jsx("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20 text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider font-semibold border-b border-gray-200 dark:border-surface-border",children:[d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Ordem"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Status"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Nome"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Cdigo"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Descrio"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"cone"}),d.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-surface-border",children:k.length>0?k.map(P=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors group",children:[d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 dark:bg-white/10 text-sm font-bold text-gray-700 dark:text-gray-300",children:P.displayOrder})}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${P.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-400"}`,children:P.isActive?"Ativo":"Inativo"})}),d.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900 dark:text-white",children:P.name}),d.jsx("td",{className:"px-4 py-3 text-xs font-mono font-medium text-gray-500 dark:text-gray-400",children:P.code}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:P.description||"-"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:P.icon||"-"}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[d.jsx("button",{onClick:()=>D(P),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Editar Mtodo",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),e("payment_methods")&&d.jsx("button",{onClick:()=>T(P.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Apagar Mtodo",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})})]},P.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl opacity-50",children:"payments"}),d.jsx("p",{children:"Nenhum mtodo de pagamento encontrado."})]})})})})]})})}),y&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-2xl rounded-2xl shadow-2xl border border-gray-200 dark:border-surface-border overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-surface-border bg-gray-50 dark:bg-black/20",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:j==="add"?"Adicionar Novo Mtodo de Pagamento":"Editar Mtodo de Pagamento"}),d.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 dark:hover:text-white transition-colors",children:d.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),d.jsxs("form",{onSubmit:Y,className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:U,children:"Nome do Mtodo"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"name",required:!0,value:_.name,onChange:I,className:`${re} pr-10`,placeholder:"Ex: MBWay"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"payments"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"Cdigo"}),d.jsx("input",{type:"text",name:"code",required:!0,value:_.code,onChange:I,className:re,placeholder:"Ex: mbway"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Cdigo nico (sem espaos, minsculas)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"Ordem de Exibio"}),d.jsx("input",{type:"number",name:"displayOrder",required:!0,min:"0",value:_.displayOrder,onChange:I,className:re,placeholder:"Ex: 1"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:U,children:"Descrio"}),d.jsx("textarea",{name:"description",value:_.description||"",onChange:I,className:re,placeholder:"Descrio opcional do mtodo de pagamento",rows:2})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:U,children:"cone (Opcional)"}),d.jsx("input",{type:"text",name:"icon",value:_.icon||"",onChange:I,className:re,placeholder:"Ex: credit_card"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Nome do cone Material Symbols"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 mt-4 pt-4 border-t border-gray-200 dark:border-surface-border",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider",children:"Configurao API"}),d.jsxs("button",{type:"button",onClick:()=>E(P=>({...P,apiEnabled:!P.apiEnabled})),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border transition-all ${_.apiEnabled?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-[#102215] border-gray-200 dark:border-gray-700"}`,children:[d.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${_.apiEnabled?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`,children:d.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all shadow-sm ${_.apiEnabled?"left-4":"left-0.5"}`})}),d.jsx("span",{className:`text-xs font-semibold ${_.apiEnabled?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`,children:_.apiEnabled?"API Ativa":"API Inativa"})]})]}),_.apiEnabled&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:U,children:"Endpoint da API"}),d.jsx("input",{type:"url",name:"apiEndpoint",value:_.apiEndpoint||"",onChange:I,className:re,placeholder:"https://api.exemplo.com/v1"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"URL base para a API de pagamentos"})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"API Key"}),d.jsx("input",{type:"password",name:"apiKeyEncrypted",value:_.apiKeyEncrypted||"",onChange:I,className:re,placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"API Secret"}),d.jsx("input",{type:"password",name:"apiSecretEncrypted",value:_.apiSecretEncrypted||"",onChange:I,className:re,placeholder:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"Verso da API"}),d.jsx("input",{type:"text",name:"apiVersion",value:_.apiVersion||"",onChange:I,className:re,placeholder:"v1, v2, 2024-01-01"})]}),d.jsxs("div",{children:[d.jsx("label",{className:U,children:"Modo Sandbox"}),d.jsxs("button",{type:"button",onClick:()=>E(P=>({...P,sandboxMode:!P.sandboxMode})),className:`flex items-center gap-3 w-full p-2.5 rounded-lg border transition-all ${_.sandboxMode?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}`,children:[d.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${_.sandboxMode?"bg-yellow-500":"bg-green-500"}`,children:d.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all shadow-sm ${_.sandboxMode?"left-1":"left-6"}`})}),d.jsx("span",{className:`text-xs font-semibold ${_.sandboxMode?"text-yellow-700 dark:text-yellow-300":"text-green-700 dark:text-green-300"}`,children:_.sandboxMode?"Sandbox/Teste":"Produo"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:U,children:"Webhook URL"}),d.jsx("input",{type:"url",name:"webhookUrl",value:_.webhookUrl||"",onChange:I,className:re,placeholder:"https://seusite.com/api/webhooks/pagamento"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"URL para receber notificaes de pagamento"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:U,children:"Webhook Secret"}),d.jsx("input",{type:"password",name:"webhookSecretEncrypted",value:_.webhookSecretEncrypted||"",onChange:I,className:re,placeholder:""}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Chave secreta para verificao de webhooks"})]})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-col justify-end",children:[d.jsx("label",{className:U,children:"Estado do Mtodo"}),d.jsxs("button",{type:"button",onClick:W,className:`flex items-center gap-3 w-full p-2.5 rounded-lg border transition-all ${_.isActive?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-gray-50 dark:bg-[#102215] border-gray-200 dark:border-gray-700"}`,children:[d.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${_.isActive?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:d.jsx("div",{className:`absolute top-1 w-3 h-3 bg-white rounded-full transition-all shadow-sm ${_.isActive?"left-6":"left-1"}`})}),d.jsx("span",{className:`text-sm font-semibold ${_.isActive?"text-green-700 dark:text-green-300":"text-gray-500 dark:text-gray-400"}`,children:_.isActive?"Ativo (Disponvel para uso)":"Inativo (No disponvel)"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-3 mt-4",children:[d.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg text-sm font-bold bg-primary text-background-dark hover:bg-primary-dark transition-colors shadow-lg shadow-primary/20",children:j==="add"?"Salvar Mtodo":"Salvar Alteraes"})]})]})]})})]})},cre=()=>{const{showToast:e}=Nh(),[t,r]=w.useState(!0),[n,i]=w.useState(!1),[s,l]=w.useState({id:"",code:"",name:"",nif:"",email:"",phone:"",contact:"",iban:"",address:"",postalCode:"",website:"",logoUrl:"",description:"",isActive:!0}),u=async()=>{try{r(!0);const{data:b,error:j}=await Se.from("company_settings").select("*").limit(1).single();if(j)throw j;b&&l({id:b.id,code:b.code,name:b.name,nif:b.nif,email:b.email,phone:b.phone,contact:b.contact,iban:b.iban,address:b.address,postalCode:b.postal_code,website:b.website,logoUrl:b.logo_url,description:b.description,isActive:b.is_active,createdAt:b.created_at,updatedAt:b.updated_at})}catch(b){console.error("Error fetching company settings:",b),e("Erro ao carregar configuraes da empresa","error")}finally{r(!1)}};w.useEffect(()=>{u()},[]);const f=b=>{const{name:j,value:S}=b.target;l(_=>({..._,[j]:S}))},m=async()=>{try{const{error:b}=await Se.from("company_settings").update({code:s.code,name:s.name,nif:s.nif,email:s.email,phone:s.phone,contact:s.contact,iban:s.iban||null,address:s.address,postal_code:s.postalCode,website:s.website||null,logo_url:s.logoUrl||null,description:s.description||null,is_active:s.isActive}).eq("id",s.id);if(b)throw b;e("Configuraes salvas com sucesso!","success"),i(!1),u()}catch(b){console.error("Error saving settings:",b),e(`Erro ao salvar configuraes: ${b.message}`,"error")}},p=()=>{i(!1),u()},g="w-full appearance-none px-3 py-2.5 bg-gray-50 dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm",y="block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1.5";return t?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):d.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight tracking-tight",children:"Configuraes da Empresa"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] text-base font-normal mt-1",children:"Gerir informaes e identidade visual da empresa."})]}),d.jsx("div",{className:"flex gap-3",children:n?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"close"}),"Cancelar"]}),d.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-background-dark font-bold text-sm hover:bg-primary-dark transition-colors shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"save"}),"Salvar"]})]}):d.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-background-dark font-bold text-sm hover:bg-primary-dark transition-colors shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"}),"Editar"]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Informaes Bsicas"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"business"})]}),d.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:y,children:"Nome da Empresa"}),n?d.jsx("input",{type:"text",name:"name",value:s.name,onChange:f,className:g,placeholder:"Nome da empresa"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:s.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Cdigo"}),n?d.jsx("input",{type:"text",name:"code",value:s.code,onChange:f,className:g,placeholder:"COMPANY001"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:s.code})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"NIF"}),n?d.jsx("input",{type:"text",name:"nif",value:s.nif,onChange:f,className:g,placeholder:"000000000"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:s.nif})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Contato"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"contact_mail"})]}),d.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Email"}),n?d.jsx("input",{type:"email",name:"email",value:s.email,onChange:f,className:g,placeholder:"contato@empresa.com"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:s.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Telefone"}),n?d.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:f,className:g,placeholder:"+351 000 000 000"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:s.phone})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:y,children:"Pessoa de Contato"}),n?d.jsx("input",{type:"text",name:"contact",value:s.contact,onChange:f,className:g,placeholder:"Nome do responsvel"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:s.contact})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Endereo"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"location_on"})]}),d.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:y,children:"Morada"}),n?d.jsx("input",{type:"text",name:"address",value:s.address,onChange:f,className:g,placeholder:"Rua Principal, n 123"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:s.address})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Cdigo Postal"}),n?d.jsx("input",{type:"text",name:"postalCode",value:s.postalCode,onChange:f,className:g,placeholder:"0000-000"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:s.postalCode})]}),d.jsxs("div",{children:[d.jsx("label",{className:y,children:"Website"}),n?d.jsx("input",{type:"url",name:"website",value:s.website||"",onChange:f,className:g,placeholder:"https://www.empresa.com"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:s.website||"-"})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Dados Financeiros"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"account_balance"})]}),d.jsx("div",{className:"p-6",children:d.jsxs("div",{children:[d.jsx("label",{className:y,children:"IBAN"}),n?d.jsx("input",{type:"text",name:"iban",value:s.iban||"",onChange:f,className:g,placeholder:"PT50 0000 0000 0000 0000 0000 0"}):d.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white font-mono",children:s.iban||"-"})]})})]})]}),d.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Logotipo"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"image"})]}),d.jsxs("div",{className:"p-6 flex flex-col gap-4",children:[s.logoUrl&&d.jsx("div",{className:"w-full aspect-video bg-gray-100 dark:bg-black/20 rounded-lg flex items-center justify-center overflow-hidden",children:d.jsx("img",{src:s.logoUrl,alt:"Company Logo",className:"max-w-full max-h-full object-contain"})}),n&&d.jsxs("div",{children:[d.jsx("label",{className:y,children:"URL do Logotipo"}),d.jsx("input",{type:"url",name:"logoUrl",value:s.logoUrl||"",onChange:f,className:g,placeholder:"https://exemplo.com/logo.png"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Cole a URL da imagem do logotipo"})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-surface-border flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Descrio"}),d.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"description"})]}),d.jsxs("div",{className:"p-6",children:[d.jsx("label",{className:y,children:"Sobre a Empresa"}),n?d.jsx("textarea",{name:"description",value:s.description||"",onChange:f,className:g,rows:6,placeholder:"Descrio da empresa..."}):d.jsx("p",{className:"mt-1 text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line",children:s.description||"-"})]})]})]})]})]})},ure=()=>{const e=Mn(),{isSuperAdmin:t}=Ta(),{showToast:r}=Nh(),[n,i]=w.useState([]),[s,l]=w.useState(!0),[u,f]=w.useState(""),[m,p]=w.useState(!1),[g,y]=w.useState("add"),[b,j]=w.useState({id:"",code:"",name:"",nif:"",email:"",phone:"",contact:"",iban:"",address:"",postalCode:"",website:"",logoUrl:"",description:"",isActive:!0});w.useEffect(()=>{!s&&!t&&(r("Acesso negado. Apenas SuperAdmin pode aceder a esta pgina.","error"),e("/dashboard"))},[t,s,e]);const S=async()=>{try{l(!0);const{data:B,error:K}=await Se.from("company_settings").select("*").order("name");if(K)throw K;const q=(B||[]).map(M=>({id:M.id,code:M.code,name:M.name,nif:M.nif,email:M.email,phone:M.phone,contact:M.contact,iban:M.iban,address:M.address,postalCode:M.postal_code,website:M.website,logoUrl:M.logo_url,description:M.description,isActive:M.is_active,createdAt:M.created_at,updatedAt:M.updated_at}));i(q)}catch(B){console.error("Error fetching companies:",B),r("Erro ao carregar empresas","error")}finally{l(!1)}};w.useEffect(()=>{t&&S()},[t]);const _=n.filter(B=>B.name.toLowerCase().includes(u.toLowerCase())||B.code.toLowerCase().includes(u.toLowerCase())),[E,N]=w.useState(""),[k,T]=w.useState(""),[A,D]=w.useState(""),I=()=>{y("add"),j({id:"",code:"",name:"",nif:"",email:"",phone:"",contact:"",iban:"",address:"",postalCode:"",website:"",logoUrl:"",description:"",isActive:!0}),N(""),T(""),D(""),p(!0)},W=B=>{y("edit"),j(B),p(!0)},Y=B=>{const{name:K,value:q}=B.target;j(M=>({...M,[K]:q}))},re=async B=>{B.preventDefault();try{const K={code:b.code,name:b.name,nif:b.nif,email:b.email,phone:b.phone,contact:b.contact,iban:b.iban||null,address:b.address,postal_code:b.postalCode,website:b.website||null,logo_url:b.logoUrl||null,description:b.description||null,is_active:b.isActive};if(g==="add"){const{data:q,error:M}=await Se.from("company_settings").insert([K]).select().single();if(M)throw M;if(k&&A&&E)try{const L=await bR({email:k,password:A,name:E,role:"Administrador"});if(!L.success||!L.user)throw new Error(L.error||"Erro ao criar utilizador administrador.");const{error:V}=await Se.from("staff").insert([{auth_id:L.user.id,name:E,email:k,role:"Administrador",company_id:q.id,is_active:!0}]);V?(console.error("Error creating staff record:",V),r("Empresa criada, mas erro ao criar registo de staff do admin.","warning")):r("Empresa e Administrador criados com sucesso!","success")}catch(L){console.error("Error creating admin:",L),r(`Empresa criada, mas erro ao criar admin: ${L.message}`,"warning")}else r("Empresa criada com sucesso (sem administrador)!","success");S()}else{const{error:q}=await Se.from("company_settings").update(K).eq("id",b.id);if(q)throw q;r("Empresa atualizada com sucesso!","success"),S()}p(!1)}catch(K){console.error("Error saving company:",K),r(`Erro ao salvar empresa: ${K.message}`,"error")}},U="w-full appearance-none py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-700 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm pl-3",P="block text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-1.5";return s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.jsxs("div",{className:"flex flex-col gap-6 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-gray-900 dark:text-white text-3xl font-black leading-tight tracking-tight",children:"Gesto de Empresas"}),d.jsx("p",{className:"text-gray-600 dark:text-[#92c9a0] text-base font-normal mt-1",children:"Gerir empresas no sistema (SuperAdmin)"})]}),d.jsxs("button",{onClick:I,className:"flex items-center justify-center rounded-lg h-10 px-4 bg-primary hover:bg-primary-dark text-background-dark text-sm font-bold tracking-wide gap-2 transition-all shadow-lg shadow-primary/20",children:[d.jsx("span",{className:"material-symbols-outlined",children:"add_business"}),d.jsx("span",{children:"Nova Empresa"})]})]}),d.jsx("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl p-5 shadow-sm",children:d.jsxs("div",{className:"w-full max-w-md relative",children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1.5 ml-1",children:"Pesquisar"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"search"}),d.jsx("input",{type:"text",placeholder:"Nome ou cdigo da empresa...",className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all shadow-sm",value:u,onChange:B=>f(B.target.value)})]})]})}),d.jsx("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-xl overflow-hidden shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50 dark:bg-black/20 text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider font-semibold border-b border-gray-200 dark:border-surface-border",children:[d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Status"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Cdigo"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Nome"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"NIF"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Email"}),d.jsx("th",{className:"px-4 py-3 whitespace-nowrap",children:"Telefone"}),d.jsx("th",{className:"px-4 py-3 text-center whitespace-nowrap",children:"Aes"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-surface-border",children:_.length>0?_.map(B=>d.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${B.isActive?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-400"}`,children:B.isActive?"Ativa":"Inativa"})}),d.jsx("td",{className:"px-4 py-3 text-xs font-mono font-medium text-gray-500 dark:text-gray-400",children:B.code}),d.jsx("td",{className:"px-4 py-3 font-semibold text-gray-900 dark:text-white",children:B.name}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:B.nif}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:B.email}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:B.phone}),d.jsx("td",{className:"px-4 py-3 text-center",children:d.jsx("button",{onClick:()=>W(B),className:"p-1.5 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"Editar",children:d.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})})})]},B.id)):d.jsx("tr",{children:d.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-4xl opacity-50",children:"domain_disabled"}),d.jsx("p",{children:"Nenhuma empresa encontrada."})]})})})})]})})}),m&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-2xl rounded-2xl shadow-2xl border border-gray-200 dark:border-surface-border overflow-y-auto max-h-[90vh]",children:[d.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-surface-border bg-gray-50 dark:bg-black/20 sticky top-0 z-10",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:g==="add"?"Criar Nova Empresa":"Editar Empresa"}),d.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700 dark:hover:text-white transition-colors",children:d.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),d.jsxs("form",{onSubmit:re,className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:P,children:"Nome da Empresa"}),d.jsx("input",{type:"text",name:"name",required:!0,value:b.name,onChange:Y,className:U,placeholder:"Ex: Turismo Norte"})]}),d.jsxs("div",{children:[d.jsx("label",{className:P,children:"Cdigo"}),d.jsx("input",{type:"text",name:"code",required:!0,value:b.code,onChange:Y,className:U,placeholder:"COMP001"})]}),d.jsxs("div",{children:[d.jsx("label",{className:P,children:"NIF"}),d.jsx("input",{type:"text",name:"nif",required:!0,value:b.nif,onChange:Y,className:U,placeholder:"000000000"})]}),d.jsxs("div",{children:[d.jsx("label",{className:P,children:"Email"}),d.jsx("input",{type:"email",name:"email",required:!0,value:b.email,onChange:Y,className:U,placeholder:"contato@empresa.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:P,children:"Telefone"}),d.jsx("input",{type:"tel",name:"phone",required:!0,value:b.phone,onChange:Y,className:U,placeholder:"+351 000 000 000"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:P,children:"Pessoa de Contato"}),d.jsx("input",{type:"text",name:"contact",required:!0,value:b.contact,onChange:Y,className:U,placeholder:"Nome do responsvel"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:P,children:"Morada"}),d.jsx("input",{type:"text",name:"address",required:!0,value:b.address,onChange:Y,className:U,placeholder:"Rua Principal, n 123"})]}),d.jsxs("div",{children:[d.jsx("label",{className:P,children:"Cdigo Postal"}),d.jsx("input",{type:"text",name:"postalCode",required:!0,value:b.postalCode,onChange:Y,className:U,placeholder:"0000-000"})]}),d.jsxs("div",{children:[d.jsx("label",{className:P,children:"Website"}),d.jsx("input",{type:"url",name:"website",value:b.website||"",onChange:Y,className:U,placeholder:"https://www.empresa.com"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex items-center gap-3 p-3 bg-gray-50 dark:bg-white/5 rounded-lg border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"relative inline-block w-12 h-6 transition duration-200 ease-in-out",children:[d.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:b.isActive,onChange:B=>j(K=>({...K,isActive:B.target.checked})),className:"absolute w-6 h-6 opacity-0 cursor-pointer z-10"}),d.jsx("label",{htmlFor:"isActive",className:`block overflow-hidden h-6 rounded-full cursor-pointer transition-colors duration-200 ${b.isActive?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`}),d.jsx("div",{className:`absolute left-0 top-0 w-6 h-6 bg-white rounded-full shadow transform transition-transform duration-200 ${b.isActive?"translate-x-6":"translate-x-0"}`})]}),d.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer select-none",children:"Empresa Ativa"})]}),g==="add"&&d.jsxs("div",{className:"col-span-1 md:col-span-2 mt-4 p-4 bg-gray-50 dark:bg-white/5 rounded-xl border border-gray-200 dark:border-gray-700",children:[d.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"admin_panel_settings"}),"Criar Administrador da Empresa"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:P,children:"Nome do Administrador"}),d.jsx("input",{type:"text",value:E,onChange:B=>N(B.target.value),className:U,placeholder:"Nome completo"})]}),d.jsxs("div",{children:[d.jsx("label",{className:P,children:"Email de Login"}),d.jsx("input",{type:"email",value:k,onChange:B=>T(B.target.value),className:U,placeholder:"admin@empresa.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:P,children:"Senha Inicial"}),d.jsx("input",{type:"password",value:A,onChange:B=>D(B.target.value),className:U,placeholder:"Mnimo 6 caracteres",minLength:6})]})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-3 mt-4",children:[d.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 rounded-lg text-sm font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/5 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg text-sm font-bold bg-primary text-background-dark hover:bg-primary-dark transition-colors shadow-lg shadow-primary/20",children:g==="add"?"Criar Empresa":"Salvar Alteraes"})]})]})]})})]})},dre=["Afeganisto","frica do Sul","Albnia","Alemanha","Andorra","Angola","Antgua e Barbuda","Arbia Saudita","Arglia","Argentina","Armnia","Austrlia","ustria","Azerbaijo","Bahamas","Bangladexe","Barbados","Barm","Blgica","Belize","Benim","Bielorrssia","Bolvia","Bsnia e Herzegovina","Botsuana","Brasil","Brunei","Bulgria","Burquina Faso","Burundi","Buto","Cabo Verde","Camares","Camboja","Canad","Catar","Cazaquisto","Chade","Chile","China","Chipre","Colmbia","Comores","Congo","Coreia do Norte","Coreia do Sul","Costa do Marfim","Costa Rica","Crocia","Cuba","Dinamarca","Dominica","Egito","Emirados rabes Unidos","Equador","Eritreia","Eslovquia","Eslovnia","Espanha","Essuatni","Estnia","Etipia","Fiji","Filipinas","Finlndia","Frana","Gabo","Gmbia","Gana","Gergia","Granada","Grcia","Guatemala","Guiana","Guin","Guin Equatorial","Guin-Bissau","Haiti","Honduras","Hungria","Imen","Ilhas Marshall","Ilhas Salomo","ndia","Indonsia","Iro","Iraque","Irlanda","Islndia","Israel","Itlia","Jamaica","Japo","Jibuti","Jordnia","Kiribati","Kosovo","Koweit","Laos","Lesoto","Letnia","Lbano","Libria","Lbia","Listenstaine","Litunia","Luxemburgo","Macednia do Norte","Madagscar","Malsia","Malui","Maldivas","Mali","Malta","Marrocos","Maurcia","Mauritnia","Mxico","Mianmar","Micronsia","Moambique","Moldvia","Mnaco","Monglia","Montenegro","Nambia","Nauru","Nepal","Nicargua","Nger","Nigria","Noruega","Nova Zelndia","Om","Pases Baixos","Palau","Panam","Papua-Nova Guin","Paquisto","Paraguai","Peru","Polnia","Portugal","Qunia","Quirguisto","Reino Unido","Repblica Centro-Africana","Repblica Checa","Repblica Democrtica do Congo","Repblica Dominicana","Romnia","Ruanda","Rssia","Samoa","Santa Lcia","So Cristvo e Neves","So Marinho","So Tom e Prncipe","So Vicente e Granadinas","Senegal","Serra Leoa","Srvia","Seicheles","Singapura","Sria","Somlia","Sri Lanca","Sudo","Sudo do Sul","Sucia","Sua","Suriname","Tailndia","Tajiquisto","Tanznia","Timor-Leste","Togo","Tonga","Trindade e Tobago","Tunsia","Turcomenisto","Turquia","Tuvalu","Ucrnia","Uganda","Uruguai","Usbequisto","Vanuatu","Vaticano","Venezuela","Vietname","Zmbia","Zimbbue"],Cy=()=>{const[e]=JA(),t=Mn(),r=e.get("code"),n=!!r,[i,s]=w.useState(!0),[l,u]=w.useState([]),[f,m]=w.useState(null),[p,g]=w.useState([]),[y,b]=w.useState({adventure:"",date:"",time:"",clientName:"",clientEmail:"",clientPhone:"",clientNif:"",clientCity:"",clientCountry:"",adults:1,children:0,babies:0,paymentMethodId:"",notes:""}),[j,S]=w.useState([]);w.useEffect(()=>{(async()=>{try{s(!0);const{data:M}=await Se.from("adventures").select("*").eq("is_active",!0),L=(M||[]).map(X=>({id:X.id,name:X.name,priceAdult:X.price_adult,priceChild:X.price_child,priceBaby:X.price_baby,minCapacity:X.min_capacity,maxCapacity:X.max_capacity,highSeason:{start:X.high_season_start,end:X.high_season_end,times:X.high_season_times||[]},lowSeason:{start:X.low_season_start,end:X.low_season_end,times:X.low_season_times||[]}}));u(L);const V=await fR();if(g(V),n){const{data:X}=await Se.from("agencies").select("*").eq("code",r).eq("is_active",!0).single();X?m({id:X.id,name:X.name,code:X.code,email:X.email,nif:X.nif,phone:X.phone,contact:X.contact,fee:X.fee}):t("/book")}}catch(M){console.error("Error fetching data:",M)}finally{s(!1)}})()},[r,n,t]);const[_,E]=w.useState(0),[N,k]=w.useState(!1),[T,A]=w.useState(null);w.useEffect(()=>{if(y.adventure&&y.date){const q=l.find(M=>M.id===y.adventure);if(q){const M=new Date(y.date),L=new Date(q.highSeason.start),V=new Date(q.highSeason.end),X=M>=L&&M<=V;S(X?q.highSeason.times:q.lowSeason.times)}}else S([])},[y.adventure,y.date,l]),w.useEffect(()=>{const M=setTimeout(async()=>{if(!y.adventure||!y.date||!y.time){E(0),A(null);return}const L=l.find(V=>V.id===y.adventure);if(L){if(L.maxCapacity===null){A(null);return}try{k(!0),A(null);const{data:V,error:X}=await Se.from("bookings").select("adults, children, babies").eq("adventure_id",y.adventure).eq("date",y.date).eq("time",y.time).neq("status","Cancelada");if(X)throw X;const ce=(V||[]).reduce((H,se)=>H+(se.adults||0)+(se.children||0)+(se.babies||0),0);E(ce);const R=Number(y.adults)+Number(y.children)+Number(y.babies),G=L.maxCapacity-ce;G<=0?A("Este horrio est esgotado."):R>G&&A(`Apenas ${G} vagas disponveis para este horrio.`)}catch(V){console.error("Error checking availability:",V)}finally{k(!1)}}},500);return()=>clearTimeout(M)},[y.adventure,y.date,y.time,y.adults,y.children,y.babies,l]);const D=q=>{const{name:M,value:L}=q.target;b(V=>({...V,[M]:L}))},{showModal:I}=cT(),{showToast:W}=Nh(),Y=async q=>{if(q.preventDefault(),T){I({title:"Indisponibilidade",message:"Por favor, corrija os erros de disponibilidade antes de continuar.",type:"warning",confirmText:"Entendi"});return}try{const M=l.find(ce=>ce.id===y.adventure);let L=0;if(M){if(M.maxCapacity!==null){const{data:R}=await Se.from("bookings").select("adults, children, babies").eq("adventure_id",y.adventure).eq("date",y.date).eq("time",y.time).neq("status","Cancelada"),G=(R||[]).reduce((se,he)=>se+(he.adults||0)+(he.children||0)+(he.babies||0),0),H=Number(y.adults)+Number(y.children)+Number(y.babies);if(G+H>M.maxCapacity){A("Desculpe, as vagas acabaram de esgotar."),I({title:"Vagas Esgotadas",message:"Desculpe, as vagas para este horrio acabaram de esgotar.",type:"error",confirmText:"Escolher outro horrio"});return}}const ce=Number(y.adults)+Number(y.children)+Number(y.babies);if(M.minCapacity!==null&&ce<M.minCapacity){I({title:"Mnimo de Participantes",message:`Esta aventura requer um mnimo de ${M.minCapacity} participantes.`,type:"warning",confirmText:"Ajustar"});return}L=Number(y.adults)*M.priceAdult+Number(y.children)*M.priceChild+Number(y.babies)*M.priceBaby}const V={adventure_id:y.adventure,agency_id:n?f.id:null,client_name:y.clientName,client_email:y.clientEmail,client_phone:y.clientPhone,client_nif:y.clientNif,client_city:y.clientCity,client_country:y.clientCountry,date:y.date,time:y.time,adults:y.adults,children:y.children,babies:y.babies,payment_status:"Pendente",status:"Pendente",notes:y.notes,payment_method_id:y.paymentMethodId,total_amount:L},{error:X}=await Se.from("bookings").insert([V]);if(X)throw X;W("Reserva submetida com sucesso!","success"),t("/")}catch(M){console.error("Error submitting booking:",M),I({title:"Erro na Reserva",message:`Erro ao submeter reserva: ${M.message}`,type:"error"})}},re=Number(y.adults)+Number(y.children)+Number(y.babies),U=l.find(q=>q.id===y.adventure),P=U?Number(y.adults)*U.priceAdult+Number(y.children)*U.priceChild+Number(y.babies)*U.priceBaby:0,B="w-full px-4 py-2.5 bg-gray-50 dark:bg-[#102215] border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition-all placeholder-gray-400 dark:placeholder-gray-500",K="block text-xs font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-1.5";return i?d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):d.jsxs("div",{className:"max-w-3xl mx-auto animate-fade-in",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("button",{onClick:()=>t("/new-booking"),className:"text-sm text-gray-500 hover:text-gray-900 dark:hover:text-white flex items-center gap-1 mb-4 transition-colors",children:[d.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_back"}),"Voltar"]}),d.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white",children:n?"Nova Reserva (Parceiro)":"Nova Reserva"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Preencha os dados abaixo para confirmar a sua aventura."})]}),d.jsxs("form",{onSubmit:Y,className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-2xl p-8 shadow-sm space-y-8",children:[n&&f&&d.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/10 border border-purple-100 dark:border-purple-900/30 rounded-xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("span",{className:"material-symbols-outlined text-purple-600 dark:text-purple-400",children:"storefront"}),d.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Dados da Agncia"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Nome"}),d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:f.name})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Cdigo"}),d.jsx("p",{className:"font-mono font-medium text-gray-900 dark:text-white",children:f.code})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Email"}),d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:f.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"NIF"}),d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:f.nif})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Telefone"}),d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:f.phone})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Contato"}),d.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:f.contact})]})]})]}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"kayaking"}),"Detalhes da Aventura"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:K,children:"Aventura"}),d.jsxs("select",{name:"adventure",value:y.adventure,onChange:D,className:B,required:!0,children:[d.jsx("option",{value:"",children:"Selecione uma aventura..."}),l.map(q=>d.jsx("option",{value:q.id,children:q.name},q.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Data"}),d.jsx("input",{type:"date",name:"date",value:y.date,onChange:D,className:B,required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Hora"}),d.jsxs("select",{name:"time",value:y.time,onChange:D,className:`${B} ${T?"border-red-500 focus:ring-red-500":""}`,required:!0,disabled:!j.length,children:[d.jsx("option",{value:"",children:j.length?"Selecione uma hora...":"Selecione data/aventura"}),j.map(q=>d.jsx("option",{value:q,children:q},q))]}),N&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[d.jsx("span",{className:"w-3 h-3 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Verificando disponibilidade..."]}),T&&d.jsxs("p",{className:"text-xs text-red-500 font-bold mt-1 flex items-center gap-1",children:[d.jsx("span",{className:"material-symbols-outlined text-sm",children:"error"}),T]}),!T&&!N&&y.time&&d.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[d.jsx("span",{className:"material-symbols-outlined text-sm",children:"check_circle"}),"Horrio disponvel"]})]})]})]}),d.jsx("hr",{className:"border-gray-100 dark:border-white/5"}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"person"}),"Dados do Cliente"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"col-span-1 md:col-span-2",children:[d.jsx("label",{className:K,children:"Nome Completo"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"clientName",value:y.clientName,onChange:D,className:`${B} pr-10`,placeholder:"Ex: Joo Silva",required:!0}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"person"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"email",name:"clientEmail",value:y.clientEmail,onChange:D,className:`${B} pr-10`,placeholder:"Ex: joao@email.com",required:!0}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"email"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Telefone"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"tel",name:"clientPhone",value:y.clientPhone,onChange:D,className:`${B} pr-10`,placeholder:"Ex: 912 345 678",required:!0}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"phone"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"NIF (Opcional)"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"clientNif",value:y.clientNif,onChange:D,className:`${B} pr-10`,placeholder:"Ex: 123456789"}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"badge"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Cidade"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"clientCity",value:y.clientCity,onChange:D,className:`${B} pr-10`,placeholder:"Ex: Lisboa",required:!0}),d.jsx("span",{className:"material-symbols-outlined filled absolute right-3 top-1/2 -translate-y-1/2 text-lg text-gray-500 dark:text-gray-400",children:"location_city"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Pas"}),d.jsxs("select",{name:"clientCountry",value:y.clientCountry,onChange:D,className:B,required:!0,children:[d.jsx("option",{value:"",children:"Selecione o pas..."}),dre.map(q=>d.jsx("option",{value:q,children:q},q))]})]})]})]}),d.jsx("hr",{className:"border-gray-100 dark:border-white/5"}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"groups"}),"Participantes"]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"bg-gray-100 dark:bg-white/10 px-3 py-1 rounded-lg text-sm font-semibold text-gray-700 dark:text-white",children:["Total: ",re]}),P>0&&d.jsxs("div",{className:"bg-primary/10 dark:bg-primary/20 px-3 py-1 rounded-lg text-sm font-bold text-primary",children:["",P.toFixed(2)]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Adultos"}),d.jsx("input",{type:"number",name:"adults",min:"1",value:y.adults,onChange:D,className:B,required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Crianas (4-12)"}),d.jsx("input",{type:"number",name:"children",min:"0",value:y.children,onChange:D,className:B})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Bebs (<4)"}),d.jsx("input",{type:"number",name:"babies",min:"0",value:y.babies,onChange:D,className:B})]})]})]}),d.jsx("hr",{className:"border-gray-100 dark:border-white/5"}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[d.jsx("span",{className:"material-symbols-outlined text-primary",children:"payments"}),"Pagamento e Observaes"]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Mtodo de Pagamento"}),d.jsxs("select",{name:"paymentMethodId",value:y.paymentMethodId,onChange:D,className:B,required:!0,children:[d.jsx("option",{value:"",children:"Selecione o mtodo de pagamento..."}),p.map(q=>d.jsx("option",{value:q.id,children:q.name},q.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:K,children:"Observaes"}),d.jsx("textarea",{name:"notes",value:y.notes,onChange:D,className:B,rows:3,placeholder:"Alguma restrio alimentar ou pedido especial?"})]})]})]}),d.jsx("div",{className:"flex justify-end pt-4",children:d.jsx("button",{type:"submit",disabled:!!T||N,className:`px-8 py-3 font-bold rounded-xl shadow-lg transition-all transform hover:scale-[1.02] ${T||N?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary hover:bg-primary-dark text-background-dark shadow-primary/20"}`,children:"Confirmar Reserva"})})]})]})},fre=()=>{const e=Mn(),[t,r]=w.useState(""),[n,i]=w.useState(""),[s,l]=w.useState(!1),u=()=>{e("/book/private")},f=async m=>{m.preventDefault(),l(!0),i("");try{const{data:p}=await Se.from("agencies").select("code").eq("code",t.trim()).eq("is_active",!0).single();p?e(`/book/agency?code=${p.code}`):i("Cdigo de agncia invlido. Por favor verifique e tente novamente.")}catch{i("Cdigo de agncia invlido. Por favor verifique e tente novamente.")}finally{l(!1)}};return d.jsxs("div",{className:"max-w-4xl mx-auto animate-fade-in",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"Bem-vindo  NaturisNor"}),d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Selecione o tipo de reserva que deseja efetuar."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{onClick:u,className:"group relative bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-2xl p-8 shadow-sm hover:shadow-xl hover:border-primary/50 transition-all cursor-pointer flex flex-col items-center text-center gap-6",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:d.jsx("span",{className:"material-symbols-outlined text-4xl text-blue-600 dark:text-blue-400",children:"person"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Cliente Particular"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Para reservas individuais, famlias ou grupos de amigos."})]}),d.jsx("button",{className:"mt-auto px-6 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-black font-bold rounded-lg group-hover:bg-primary group-hover:text-white transition-colors w-full",children:"Reservar Agora"})]}),d.jsxs("div",{className:"bg-white dark:bg-surface-dark border border-gray-200 dark:border-surface-border rounded-2xl p-8 shadow-sm flex flex-col items-center text-center gap-6",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center",children:d.jsx("span",{className:"material-symbols-outlined text-4xl text-purple-600 dark:text-purple-400",children:"storefront"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Agncia / Parceiro"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"rea exclusiva para parceiros registados."}),d.jsxs("form",{onSubmit:f,className:"w-full",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Insira o Cdigo da Agncia",value:t,onChange:m=>{r(m.target.value),i("")},className:`w-full px-4 py-3 rounded-lg border ${n?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-purple-500"} bg-gray-50 dark:bg-black/20 text-gray-900 dark:text-white outline-none focus:ring-2 transition-all`,disabled:s}),d.jsx("button",{type:"submit",className:"absolute right-2 top-1.5 p-1.5 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors disabled:opacity-50",disabled:s,children:s?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):d.jsx("span",{className:"material-symbols-outlined text-xl",children:"arrow_forward"})})]}),n&&d.jsx("p",{className:"text-red-500 text-xs mt-2 text-left",children:n})]})]})]})]})]})};function hre(){return d.jsx(W$,{children:d.jsx(Q$,{children:d.jsx(Z$,{children:d.jsx(p5,{children:d.jsxs(G4,{children:[d.jsx($t,{path:"/login",element:d.jsx(ere,{})}),d.jsx($t,{path:"/new-booking",element:d.jsx(fre,{})}),d.jsx($t,{path:"/book",element:d.jsx(Cy,{})}),d.jsx($t,{path:"/book/private",element:d.jsx(Cy,{})}),d.jsx($t,{path:"/book/agency",element:d.jsx(Cy,{})}),d.jsxs($t,{element:d.jsx(rz,{children:d.jsx(tz,{})}),children:[d.jsx($t,{path:"/",element:d.jsx(dee,{})}),d.jsx($t,{path:"/bookings",element:d.jsx(Qte,{})}),d.jsx($t,{path:"/bookings/:id",element:d.jsx(hee,{})}),d.jsx($t,{path:"/adventures",element:d.jsx(ore,{})}),d.jsx($t,{path:"/calendar",element:d.jsx(Zte,{})}),d.jsx($t,{path:"/staff",element:d.jsx(sre,{})}),d.jsx($t,{path:"/agencies",element:d.jsx(tre,{})}),d.jsx($t,{path:"/payment-methods",element:d.jsx(lre,{})}),d.jsx($t,{path:"/company-settings",element:d.jsx(cre,{})}),d.jsx($t,{path:"/companies",element:d.jsx(ure,{})}),d.jsx($t,{path:"/analytics",element:d.jsx(Xte,{})})]}),d.jsx($t,{path:"*",element:d.jsx(Py,{to:"/",replace:!0})})]})})})})})}const xR=document.getElementById("root");if(!xR)throw new Error("Could not find root element to mount to");const mre=XI.createRoot(xR);mre.render(d.jsx(vf.StrictMode,{children:d.jsx(hre,{})}));
